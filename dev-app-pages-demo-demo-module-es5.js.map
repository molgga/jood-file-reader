{"version":3,"sources":["webpack:///node_modules/exifreader/src/tag-names-common.js","webpack:///node_modules/exifreader/src/tag-names-gps-ifd.js","webpack:///node_modules/exifreader/src/exif-reader.js","webpack:///projects/packages/src/utils/toBuffer.ts","webpack:///node_modules/exifreader/src/image-header-jpeg.js","webpack:///projects/dev/src/app/pages/demo/demo.module.ts","webpack:///projects/dev/src/app/pages/demo/demo.routing.ts","webpack:///node_modules/exifreader/src/file-tags.js","webpack:///node_modules/exifreader/src/tag-names-exif-ifd.js","webpack:///projects/dev/src/app/pages/demo/read-stream/read-stream.component.html","webpack:///projects/packages/src/blob-image/BlobImageResize.ts","webpack:///node_modules/exifreader/src/constants.js","webpack:///node_modules/base64-js/index.js","webpack:///projects/packages/src/blob-image/index.ts","webpack:///node_modules/exifreader/src/image-header-png.js","webpack:///projects/packages/src/blob-image/types.ts","webpack:///node_modules/exifreader/src/tag-names-mpf-ifd.js","webpack:///node_modules/exifreader/src/icc-tags.js","webpack:///projects/packages/src/read-stream/FileReadStream.ts","webpack:///node_modules/exifreader/src/image-header.js","webpack:///node_modules/exifreader/src/image-header-heic.js","webpack:///node_modules/exifreader/src/png-file-tags.js","webpack:///node_modules/exifreader/src/tag-names-0th-ifd.js","webpack:///node_modules/exifreader/src/tag-names-interoperability-ifd.js","webpack:///node_modules/exifreader/src/text-decoder.js","webpack:///projects/packages/src/read-stream/index.ts","webpack:///projects/packages/src/read-stream/types.ts","webpack:///node_modules/exifreader/src/iptc-tags.js","webpack:///projects/dev/src/app/pages/demo/blob-image/blob-image.component.scss","webpack:///node_modules/exifreader/src/dom-parser.js","webpack:///node_modules/exifreader/src/dataview.js","webpack:///node_modules/exifreader/src/tag-names-utils.js","webpack:///node_modules/exifreader/src/tags.js","webpack:///projects/dev/src/app/pages/demo/blob-image/blob-image.component.ts","webpack:///node_modules/exifreader/src/errors.js","webpack:///node_modules/ieee754/index.js","webpack:///node_modules/exifreader/src/icc-tag-names.js","webpack:///node_modules/exifreader/src/image-header-tiff.js","webpack:///node_modules/exifreader/src/tag-names.js","webpack:///node_modules/exifreader/src/tag-decoder.js","webpack:///projects/dev/src/app/pages/demo/read-stream/read-stream.component.ts","webpack:///node_modules/exifreader/src/byte-order.js","webpack:///node_modules/exifreader/src/xmp-tag-names.js","webpack:///projects/packages/src/public-api.ts","webpack:///node_modules/exifreader/src/thumbnail.js","webpack:///node_modules/exifreader/src/types.js","webpack:///projects/dev/src/app/modules/example/common/common.module.ts","webpack:///node_modules/exifreader/src/utils.js","webpack:///node_modules/exifreader/src/image-header-webp.js","webpack:///node_modules/buffer/index.js","webpack:///node_modules/exifreader/src/iptc-tag-names.js","webpack:///projects/dev/src/app/pages/demo/read-stream/read-stream.component.scss","webpack:///node_modules/exifreader/src/xmp-tags.js","webpack:///projects/dev/src/app/pages/demo/blob-image/blob-image.component.html"],"names":["value","ref","join","values","map","numerator","denominator","num","test","status","mode","load","loadView","errors","data","options","expanded","isNodeBuffer","Uint8Array","buffer","getDataView","Buffer","isBuffer","error","DataView","dataView","foundMetaData","tags","parseAppMarkers","fileDataOffset","tiffHeaderOffset","iptcDataOffset","xmpChunks","iccChunks","mpfDataOffset","pngHeaderOffset","USE_JPEG","USE_FILE","hasFileData","readTags","read","file","USE_EXIF","hasExifData","Thumbnail","exif","addGpsGroup","USE_TIFF","USE_IPTC","hasIptcData","readIptcTags","iptc","USE_XMP","hasXmpData","readXmpTags","xmp","USE_ICC","hasIccData","readIccTags","offset","length","chunkNumber","chunksTotal","icc","USE_WEBP","USE_MPF","hasMpfData","readMpfTags","readMpf","mpf","USE_PNG","USE_PNG_FILE","hasPngFileData","pngFile","thumbnail","USE_THUMBNAIL","get","MetadataMissingError","undefined","GPSLatitude","GPSLatitudeRef","gps","Latitude","GPSLongitude","GPSLongitudeRef","Longitude","GPSAltitude","GPSAltitudeRef","Altitude","Array","isArray","iccDataOffsets","pngFileDataOffset","toBufferByBlob","blob","Promise","resolve","reject","reader","FileReader","onload","onerror","from","result","err","evt","readAsArrayBuffer","isJpegFile","findJpegOffsets","MIN_JPEG_DATA_BUFFER_LENGTH","JPEG_ID","JPEG_ID_SIZE","APP_ID_OFFSET","APP_MARKER_SIZE","TIFF_HEADER_OFFSET","IPTC_DATA_OFFSET","XMP_DATA_OFFSET","XMP_EXTENDED_DATA_OFFSET","APP2_ICC_DATA_OFFSET","MPF_DATA_OFFSET","APP2_ICC_IDENTIFIER","ICC_CHUNK_NUMBER_OFFSET","ICC_TOTAL_CHUNKS_OFFSET","APP2_MPF_IDENTIFIER","SOF0_MARKER","SOF2_MARKER","DHT_MARKER","DQT_MARKER","DRI_MARKER","SOS_MARKER","APP0_MARKER","APP1_MARKER","APP2_MARKER","APP13_MARKER","APP15_MARKER","COMMENT_MARKER","APP1_EXIF_IDENTIFIER","APP1_XMP_IDENTIFIER","APP1_XMP_EXTENDED_IDENTIFIER","APP13_IPTC_IDENTIFIER","byteLength","getUint16","appMarkerPosition","fieldLength","sof0DataOffset","sof2DataOffset","isSOF0Marker","isSOF2Marker","isApp1ExifMarker","isApp1XmpMarker","push","getXmpChunkDetails","isApp1ExtendedXmpMarker","getExtendedXmpChunkDetails","isApp13PhotoshopMarker","isApp2ICCMarker","iccDataOffset","iccDataLength","iccChunkNumber","getUint8","iccChunksTotal","isApp2MPFMarker","isAppMarker","hasAppMarkers","markerIdLength","isXmpIdentifier","isExtendedXmpIdentifier","dataOffset","appMarker","PageModule","imports","declarations","routes","path","children","component","RoutingModule","forChild","exports","getLength","numberOfColorComponents","getNumberOfColorComponents","getDataPrecision","getImageHeight","getImageWidth","getSubsampling","getShortAt","OFFSET","SIZE","getByteAt","description","components","i","componentOffset","getComponentIds","getSamplingType","ids","compontent","types","Math","round","name","character","pow","sqrt","toFixed","charCode","String","fromCharCode","x","y","focalLengths","BlobImageResize","config","expectWidth","expectHeight","quality","resizeType","SCALE","expectContentType","fillBgColor","applyOrientation","maxWidth","maxHeight","forceContentType","sw","sh","getMaxSize","dx","dy","dw","dh","isLandscape","min","floor","mw","mh","contentRatio","expectRatio","SCALE_STRETCH","FIXED","URL","revokeObjectURL","blobURL","imageWidth","domImage","naturalWidth","imageHeight","naturalHeight","draw","orientation","Orientation","console","drawBound","COVER","getResizeToCover","COVER_STRETCH","getResizeToCoverStretch","getResizeToScaleStretch","getResizeToScale","getResizeToFixed","parseDrawMetadata","parseDrawBound","tx","ty","contentType","type","canvas","domCanvas","context","domCanvasContext","width","height","fillStyle","fillRect","translate","scale","rotate","PI","drawImage","detectedOrientation","toBlob","onResized","bind","promiseReject","getState","Error","resizeBlob","promiseResolve","document","createElement","getContext","Image","onImageLoaded","onImageError","promise","createObjectURL","src","USE_HEIC","toByteArray","fromByteArray","lookup","revLookup","Arr","code","len","charCodeAt","getLens","b64","validLen","indexOf","placeHoldersLen","lens","_byteLength","tmp","arr","curByte","tripletToBase64","encodeChunk","uint8","start","end","output","extraBytes","parts","maxChunkLength","len2","isPngFile","findPngOffsets","PNG_ID","PNG_CHUNK_LENGTH_SIZE","PNG_CHUNK_TYPE_SIZE","PNG_CHUNK_LENGTH_OFFSET","PNG_CHUNK_TYPE_OFFSET","PNG_CHUNK_DATA_OFFSET","PNG_XMP_PREFIX","PNG_CRC_SIZE","offsets","isPngImageHeaderChunk","isPngXmpChunk","getPngXmpDataOffset","getUint32","PNG_CHUNK_TYPE_IMAGE_HEADER","PNG_CHUNK_TYPE_INTERNATIONAL_TEXT","COMPRESSION_FLAG_SIZE","COMPRESSION_METHOD_SIZE","numberOfNullSeparators","ResizeType","PROFILE_HEADER_LENGTH","ICC_TAG_COUNT_OFFSET","ICC_SIGNATURE","TAG_TYPE_DESC","TAG_TYPE_MULTI_LOCALIZED_UNICODE_TYPE","TAG_TYPE_TEXT","TAG_TYPE_SIGNATURE","TAG_TABLE_SINGLE_TAG_DATA","iccData","totalIccProfileLength","reduce","sum","iccBinaryData","getBuffer","iccDataChunk","find","slice","chunkData","set","parseTags","iccDoesNotHaveTagCount","hasTagsData","tagHeaderOffset","iccProfileKeys","Object","keys","profileEntry","parseInt","signature","sliceToString","tagCount","tagSignature","tagOffset","tagSize","tagType","tagValueSize","val","addTag","numRecords","recordSize","recordNum","languageCode","countryCode","textLength","textOffset","text","valObj","valIndex","apply","FileReadStream","readStarted","readOffset","readOffsetNext","readCurrent","readStateAbort","buffers","readFile","onReaderLoaded","onReaderError","subjectState","chunkSize","responseType","BLOB","readChunkSize","stateChanged","next","resultReject","maxSize","size","resultResolve","expectNext","sliceBlob","CHANGE","state","RESOLVE","readPromiseResolve","reason","REJECT","readPromiseReject","readPromise","asObservable","lastModified","Date","now","fileName","fileType","fileSize","fileLastModified","total","readed","Blob","BUFFER","abort","ABORT","isTiffFile","findTiffOffsets","isHeicFile","findHeicOffsets","isWebpFile","findOffsets","HEIC_ID","HEIC_ID_OFFSET","HEIC_MAJOR_BRANDS","HEIC_MAJOR_BRAND_LENGTH","heicMajorBrand","findMetaAtom","metaOffset","metaLength","metaEndOffset","findMetaItems","exifItemOffset","ilocOffset","colrOffset","exifOffset","findExifOffset","findIccChunks","ATOM_LENGTH_SIZE","ATOM_TYPE_SIZE","ATOM_MIN_LENGTH","ATOM_TYPE_OFFSET","atomLength","getAtomLength","atomType","ATOM_EXTENDED_SIZE_LOW_OFFSET","extendsToEndOfFile","hasExtendedSize","hasEmptyHighBits","ATOM_EXTENDED_SIZE_OFFSET","STRING_SIZE","ITEM_INDEX_REL_OFFSET","itemName","EXIF_ITEM_OFFSET_SIZE","ILOC_DATA_OFFSET","EXIF_POINTER_OFFSET","EXIF_POINTER_SIZE","EXIF_PREFIX_LENGTH_OFFSET","ILOC_ITEM_SIZE","exifItemIndex","itemIndex","exifPointer","prefixLength","ITEM_TYPE_OFFSET","ITEM_TYPE_SIZE","ITEM_CONTENT_OFFSET","colorType","getBitDepth","getColorType","getCompression","getFilter","getInterlace","getLongAt","COLOR_TYPES","INTERLACE_TYPES","formats","sample","TextDecoder","FileReadEventType","FileReadResponseType","BYTES_8BIM","BYTES_8BIM_SIZE","RESOURCE_BLOCK_HEADER_SIZE","NAA_RESOURCE_BLOCK_TYPE","TAG_HEADER_SIZE","getNaaResourceBlock","naaBlock","newDataOffset","resourceBlock","getResourceBlock","isNaaResourceBlock","getBlockPadding","RESOURCE_BLOCK_SIZE_OFFSET","encoding","endOfBlockOffset","readTag","tag","id","TAG_CODE_OFFSET","TAG_SIZE_OFFSET","leadByteIsMissing","tagCode","tagValue","getTagValue","getTagName","getTagDescription","tagIsRepeatable","tagContainsEncoding","TAG_LEAD_BYTE","valueIndex","tagIsName","hasDynamicName","hasDescriptionProperty","tagValueIsText","decode","DOMParser","eval","bufferTypeIsUnsupported","readUInt8","littleEndian","readUInt16LE","readUInt16BE","readUInt32LE","readUInt32BE","readInt32LE","readInt32BE","getStringValue","getEncodedString","getCalculatedGpsValue","EXIF_IFD_POINTER_KEY","GPS_INFO_IFD_POINTER_KEY","INTEROPERABILITY_IFD_POINTER_KEY","getTagValueAt","getAsciiAt","getRationalAt","getUndefinedAt","getSlongAt","getSrationalAt","getIfdPointerAt","byteOrder","getByteOrder","read0thIfd","readExifIfd","readGpsIfd","readInteroperabilityIfd","readIfd","get0thIfdOffset","addMpfImages","ENTRY_SIZE","images","ceil","attributes","getImageNumberValue","getTypeSize","getImageFlags","getImageFormat","getImageType","imageSize","imageOffset","isFirstIndividualImage","dependentImage1EntryNumber","dependentImage2EntryNumber","image","entries","LITTLE_ENDIAN","flags","flagsDescription","imageFormat","descriptions","ifdType","FIELD_COUNT_SIZE","FIELD_SIZE","numberOfFields","getNumberOfFields","fieldIndex","nextIfdOffset","TAG_CODE_IPTC_NAA","TAG_TYPE_OFFSET","TAG_COUNT_OFFSET","TAG_VALUE_OFFSET","typeSizes","tagValueFitsInOffsetSlot","tagValueOffset","tagValueFitsInDataView","forceByteType","tagTypes","splitNullSeparatedAsciiString","decodeAsciiValue","tagName","tagDescription","getDescriptionFromTagValue","count","getAsciiValue","string","j","asciiValue","decodeURIComponent","escape","BlobImageComponent","testWidth","testHeight","testQuality","testContentType","testFillBgColor","testApplyOrientation","optionWidths","a","b","index","label","toString","optionHeights","optionQualities","parseFloat","demoList","title","info","target","files","resizeStart","infos","originalBlob","refCanvasList","demoCanvasRefs","toArray","demo","nativeElement","drawResizeDemo","resizeWidth","resizeHeight","resizer","create","resizeResult","drawToCanvas","resizeCanvas","log","selector","template","message","stack","prototype","isLE","mLen","nBytes","e","m","eLen","eMax","eBias","nBits","d","s","NaN","Infinity","write","c","rt","abs","isNaN","LN2","iccTags","iccProfile","toCompany","toLowerCase","parseDate","toISOString","year","month","day","hours","minutes","seconds","UTC","MIN_TIFF_DATA_BUFFER_LENGTH","hasTiffMarker","TIFF_ID","TIFF_ID_OFFSET","TIFF_FILE_HEADER_OFFSET","tagNames0thExifIfds","Decoder","stringValue","ReadStreamComponent","optionChunks","optionResponseTypes","testChunk","testResponseType","changeStack","changeStackCount","changeStackDisplayMax","byte","kb","mb","readStart","destroy","observeState","subscribe","shift","BIG_ENDIAN","calculateGPSValue","split","degreesString","minutesString","degrees","charAt","Number","COMPRESSION_JPEG","thumbnailTags","hasJpegThumbnail","JPEGInterchangeFormat","JPEGInterchangeFormatLength","Compression","includes","charArray","getInt32","typeName","ExampleCommonModule","getStringFromDataView","chars","getStringValueFromArray","getUnicodeStringFromDataView","getCharacterArray","objectAssign","arguments","property","deferInit","object","key","initializer","initialized","defineProperty","configurable","enumerable","writable","getBase64Image","btoa","call","RIFF_ID_OFFSET","RIFF_ID","WEBP_MARKER_OFFSET","WEBP_MARKER","SUB_CHUNK_START_OFFSET","CHUNK_SIZE_OFFSET","EXIF_IDENTIFIER","CHUNK_HEADER_SIZE","chunkId","base64","ieee754","customInspectSymbol","Symbol","SlowBuffer","INSPECT_MAX_BYTES","K_MAX_LENGTH","kMaxLength","TYPED_ARRAY_SUPPORT","typedArraySupport","proto","foo","setPrototypeOf","byteOffset","createBuffer","RangeError","buf","arg","encodingOrOffset","TypeError","allocUnsafe","poolSize","fromString","ArrayBuffer","isView","fromArrayView","isInstance","fromArrayBuffer","SharedArrayBuffer","valueOf","fromObject","toPrimitive","assertSize","alloc","fill","checked","allocUnsafeSlow","isEncoding","actual","fromArrayLike","array","arrayView","copy","obj","numberIsNaN","_isBuffer","compare","concat","list","pos","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","n","swap16","swap32","swap64","toLocaleString","equals","inspect","str","max","replace","trim","thisStart","thisEnd","thisCopy","targetCopy","bidirectionalIndexOf","dir","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","foundIndex","found","hexWrite","remaining","strLen","parsed","substr","utf8Write","blitBuffer","asciiWrite","asciiToBytes","base64Write","ucs2Write","utf16leToBytes","isFinite","toJSON","_arr","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","MAX_ARGUMENTS_LENGTH","codePoints","ret","out","hexSliceLookupTable","bytes","newBuf","subarray","checkOffset","ext","readUintLE","readUIntLE","noAssert","mul","readUintBE","readUIntBE","readUint8","readUint16LE","readUint16BE","readUint32LE","readUint32BE","readBigUInt64LE","defineBigIntMethod","validateNumber","first","last","boundsError","lo","hi","BigInt","readBigUInt64BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","checkInt","writeUintLE","writeUIntLE","maxBytes","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","wrtBigUInt64LE","checkIntBI","wrtBigUInt64BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","checkIEEE754","writeFloat","writeFloatLE","writeFloatBE","writeDouble","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","E","sym","getMessage","Base","range","input","msg","received","isInteger","addNumericalSeparator","checkBounds","ERR_OUT_OF_RANGE","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","INVALID_BASE64_RE","base64clean","units","leadSurrogate","byteArray","dst","constructor","alphabet","table","i16","fn","BufferBigIntNotDefined","getCreationDate","getCreationTime","getEncodingName","character0","character1","bits","duration","intValue","formatVersions","objectDataPreviewFileFormat","date","time","parsedTime","chunks","extractCompleteChunks","completeChunks","combineChunks","totalLength","chunk","combinedChunks","chunkDataView","doc","getDocument","rdf","getRDF","parseXMPObject","convertToObject","Parser","warn","domParser","xmlString","parseFromString","trimXmlSource","documentElement","nodeName","textContent","xmlSource","node","childNodes","isTopNode","getChildNodes","hasTextOnlyContent","getTextValue","getElementsFromNodes","elements","nodes","nodeValue","forEach","isElement","nodeElement","getElementFromNode","getAttributes","element","xmpObject","parseNodeAttributesAsTags","parseNodeChildrenAsTags","isTagAttribute","getLocalName","getDescription","isNamespaceDefinition","getDescriptionOfArray","getDescriptionOfObject","item","getClearTextKey","parseNodeAsTag","hasNestedSimpleRdfDescription","parseNodeAsSimpleRdfDescription","hasNestedStructureRdfDescription","parseNodeAsStructureRdfDescription","isCompactStructure","parseNodeAsCompactStructure","parseNodeAsArray","parseNodeAsSimpleValue","parseNodeAttributes","parseNodeChildrenAsAttributes","parseRdfValue","getURIValue","getArrayChild","items","parseArrayValue","hasNestedArrayValue"],"mappings":"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","file":"dev-app-pages-demo-demo-module-es5.js","sourcesContent":["/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport default {\n    'LightSource': (value) => {\n        if (value === 1) {\n            return 'Daylight';\n        } else if (value === 2) {\n            return 'Fluorescent';\n        } else if (value === 3) {\n            return 'Tungsten (incandescent light)';\n        } else if (value === 4) {\n            return 'Flash';\n        } else if (value === 9) {\n            return 'Fine weather';\n        } else if (value === 10) {\n            return 'Cloudy weather';\n        } else if (value === 11) {\n            return 'Shade';\n        } else if (value === 12) {\n            return 'Daylight fluorescent (D 5700 – 7100K)';\n        } else if (value === 13) {\n            return 'Day white fluorescent (N 4600 – 5400K)';\n        } else if (value === 14) {\n            return 'Cool white fluorescent (W 3900 – 4500K)';\n        } else if (value === 15) {\n            return 'White fluorescent (WW 3200 – 3700K)';\n        } else if (value === 17) {\n            return 'Standard light A';\n        } else if (value === 18) {\n            return 'Standard light B';\n        } else if (value === 19) {\n            return 'Standard light C';\n        } else if (value === 20) {\n            return 'D55';\n        } else if (value === 21) {\n            return 'D65';\n        } else if (value === 22) {\n            return 'D75';\n        } else if (value === 23) {\n            return 'D50';\n        } else if (value === 24) {\n            return 'ISO studio tungsten';\n        } else if (value === 255) {\n            return 'Other light source';\n        }\n        return 'Unknown';\n    }\n};\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getEncodedString, getCalculatedGpsValue} from './tag-names-utils.js';\n\nexport default {\n    0x0000: {\n        'name': 'GPSVersionID',\n        'description': (value) => {\n            if (value[0] === 2 && value[1] === 2 && value[2] === 0 && value[3] === 0) {\n                return 'Version 2.2';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0001: {\n        'name': 'GPSLatitudeRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'N') {\n                return 'North latitude';\n            } else if (ref === 'S') {\n                return 'South latitude';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0002: {\n        'name': 'GPSLatitude',\n        'description': getCalculatedGpsValue\n    },\n    0x0003: {\n        'name': 'GPSLongitudeRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'E') {\n                return 'East longitude';\n            } else if (ref === 'W') {\n                return 'West longitude';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0004: {\n        'name': 'GPSLongitude',\n        'description': getCalculatedGpsValue\n    },\n    0x0005: {\n        'name': 'GPSAltitudeRef',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Sea level';\n            } else if (value === 1) {\n                return 'Sea level reference (negative value)';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0006: {\n        'name': 'GPSAltitude',\n        'description': (value) => {\n            return (value[0] / value[1]) + ' m';\n        }\n    },\n    0x0007: {\n        'name': 'GPSTimeStamp',\n        'description': (values) => {\n            return values.map(([numerator, denominator]) => {\n                const num = numerator / denominator;\n                if (/^\\d(\\.|$)/.test(`${num}`)) {\n                    return `0${num}`;\n                }\n                return num;\n            }).join(':');\n        }\n    },\n    0x0008: 'GPSSatellites',\n    0x0009: {\n        'name': 'GPSStatus',\n        'description': (value) => {\n            const status = value.join('');\n            if (status === 'A') {\n                return 'Measurement in progress';\n            } else if (status === 'V') {\n                return 'Measurement Interoperability';\n            }\n            return 'Unknown';\n        }\n    },\n    0x000a: {\n        'name': 'GPSMeasureMode',\n        'description': (value) => {\n            const mode = value.join('');\n            if (mode === '2') {\n                return '2-dimensional measurement';\n            } else if (mode === '3') {\n                return '3-dimensional measurement';\n            }\n            return 'Unknown';\n        }\n    },\n    0x000b: 'GPSDOP',\n    0x000c: {\n        'name': 'GPSSpeedRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'K') {\n                return 'Kilometers per hour';\n            } else if (ref === 'M') {\n                return 'Miles per hour';\n            } else if (ref === 'N') {\n                return 'Knots';\n            }\n            return 'Unknown';\n        }\n    },\n    0x000d: 'GPSSpeed',\n    0x000e: {\n        'name': 'GPSTrackRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'T') {\n                return 'True direction';\n            } else if (ref === 'M') {\n                return 'Magnetic direction';\n            }\n            return 'Unknown';\n        }\n    },\n    0x000f: 'GPSTrack',\n    0x0010: {\n        'name': 'GPSImgDirectionRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'T') {\n                return 'True direction';\n            } else if (ref === 'M') {\n                return 'Magnetic direction';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0011: 'GPSImgDirection',\n    0x0012: 'GPSMapDatum',\n    0x0013: {\n        'name': 'GPSDestLatitudeRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'N') {\n                return 'North latitude';\n            } else if (ref === 'S') {\n                return 'South latitude';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0014: {\n        'name': 'GPSDestLatitude',\n        'description': (value) => {\n            return (value[0][0] / value[0][1]) + (value[1][0] / value[1][1]) / 60 + (value[2][0] / value[2][1]) / 3600;\n        }\n    },\n    0x0015: {\n        'name': 'GPSDestLongitudeRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'E') {\n                return 'East longitude';\n            } else if (ref === 'W') {\n                return 'West longitude';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0016: {\n        'name': 'GPSDestLongitude',\n        'description': (value) => {\n            return (value[0][0] / value[0][1]) + (value[1][0] / value[1][1]) / 60 + (value[2][0] / value[2][1]) / 3600;\n        }\n    },\n    0x0017: {\n        'name': 'GPSDestBearingRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'T') {\n                return 'True direction';\n            } else if (ref === 'M') {\n                return 'Magnetic direction';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0018: 'GPSDestBearing',\n    0x0019: {\n        'name': 'GPSDestDistanceRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'K') {\n                return 'Kilometers';\n            } else if (ref === 'M') {\n                return 'Miles';\n            } else if (ref === 'N') {\n                return 'Knots';\n            }\n            return 'Unknown';\n        }\n    },\n    0x001a: 'GPSDestDistance',\n    0x001b: {\n        'name': 'GPSProcessingMethod',\n        'description': getEncodedString\n    },\n    0x001c: {\n        'name': 'GPSAreaInformation',\n        'description': getEncodedString\n    },\n    0x001d: 'GPSDateStamp',\n    0x001e: {\n        'name': 'GPSDifferential',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Measurement without differential correction';\n            } else if (value === 1) {\n                return 'Differential correction applied';\n            }\n            return 'Unknown';\n        }\n    },\n    0x001f: 'GPSHPositioningError'\n};\n","/**\n * ExifReader\n * http://github.com/mattiasw/exifreader\n * Copyright (C) 2011-2020  Mattias Wallander <mattias@wallander.eu>\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\n\nimport {objectAssign} from './utils.js';\nimport DataViewWrapper from './dataview.js';\nimport Constants from './constants.js';\nimport {getStringValueFromArray} from './utils.js';\nimport {getCalculatedGpsValue} from './tag-names-utils.js';\nimport ImageHeader from './image-header.js';\nimport Tags from './tags.js';\nimport FileTags from './file-tags.js';\nimport IptcTags from './iptc-tags.js';\nimport XmpTags from './xmp-tags.js';\nimport IccTags from './icc-tags.js';\nimport PngFileTags from './png-file-tags.js';\nimport Thumbnail from './thumbnail.js';\nimport exifErrors from './errors.js';\n\nexport default {\n    load,\n    loadView,\n    errors: exifErrors,\n};\n\nexport const errors = exifErrors;\n\nexport function load(data, options = {expanded: false}) {\n    if (isNodeBuffer(data)) {\n        // File data read in Node can share the underlying buffer with other\n        // data. Therefore it's safest to get a new one to avoid weird bugs.\n        data = (new Uint8Array(data)).buffer;\n    }\n    return loadView(getDataView(data), options);\n}\n\nfunction isNodeBuffer(data) {\n    try {\n        return Buffer.isBuffer(data); // eslint-disable-line no-undef\n    } catch (error) {\n        return false;\n    }\n}\n\nfunction getDataView(data) {\n    try {\n        return new DataView(data);\n    } catch (error) {\n        return new DataViewWrapper(data);\n    }\n}\n\nexport function loadView(dataView, options = {expanded: false}) {\n    let foundMetaData = false;\n    let tags = {};\n\n    const {\n        fileDataOffset,\n        tiffHeaderOffset,\n        iptcDataOffset,\n        xmpChunks,\n        iccChunks,\n        mpfDataOffset,\n        pngHeaderOffset\n    } = ImageHeader.parseAppMarkers(dataView);\n\n    if (Constants.USE_JPEG && Constants.USE_FILE && hasFileData(fileDataOffset)) {\n        foundMetaData = true;\n        const readTags = FileTags.read(dataView, fileDataOffset);\n        if (options.expanded) {\n            tags.file = readTags;\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n    }\n\n    if (Constants.USE_EXIF && hasExifData(tiffHeaderOffset)) {\n        foundMetaData = true;\n        const readTags = Tags.read(dataView, tiffHeaderOffset);\n        if (readTags.Thumbnail) {\n            tags.Thumbnail = readTags.Thumbnail;\n            delete readTags.Thumbnail;\n        }\n\n        if (options.expanded) {\n            tags.exif = readTags;\n            addGpsGroup(tags);\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n\n        if (Constants.USE_TIFF && Constants.USE_IPTC && readTags['IPTC-NAA'] && !hasIptcData(iptcDataOffset)) {\n            const readIptcTags = IptcTags.read(readTags['IPTC-NAA'].value, 0);\n            if (options.expanded) {\n                tags.iptc = readIptcTags;\n            } else {\n                tags = objectAssign({}, tags, readIptcTags);\n            }\n        }\n\n        if (Constants.USE_TIFF && Constants.USE_XMP && readTags['ApplicationNotes'] && !hasXmpData(xmpChunks)) {\n            const readXmpTags = XmpTags.read(getStringValueFromArray(readTags['ApplicationNotes'].value));\n            if (options.expanded) {\n                tags.xmp = readXmpTags;\n            } else {\n                tags = objectAssign({}, tags, readXmpTags);\n            }\n        }\n\n        if (Constants.USE_TIFF && Constants.USE_ICC && readTags['ICC_Profile'] && !hasIccData(iccChunks)) {\n            const readIccTags = IccTags.read(\n                readTags['ICC_Profile'].value,\n                [{\n                    offset: 0,\n                    length: readTags['ICC_Profile'].value.length,\n                    chunkNumber: 1,\n                    chunksTotal: 1\n                }]\n            );\n            if (options.expanded) {\n                tags.icc = readIccTags;\n            } else {\n                tags = objectAssign({}, tags, readIccTags);\n            }\n        }\n    }\n\n    if (Constants.USE_JPEG && Constants.USE_IPTC && hasIptcData(iptcDataOffset)) {\n        foundMetaData = true;\n        const readTags = IptcTags.read(dataView, iptcDataOffset);\n        if (options.expanded) {\n            tags.iptc = readTags;\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n    }\n\n    if (Constants.USE_XMP && hasXmpData(xmpChunks)) {\n        foundMetaData = true;\n        const readTags = XmpTags.read(dataView, xmpChunks);\n        if (options.expanded) {\n            tags.xmp = readTags;\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n    }\n\n    if ((Constants.USE_JPEG || Constants.USE_WEBP) && Constants.USE_ICC && hasIccData(iccChunks)) {\n        foundMetaData = true;\n        const readTags = IccTags.read(dataView, iccChunks);\n        if (options.expanded) {\n            tags.icc = readTags;\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n    }\n\n    if (Constants.USE_MPF && hasMpfData(mpfDataOffset)) {\n        foundMetaData = true;\n        const readMpfTags = Tags.readMpf(dataView, mpfDataOffset);\n        if (options.expanded) {\n            tags.mpf = readMpfTags;\n        } else {\n            tags = objectAssign({}, tags, readMpfTags);\n        }\n    }\n\n    if (Constants.USE_PNG && Constants.USE_PNG_FILE && hasPngFileData(pngHeaderOffset)) {\n        foundMetaData = true;\n        const readTags = PngFileTags.read(dataView, pngHeaderOffset);\n        if (options.expanded) {\n            tags.pngFile = readTags;\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n    }\n\n    const thumbnail = (Constants.USE_JPEG || Constants.USE_WEBP)\n        && Constants.USE_EXIF\n        && Constants.USE_THUMBNAIL\n        && Thumbnail.get(dataView, tags.Thumbnail, tiffHeaderOffset);\n    if (thumbnail) {\n        foundMetaData = true;\n        tags.Thumbnail = thumbnail;\n    } else {\n        delete tags.Thumbnail;\n    }\n\n    if (!foundMetaData) {\n        throw new exifErrors.MetadataMissingError();\n    }\n\n    return tags;\n}\n\nfunction hasFileData(fileDataOffset) {\n    return fileDataOffset !== undefined;\n}\n\nfunction hasExifData(tiffHeaderOffset) {\n    return tiffHeaderOffset !== undefined;\n}\n\nfunction addGpsGroup(tags) {\n    if (tags.exif) {\n        if (tags.exif.GPSLatitude && tags.exif.GPSLatitudeRef) {\n            try {\n                tags.gps = tags.gps || {};\n                tags.gps.Latitude = getCalculatedGpsValue(tags.exif.GPSLatitude.value);\n                if (tags.exif.GPSLatitudeRef.value.join('') === 'S') {\n                    tags.gps.Latitude = -tags.gps.Latitude;\n                }\n            } catch (error) {\n                // Ignore.\n            }\n        }\n\n        if (tags.exif.GPSLongitude && tags.exif.GPSLongitudeRef) {\n            try {\n                tags.gps = tags.gps || {};\n                tags.gps.Longitude = getCalculatedGpsValue(tags.exif.GPSLongitude.value);\n                if (tags.exif.GPSLongitudeRef.value.join('') === 'W') {\n                    tags.gps.Longitude = -tags.gps.Longitude;\n                }\n            } catch (error) {\n                // Ignore.\n            }\n        }\n\n        if (tags.exif.GPSAltitude && tags.exif.GPSAltitudeRef) {\n            try {\n                tags.gps = tags.gps || {};\n                tags.gps.Altitude = tags.exif.GPSAltitude.value[0] / tags.exif.GPSAltitude.value[1];\n                if (tags.exif.GPSAltitudeRef.value === 1) {\n                    tags.gps.Altitude = -tags.gps.Altitude;\n                }\n            } catch (error) {\n                // Ignore.\n            }\n        }\n    }\n}\n\nfunction hasIptcData(iptcDataOffset) {\n    return iptcDataOffset !== undefined;\n}\n\nfunction hasXmpData(xmpChunks) {\n    return Array.isArray(xmpChunks) && xmpChunks.length > 0;\n}\n\nfunction hasIccData(iccDataOffsets) {\n    return Array.isArray(iccDataOffsets) && iccDataOffsets.length > 0;\n}\n\nfunction hasMpfData(mpfDataOffset) {\n    return mpfDataOffset !== undefined;\n}\n\nfunction hasPngFileData(pngFileDataOffset) {\n    return pngFileDataOffset !== undefined;\n}\n","import { Buffer } from 'buffer';\n\nexport async function toBufferByBlob(blob: Blob): Promise<ArrayBuffer> {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => {\n      reader.onload = null;\n      reader.onerror = null;\n      try {\n        // @ts-ignore\n        const buffer = Buffer.from(reader.result);\n        resolve(buffer);\n      } catch (err) {\n        reject(err);\n      }\n    };\n    /* istanbul ignore next */\n    reader.onerror = (evt: any) => {\n      reader.onload = null;\n      reader.onerror = null;\n      reject(evt.error);\n    };\n    try {\n      reader.readAsArrayBuffer(blob);\n    } catch (err) {\n      reject(err);\n    }\n  });\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringFromDataView} from './utils.js';\nimport Constants from './constants.js';\n\nexport default {\n    isJpegFile,\n    findJpegOffsets\n};\n\nconst MIN_JPEG_DATA_BUFFER_LENGTH = 2;\nconst JPEG_ID = 0xffd8;\nconst JPEG_ID_SIZE = 2;\nconst APP_ID_OFFSET = 4;\nconst APP_MARKER_SIZE = 2;\nconst TIFF_HEADER_OFFSET = 10; // From start of APP1 marker.\nconst IPTC_DATA_OFFSET = 18; // From start of APP13 marker.\nconst XMP_DATA_OFFSET = 33; // From start of APP1 marker.\nconst XMP_EXTENDED_DATA_OFFSET = 79; // From start of APP1 marker including GUID, total length, and offset.\nconst APP2_ICC_DATA_OFFSET = 18; // From start of APP2 marker including marker and chunk/chunk total numbers.\nconst MPF_DATA_OFFSET = 8;\n\nconst APP2_ICC_IDENTIFIER = 'ICC_PROFILE\\0';\nconst ICC_CHUNK_NUMBER_OFFSET = APP_ID_OFFSET + APP2_ICC_IDENTIFIER.length;\nconst ICC_TOTAL_CHUNKS_OFFSET = ICC_CHUNK_NUMBER_OFFSET + 1;\n\nconst APP2_MPF_IDENTIFIER = 'MPF\\0';\n\nconst SOF0_MARKER = 0xffc0;\nconst SOF2_MARKER = 0xffc2;\nconst DHT_MARKER = 0xffc4;\nconst DQT_MARKER = 0xffdb;\nconst DRI_MARKER = 0xffdd;\nconst SOS_MARKER = 0xffda;\n\nconst APP0_MARKER = 0xffe0;\nconst APP1_MARKER = 0xffe1;\nconst APP2_MARKER = 0xffe2;\nconst APP13_MARKER = 0xffed;\nconst APP15_MARKER = 0xffef;\nconst COMMENT_MARKER = 0xfffe;\n\nconst APP1_EXIF_IDENTIFIER = 'Exif';\nconst APP1_XMP_IDENTIFIER = 'http://ns.adobe.com/xap/1.0/\\x00';\nconst APP1_XMP_EXTENDED_IDENTIFIER = 'http://ns.adobe.com/xmp/extension/\\x00';\nconst APP13_IPTC_IDENTIFIER = 'Photoshop 3.0';\n\nfunction isJpegFile(dataView) {\n    return (dataView.byteLength >= MIN_JPEG_DATA_BUFFER_LENGTH) && (dataView.getUint16(0) === JPEG_ID);\n}\n\nfunction findJpegOffsets(dataView) {\n    let appMarkerPosition = JPEG_ID_SIZE;\n    let fieldLength;\n    let sof0DataOffset;\n    let sof2DataOffset;\n    let tiffHeaderOffset;\n    let iptcDataOffset;\n    let xmpChunks;\n    let iccChunks;\n    let mpfDataOffset;\n\n    while (appMarkerPosition + APP_ID_OFFSET + 5 <= dataView.byteLength) {\n        if (Constants.USE_FILE && isSOF0Marker(dataView, appMarkerPosition)) {\n            sof0DataOffset = appMarkerPosition + APP_MARKER_SIZE;\n        } else if (Constants.USE_FILE && isSOF2Marker(dataView, appMarkerPosition)) {\n            sof2DataOffset = appMarkerPosition + APP_MARKER_SIZE;\n        } else if (Constants.USE_EXIF && isApp1ExifMarker(dataView, appMarkerPosition)) {\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n            tiffHeaderOffset = appMarkerPosition + TIFF_HEADER_OFFSET;\n        } else if (Constants.USE_XMP && isApp1XmpMarker(dataView, appMarkerPosition)) {\n            if (!xmpChunks) {\n                xmpChunks = [];\n            }\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n            xmpChunks.push(getXmpChunkDetails(appMarkerPosition, fieldLength));\n        } else if (Constants.USE_XMP && isApp1ExtendedXmpMarker(dataView, appMarkerPosition)) {\n            if (!xmpChunks) {\n                xmpChunks = [];\n            }\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n            xmpChunks.push(getExtendedXmpChunkDetails(appMarkerPosition, fieldLength));\n        } else if (Constants.USE_IPTC && isApp13PhotoshopMarker(dataView, appMarkerPosition)) {\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n            iptcDataOffset = appMarkerPosition + IPTC_DATA_OFFSET;\n        } else if (Constants.USE_ICC && isApp2ICCMarker(dataView, appMarkerPosition)) {\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n            const iccDataOffset = appMarkerPosition + APP2_ICC_DATA_OFFSET;\n            const iccDataLength = fieldLength - (APP2_ICC_DATA_OFFSET - APP_MARKER_SIZE);\n\n            const iccChunkNumber = dataView.getUint8(appMarkerPosition + ICC_CHUNK_NUMBER_OFFSET);\n            const iccChunksTotal = dataView.getUint8(appMarkerPosition + ICC_TOTAL_CHUNKS_OFFSET);\n            if (!iccChunks) {\n                iccChunks = [];\n            }\n            iccChunks.push({offset: iccDataOffset, length: iccDataLength, chunkNumber: iccChunkNumber, chunksTotal: iccChunksTotal});\n        } else if (Constants.USE_MPF && isApp2MPFMarker(dataView, appMarkerPosition)) {\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n            mpfDataOffset = appMarkerPosition + MPF_DATA_OFFSET;\n        } else if (isAppMarker(dataView, appMarkerPosition)) {\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n        } else {\n            break;\n        }\n        appMarkerPosition += APP_MARKER_SIZE + fieldLength;\n    }\n\n    return {\n        hasAppMarkers: appMarkerPosition > JPEG_ID_SIZE,\n        fileDataOffset: sof0DataOffset || sof2DataOffset,\n        tiffHeaderOffset,\n        iptcDataOffset,\n        xmpChunks,\n        iccChunks,\n        mpfDataOffset\n    };\n}\n\nfunction isSOF0Marker(dataView, appMarkerPosition) {\n    return (dataView.getUint16(appMarkerPosition) === SOF0_MARKER);\n}\n\nfunction isSOF2Marker(dataView, appMarkerPosition) {\n    return (dataView.getUint16(appMarkerPosition) === SOF2_MARKER);\n}\n\nfunction isApp2ICCMarker(dataView, appMarkerPosition) {\n    const markerIdLength = APP2_ICC_IDENTIFIER.length;\n\n    return (dataView.getUint16(appMarkerPosition) === APP2_MARKER)\n        && (getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP2_ICC_IDENTIFIER);\n}\n\nfunction isApp2MPFMarker(dataView, appMarkerPosition) {\n    const markerIdLength = APP2_MPF_IDENTIFIER.length;\n\n    return (dataView.getUint16(appMarkerPosition) === APP2_MARKER)\n        && (getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP2_MPF_IDENTIFIER);\n}\n\nfunction isApp1ExifMarker(dataView, appMarkerPosition) {\n    const markerIdLength = APP1_EXIF_IDENTIFIER.length;\n\n    return (dataView.getUint16(appMarkerPosition) === APP1_MARKER)\n        && (getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP1_EXIF_IDENTIFIER)\n        && (dataView.getUint8(appMarkerPosition + APP_ID_OFFSET + markerIdLength) === 0x00);\n}\n\nfunction isApp1XmpMarker(dataView, appMarkerPosition) {\n    return (dataView.getUint16(appMarkerPosition) === APP1_MARKER)\n        && isXmpIdentifier(dataView, appMarkerPosition);\n}\n\nfunction isXmpIdentifier(dataView, appMarkerPosition) {\n    const markerIdLength = APP1_XMP_IDENTIFIER.length;\n    return getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP1_XMP_IDENTIFIER;\n}\n\nfunction isApp1ExtendedXmpMarker(dataView, appMarkerPosition) {\n    return (dataView.getUint16(appMarkerPosition) === APP1_MARKER)\n        && isExtendedXmpIdentifier(dataView, appMarkerPosition);\n}\n\nfunction isExtendedXmpIdentifier(dataView, appMarkerPosition) {\n    const markerIdLength = APP1_XMP_EXTENDED_IDENTIFIER.length;\n    return getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP1_XMP_EXTENDED_IDENTIFIER;\n}\n\nfunction getXmpChunkDetails(appMarkerPosition, fieldLength) {\n    return {\n        dataOffset: appMarkerPosition + XMP_DATA_OFFSET,\n        length: fieldLength - (XMP_DATA_OFFSET - APP_MARKER_SIZE)\n    };\n}\n\nfunction getExtendedXmpChunkDetails(appMarkerPosition, fieldLength) {\n    return {\n        dataOffset: appMarkerPosition + XMP_EXTENDED_DATA_OFFSET,\n        length: fieldLength - (XMP_EXTENDED_DATA_OFFSET - APP_MARKER_SIZE)\n    };\n}\n\nfunction isApp13PhotoshopMarker(dataView, appMarkerPosition) {\n    const markerIdLength = APP13_IPTC_IDENTIFIER.length;\n\n    return (dataView.getUint16(appMarkerPosition) === APP13_MARKER)\n        && (getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP13_IPTC_IDENTIFIER)\n        && (dataView.getUint8(appMarkerPosition + APP_ID_OFFSET + markerIdLength) === 0x00);\n}\n\nfunction isAppMarker(dataView, appMarkerPosition) {\n    const appMarker = dataView.getUint16(appMarkerPosition);\n    return ((appMarker >= APP0_MARKER) && (appMarker <= APP15_MARKER))\n        || (appMarker === COMMENT_MARKER)\n        || (appMarker === SOF0_MARKER)\n        || (appMarker === SOF2_MARKER)\n        || (appMarker === DHT_MARKER)\n        || (appMarker === DQT_MARKER)\n        || (appMarker === DRI_MARKER)\n        || (appMarker === SOS_MARKER);\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RoutingModule } from '~/dev/app/pages/demo/demo.routing';\nimport { SharedModule } from '~/dev/app/shared/shared.module';\nimport { ExampleCommonModule } from '~/dev/app/modules/example/common/common.module';\nimport { ReadStreamComponent } from './read-stream/read-stream.component';\nimport { BlobImageComponent } from './blob-image/blob-image.component';\n\n@NgModule({\n  imports: [CommonModule, RoutingModule, SharedModule, ExampleCommonModule],\n  declarations: [ReadStreamComponent, BlobImageComponent],\n})\nexport class PageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ReadStreamComponent } from './read-stream/read-stream.component';\nimport { BlobImageComponent } from './blob-image/blob-image.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    children: [\n      {\n        path: 'read-stream',\n        component: ReadStreamComponent,\n      },\n      {\n        path: 'blob-image',\n        component: BlobImageComponent,\n      },\n      {\n        path: '**',\n        component: ReadStreamComponent,\n      },\n    ],\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RoutingModule {}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport Types from './types.js';\n\nexport default {\n    read\n};\n\nfunction read(dataView, fileDataOffset) {\n    const length = getLength(dataView, fileDataOffset);\n    const numberOfColorComponents = getNumberOfColorComponents(dataView, fileDataOffset, length);\n    return {\n        'Bits Per Sample': getDataPrecision(dataView, fileDataOffset, length),\n        'Image Height': getImageHeight(dataView, fileDataOffset, length),\n        'Image Width': getImageWidth(dataView, fileDataOffset, length),\n        'Color Components': numberOfColorComponents,\n        'Subsampling': numberOfColorComponents && getSubsampling(dataView, fileDataOffset, numberOfColorComponents.value, length)\n    };\n}\n\nfunction getLength(dataView, fileDataOffset) {\n    return Types.getShortAt(dataView, fileDataOffset);\n}\n\nfunction getDataPrecision(dataView, fileDataOffset, length) {\n    const OFFSET = 2;\n    const SIZE = 1;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: '' + value\n    };\n}\n\nfunction getImageHeight(dataView, fileDataOffset, length) {\n    const OFFSET = 3;\n    const SIZE = 2;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const value = Types.getShortAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: `${value}px`\n    };\n}\n\nfunction getImageWidth(dataView, fileDataOffset, length) {\n    const OFFSET = 5;\n    const SIZE = 2;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const value = Types.getShortAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: `${value}px`\n    };\n}\n\nfunction getNumberOfColorComponents(dataView, fileDataOffset, length) {\n    const OFFSET = 7;\n    const SIZE = 1;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: '' + value\n    };\n}\n\nfunction getSubsampling(dataView, fileDataOffset, numberOfColorComponents, length) {\n    const OFFSET = 8;\n    const SIZE = 3 * numberOfColorComponents;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const components = [];\n\n    for (let i = 0; i < numberOfColorComponents; i++) {\n        const componentOffset = fileDataOffset + OFFSET + i * 3;\n        components.push([\n            Types.getByteAt(dataView, componentOffset),\n            Types.getByteAt(dataView, componentOffset + 1),\n            Types.getByteAt(dataView, componentOffset + 2)\n        ]);\n    }\n\n    return {\n        value: components,\n        description: components.length > 1 ? getComponentIds(components) + getSamplingType(components) : ''\n    };\n}\n\nfunction getComponentIds(components) {\n    const ids = {\n        0x01: 'Y',\n        0x02: 'Cb',\n        0x03: 'Cr',\n        0x04: 'I',\n        0x05: 'Q',\n    };\n\n    return components.map((compontent) => ids[compontent[0]]).join('');\n}\n\nfunction getSamplingType(components) {\n    const types = {\n        0x11: '4:4:4 (1 1)',\n        0x12: '4:4:0 (1 2)',\n        0x14: '4:4:1 (1 4)',\n        0x21: '4:2:2 (2 1)',\n        0x22: '4:2:0 (2 2)',\n        0x24: '4:2:1 (2 4)',\n        0x41: '4:1:1 (4 1)',\n        0x42: '4:1:0 (4 2)'\n    };\n\n    if (components.length === 0 || components[0][1] === undefined || types[components[0][1]] === undefined) {\n        return '';\n    }\n\n    return types[components[0][1]];\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringValue, getEncodedString} from './tag-names-utils.js';\nimport TagNamesCommon from './tag-names-common.js';\n\nexport default {\n    0x829a: {\n        'name': 'ExposureTime',\n        'description': (value) => {\n            if (value[0] !== 0) {\n                return `1/${Math.round(value[1] / value[0])}`;\n            }\n            return `0/${value[1]}`;\n        }\n    },\n    0x829d: {\n        'name': 'FNumber',\n        'description': (value) => `f/${value[0] / value[1]}`\n    },\n    0x8822: {\n        'name': 'ExposureProgram',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Undefined';\n            } else if (value === 1) {\n                return 'Manual';\n            } else if (value === 2) {\n                return 'Normal program';\n            } else if (value === 3) {\n                return 'Aperture priority';\n            } else if (value === 4) {\n                return 'Shutter priority';\n            } else if (value === 5) {\n                return 'Creative program';\n            } else if (value === 6) {\n                return 'Action program';\n            } else if (value === 7) {\n                return 'Portrait mode';\n            } else if (value === 8) {\n                return 'Landscape mode';\n            } else if (value === 9) {\n                return 'Bulb';\n            }\n            return 'Unknown';\n        }\n    },\n    0x8824: 'SpectralSensitivity',\n    0x8827: 'ISOSpeedRatings',\n    0x8828: {\n        'name': 'OECF',\n        'description': () => '[Raw OECF table data]'\n    },\n    0x882a: 'TimeZoneOffset',\n    0x882b: 'SelfTimerMode',\n    0x8830: {\n        name: 'SensitivityType',\n        description: (value) => ({\n            1: 'Standard Output Sensitivity',\n            2: 'Recommended Exposure Index',\n            3: 'ISO Speed',\n            4: 'Standard Output Sensitivity and Recommended Exposure Index',\n            5: 'Standard Output Sensitivity and ISO Speed',\n            6: 'Recommended Exposure Index and ISO Speed',\n            7: 'Standard Output Sensitivity, Recommended Exposure Index and ISO Speed'\n        })[value] || 'Unknown'\n    },\n    0x8831: 'StandardOutputSensitivity',\n    0x8832: 'RecommendedExposureIndex',\n    0x8833: 'ISOSpeed',\n    0x8834: 'ISOSpeedLatitudeyyy',\n    0x8835: 'ISOSpeedLatitudezzz',\n    0x9000: {\n        'name': 'ExifVersion',\n        'description': (value) => getStringValue(value)\n    },\n    0x9003: 'DateTimeOriginal',\n    0x9004: 'DateTimeDigitized',\n    0x9009: 'GooglePlusUploadCode',\n    0x9010: 'OffsetTime',\n    0x9011: 'OffsetTimeOriginal',\n    0x9012: 'OffsetTimeDigitized',\n    0x9101: {\n        'name': 'ComponentsConfiguration',\n        'description': (value) => {\n            return value.map((character) => {\n                if (character === 0x31) {\n                    return 'Y';\n                } else if (character === 0x32) {\n                    return 'Cb';\n                } else if (character === 0x33) {\n                    return 'Cr';\n                } else if (character === 0x34) {\n                    return 'R';\n                } else if (character === 0x35) {\n                    return 'G';\n                } else if (character === 0x36) {\n                    return 'B';\n                }\n            }).join('');\n        }\n    },\n    0x9102: 'CompressedBitsPerPixel',\n    0x9201: {\n        'name': 'ShutterSpeedValue',\n        'description': (value) => {\n            return `1/${Math.round(Math.pow(2, value[0] / value[1]))}`;\n        }\n    },\n    0x9202: {\n        'name': 'ApertureValue',\n        'description': (value) => {\n            return Math.pow(Math.sqrt(2), value[0] / value[1]).toFixed(2);\n        }\n    },\n    0x9203: 'BrightnessValue',\n    0x9204: 'ExposureBiasValue',\n    0x9205: {\n        'name': 'MaxApertureValue',\n        'description': (value) => {\n            return Math.pow(Math.sqrt(2), value[0] / value[1]).toFixed(2);\n        }\n    },\n    0x9206: {\n        'name': 'SubjectDistance',\n        'description': (value) => (value[0] / value[1]) + ' m'\n    },\n    0x9207: {\n        'name': 'MeteringMode',\n        'description': (value) => {\n            if (value === 1) {\n                return 'Average';\n            } else if (value === 2) {\n                return 'CenterWeightedAverage';\n            } else if (value === 3) {\n                return 'Spot';\n            } else if (value === 4) {\n                return 'MultiSpot';\n            } else if (value === 5) {\n                return 'Pattern';\n            } else if (value === 6) {\n                return 'Partial';\n            } else if (value === 255) {\n                return 'Other';\n            }\n            return 'Unknown';\n        }\n    },\n    0x9208: {\n        'name': 'LightSource',\n        description: TagNamesCommon['LightSource']\n    },\n    0x9209: {\n        'name': 'Flash',\n        'description': (value) => {\n            if (value === 0x00) {\n                return 'Flash did not fire';\n            } else if (value === 0x01) {\n                return 'Flash fired';\n            } else if (value === 0x05) {\n                return 'Strobe return light not detected';\n            } else if (value === 0x07) {\n                return 'Strobe return light detected';\n            } else if (value === 0x09) {\n                return 'Flash fired, compulsory flash mode';\n            } else if (value === 0x0d) {\n                return 'Flash fired, compulsory flash mode, return light not detected';\n            } else if (value === 0x0f) {\n                return 'Flash fired, compulsory flash mode, return light detected';\n            } else if (value === 0x10) {\n                return 'Flash did not fire, compulsory flash mode';\n            } else if (value === 0x18) {\n                return 'Flash did not fire, auto mode';\n            } else if (value === 0x19) {\n                return 'Flash fired, auto mode';\n            } else if (value === 0x1d) {\n                return 'Flash fired, auto mode, return light not detected';\n            } else if (value === 0x1f) {\n                return 'Flash fired, auto mode, return light detected';\n            } else if (value === 0x20) {\n                return 'No flash function';\n            } else if (value === 0x41) {\n                return 'Flash fired, red-eye reduction mode';\n            } else if (value === 0x45) {\n                return 'Flash fired, red-eye reduction mode, return light not detected';\n            } else if (value === 0x47) {\n                return 'Flash fired, red-eye reduction mode, return light detected';\n            } else if (value === 0x49) {\n                return 'Flash fired, compulsory flash mode, red-eye reduction mode';\n            } else if (value === 0x4d) {\n                return 'Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected';\n            } else if (value === 0x4f) {\n                return 'Flash fired, compulsory flash mode, red-eye reduction mode, return light detected';\n            } else if (value === 0x59) {\n                return 'Flash fired, auto mode, red-eye reduction mode';\n            } else if (value === 0x5d) {\n                return 'Flash fired, auto mode, return light not detected, red-eye reduction mode';\n            } else if (value === 0x5f) {\n                return 'Flash fired, auto mode, return light detected, red-eye reduction mode';\n            }\n            return 'Unknown';\n        }\n    },\n    0x920a: {\n        'name': 'FocalLength',\n        'description': (value) => (value[0] / value[1]) + ' mm'\n    },\n    0x9211: 'ImageNumber',\n    0x9212: {\n        name: 'SecurityClassification',\n        description: (value) => ({\n            'C': 'Confidential',\n            'R': 'Restricted',\n            'S': 'Secret',\n            'T': 'Top Secret',\n            'U': 'Unclassified'\n        })[value] || 'Unknown'\n    },\n    0x9213: 'ImageHistory',\n    0x9214: {\n        'name': 'SubjectArea',\n        'description': (value) => {\n            if (value.length === 2) {\n                return `Location; X: ${value[0]}, Y: ${value[1]}`;\n            } else if (value.length === 3) {\n                return `Circle; X: ${value[0]}, Y: ${value[1]}, diameter: ${value[2]}`;\n            } else if (value.length === 4) {\n                return `Rectangle; X: ${value[0]}, Y: ${value[1]}, width: ${value[2]}, height: ${value[3]}`;\n            }\n            return 'Unknown';\n        }\n    },\n    0x927c: {\n        'name': 'MakerNote',\n        'description': () => '[Raw maker note data]'\n    },\n    0x9286: {\n        'name': 'UserComment',\n        'description': getEncodedString\n    },\n    0x9290: 'SubSecTime',\n    0x9291: 'SubSecTimeOriginal',\n    0x9292: 'SubSecTimeDigitized',\n    0x9400: {\n        'name': 'AmbientTemperature',\n        'description': (value) => (value[0] / value[1]) + ' °C'\n    },\n    0x9401: {\n        'name': 'Humidity',\n        'description': (value) => (value[0] / value[1]) + ' %'\n    },\n    0x9402: {\n        'name': 'Pressure',\n        'description': (value) => (value[0] / value[1]) + ' hPa'\n    },\n    0x9403: {\n        'name': 'WaterDepth',\n        'description': (value) => (value[0] / value[1]) + ' m'\n    },\n    0x9404: {\n        'name': 'Acceleration',\n        'description': (value) => (value[0] / value[1]) + ' mGal'\n    },\n    0x9405: {\n        'name': 'CameraElevationAngle',\n        'description': (value) => (value[0] / value[1]) + ' °'\n    },\n    0xa000: {\n        'name': 'FlashpixVersion',\n        'description': (value) => value.map((charCode) => String.fromCharCode(charCode)).join('')\n    },\n    0xa001: {\n        'name': 'ColorSpace',\n        'description': (value) => {\n            if (value === 1) {\n                return 'sRGB';\n            } else if (value === 0xffff) {\n                return 'Uncalibrated';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa002: 'PixelXDimension',\n    0xa003: 'PixelYDimension',\n    0xa004: 'RelatedSoundFile',\n    0xa005: 'Interoperability IFD Pointer',\n    0xa20b: 'FlashEnergy',\n    0xa20c: {\n        'name': 'SpatialFrequencyResponse',\n        'description': () => '[Raw SFR table data]'\n    },\n    0xa20e: 'FocalPlaneXResolution',\n    0xa20f: 'FocalPlaneYResolution',\n    0xa210: {\n        'name': 'FocalPlaneResolutionUnit',\n        'description': (value) => {\n            if (value === 2) {\n                return 'inches';\n            } else if (value === 3) {\n                return 'centimeters';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa214: {\n        'name': 'SubjectLocation',\n        'description': ([x, y]) => `X: ${x}, Y: ${y}`\n    },\n    0xa215: 'ExposureIndex',\n    0xa217: {\n        'name': 'SensingMethod',\n        'description': (value) => {\n            if (value === 1) {\n                return 'Undefined';\n            } else if (value === 2) {\n                return 'One-chip color area sensor';\n            } else if (value === 3) {\n                return 'Two-chip color area sensor';\n            } else if (value === 4) {\n                return 'Three-chip color area sensor';\n            } else if (value === 5) {\n                return 'Color sequential area sensor';\n            } else if (value === 7) {\n                return 'Trilinear sensor';\n            } else if (value === 8) {\n                return 'Color sequential linear sensor';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa300: {\n        'name': 'FileSource',\n        'description': (value) => {\n            if (value === 3) {\n                return 'DSC';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa301: {\n        'name': 'SceneType',\n        'description': (value) => {\n            if (value === 1) {\n                return 'A directly photographed image';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa302: {\n        'name': 'CFAPattern',\n        'description': () => '[Raw CFA pattern table data]'\n    },\n    0xa401: {\n        'name': 'CustomRendered',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Normal process';\n            } else if (value === 1) {\n                return 'Custom process';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa402: {\n        'name': 'ExposureMode',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Auto exposure';\n            } else if (value === 1) {\n                return 'Manual exposure';\n            } else if (value === 2) {\n                return 'Auto bracket';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa403: {\n        'name': 'WhiteBalance',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Auto white balance';\n            } else if (value === 1) {\n                return 'Manual white balance';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa404: {\n        'name': 'DigitalZoomRatio',\n        'description': (value) => {\n            if (value[0] === 0) {\n                return 'Digital zoom was not used';\n            }\n            return '' + (value[0] / value[1]);\n        }\n    },\n    0xa405: {\n        'name': 'FocalLengthIn35mmFilm',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Unknown';\n            }\n            return value;\n        }\n    },\n    0xa406: {\n        'name': 'SceneCaptureType',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Standard';\n            } else if (value === 1) {\n                return 'Landscape';\n            } else if (value === 2) {\n                return 'Portrait';\n            } else if (value === 3) {\n                return 'Night scene';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa407: {\n        'name': 'GainControl',\n        'description': (value) => {\n            if (value === 0) {\n                return 'None';\n            } else if (value === 1) {\n                return 'Low gain up';\n            } else if (value === 2) {\n                return 'High gain up';\n            } else if (value === 3) {\n                return 'Low gain down';\n            } else if (value === 4) {\n                return 'High gain down';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa408: {\n        'name': 'Contrast',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Normal';\n            } else if (value === 1) {\n                return 'Soft';\n            } else if (value === 2) {\n                return 'Hard';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa409: {\n        'name': 'Saturation',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Normal';\n            } else if (value === 1) {\n                return 'Low saturation';\n            } else if (value === 2) {\n                return 'High saturation';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa40a: {\n        'name': 'Sharpness',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Normal';\n            } else if (value === 1) {\n                return 'Soft';\n            } else if (value === 2) {\n                return 'Hard';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa40b: {\n        'name': 'DeviceSettingDescription',\n        'description': () => '[Raw device settings table data]'\n    },\n    0xa40c: {\n        'name': 'SubjectDistanceRange',\n        'description': (value) => {\n            if (value === 1) {\n                return 'Macro';\n            } else if (value === 2) {\n                return 'Close view';\n            } else if (value === 3) {\n                return 'Distant view';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa420: 'ImageUniqueID',\n    0xa430: 'CameraOwnerName',\n    0xa431: 'BodySerialNumber',\n    0xa432: {\n        'name': 'LensSpecification',\n        'description': (value) => {\n            const focalLengths = `${value[0][0] / value[0][1]}-${value[1][0] / value[1][1]} mm`;\n            if (value[3][1] === 0) {\n                return `${focalLengths} f/?`;\n            }\n            return `${focalLengths} f/${1 / ((value[2][1] / value[2][1]) / (value[3][0] / value[3][1]))}`;\n        }\n    },\n    0xa433: 'LensMake',\n    0xa434: 'LensModel',\n    0xa435: 'LensSerialNumber',\n    0xa460: {\n        name: 'CompositeImage',\n        description: (value) => ({\n            1: 'Not a Composite Image',\n            2: 'General Composite Image',\n            3: 'Composite Image Captured While Shooting',\n        })[value] || 'Unknown'\n    },\n    0xa461: 'SourceImageNumberOfCompositeImage',\n    0xa462: 'SourceExposureTimesOfCompositeImage',\n    0xa500: 'Gamma',\n    0xea1c: 'Padding',\n    0xea1d: 'OffsetSchema',\n    0xfde8: 'OwnerName',\n    0xfde9: 'SerialNumber',\n    0xfdea: 'Lens',\n    0xfe4c: 'RawFile',\n    0xfe4d: 'Converter',\n    0xfe4e: 'WhiteBalance',\n    0xfe51: 'Exposure',\n    0xfe52: 'Shadows',\n    0xfe53: 'Brightness',\n    0xfe54: 'Contrast',\n    0xfe55: 'Saturation',\n    0xfe56: 'Sharpness',\n    0xfe57: 'Smoothness',\n    0xfe58: 'MoireFilter'\n};\n","export default \"<div>\\n  <mat-form-field>\\n    <mat-label>chunk size</mat-label>\\n    <mat-select [(ngModel)]=\\\"testChunk\\\">\\n      <mat-option *ngFor=\\\"let chunk of optionChunks\\\" [value]=\\\"chunk.value\\\">{{\\n        chunk.label\\n      }}</mat-option>\\n    </mat-select>\\n  </mat-form-field>\\n  <mat-form-field>\\n    <mat-label>response type</mat-label>\\n    <mat-select [(ngModel)]=\\\"testResponseType\\\">\\n      <mat-option *ngFor=\\\"let chunk of optionResponseTypes\\\" [value]=\\\"chunk.value\\\">{{\\n        chunk.label\\n      }}</mat-option>\\n    </mat-select>\\n  </mat-form-field>\\n</div>\\n\\n<div>\\n  <input type=\\\"file\\\" (change)=\\\"onFileChange($event)\\\" />\\n</div>\\n\\n<hr class=\\\"partition\\\" />\\n\\n<div class=\\\"print-stack\\\">\\n  <div class=\\\"stack-opt\\\">\\n    <button mat-raised-button color=\\\"warn\\\" [disabled]=\\\"!reader\\\" (click)=\\\"onFileAbort($event)\\\">\\n      abort\\n    </button>\\n    <div class=\\\"spacer\\\"></div>\\n    <div class=\\\"stack-count\\\">read count: {{ changeStackCount }}</div>\\n  </div>\\n  <div class=\\\"stack-list\\\">\\n    <div *ngFor=\\\"let fileEvent of changeStack\\\" class=\\\"stack-item\\\">\\n      <div class=\\\"aside\\\">\\n        {{ fileEvent.type }}\\n      </div>\\n      <div *ngIf=\\\"fileEvent.state\\\" class=\\\"bside\\\">\\n        <span class=\\\"label\\\">\\n          <span class=\\\"dt\\\">readed</span>\\n          <span class=\\\"dd\\\">{{ fileEvent.state.readed }}</span>\\n        </span>\\n        <span class=\\\"label\\\">\\n          <span class=\\\"dt\\\">total</span>\\n          <span class=\\\"dd\\\">{{ fileEvent.state.total }}</span>\\n        </span>\\n        <span class=\\\"label\\\">\\n          <span class=\\\"dt\\\">percent</span>\\n          <span class=\\\"dd\\\">{{ (fileEvent.state.readed / fileEvent.state.total).toFixed(2) }}</span>\\n        </span>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\";","import * as ExifReader from 'exifreader';\nimport { toBufferByBlob } from '../utils/toBuffer';\nimport { ResizeType, ResizeConfig, ResizeResult, DrawBound } from './types';\n\ninterface ParseMaxSize {\n  maxWidth: number;\n  maxHeight: number;\n}\n\ninterface ParseMetadata {\n  sw: number;\n  sh: number;\n  orientation?: number;\n}\n\n/**\n * Blob 이미지 리사이즈 용\n * Blob -> Canvas&Image resize -> Blob.\n * @class BlobImageResize\n */\nexport class BlobImageResize {\n  /**\n   * @param {Blob} blob 변경할 원본 Blob\n   * @param {ResizeConfig} [config={}] 리사이징 옵션\n   */\n  constructor(blob: Blob, config: ResizeConfig = {}) {\n    this.blob = blob;\n    const {\n      expectWidth = 2000,\n      expectHeight = 2000,\n      quality = 0.9,\n      resizeType = ResizeType.SCALE,\n      expectContentType,\n      fillBgColor,\n      applyOrientation = false,\n    } = config;\n    this.quality = quality;\n    this.maxWidth = expectWidth;\n    this.maxHeight = expectHeight;\n    this.resizeType = resizeType;\n    this.forceContentType = expectContentType;\n    this.fillBgColor = fillBgColor;\n    this.applyOrientation = applyOrientation;\n  }\n\n  // 리사이징 대상 Blob\n  protected blob: Blob;\n  // 리사이징 대상 Blob 의 URL\n  protected blobURL: string;\n  // 리사이징 대상 Blob 을 로드할 이미지\n  protected domImage: HTMLImageElement;\n  // 리사이징 대상 이미지를 그려낼 캔버스\n  protected domCanvas: HTMLCanvasElement;\n  protected domCanvasContext: CanvasRenderingContext2D;\n  // 캔버스에서 만들어낼 이미지 퀄리티\n  protected quality: number;\n  // contentType 강제 지정\n  protected forceContentType: string;\n  // 리사이징 최대 사이즈\n  protected maxWidth: number;\n  protected maxHeight: number;\n  // 캔버스 배경 컬러\n  protected fillBgColor: string;\n  // 리사이징 할 때 캔버스에 그려낼 사이즈 타입\n  protected resizeType: ResizeType;\n  // 리사이징 완료된 Blob\n  protected resizeBlob: Blob;\n  // orientation 적용 여부\n  protected applyOrientation: boolean;\n  protected detectedOrientation: number;\n  // 응답용 promize\n  protected promise: Promise<ResizeResult>;\n  protected promiseResolve: (value: ResizeResult) => void;\n  protected promiseReject: (reason?: any) => void;\n\n  /**\n   * 리사이징 타입 - SCALE 형\n   * 정해진 expect 사이즈를 최대 사이즈로 비율에 맞춤. 원본이 작은 경우 늘리지 않음.\n   * @param {number} sw\n   * @param {number} sh\n   * @returns {DrawBound}\n   */\n  getResizeToScale(sw: number, sh: number): DrawBound {\n    const { maxWidth, maxHeight } = this.getMaxSize(sw, sh);\n    const dx: number = 0;\n    const dy: number = 0;\n    let dw: number = 0;\n    let dh: number = 0;\n    const isLandscape: boolean = sh <= sw;\n    if (isLandscape) {\n      dw = Math.min(maxWidth, sw);\n      dh = Math.floor((dw / sw) * sh);\n    } else {\n      dh = Math.min(maxHeight, sh);\n      dw = Math.floor((dh / sh) * sw);\n    }\n    return { dx, dy, dw, dh, mw: dw, mh: dh };\n  }\n\n  /**\n   * 리사이징 타입 - SCALE 형\n   * 정해진 expect 사이즈를 최대 사이즈로 비율에 맞춤. 원본이 작은 경우 비율에 맞춰서 늘림.\n   * @param {number} sw\n   * @param {number} sh\n   * @returns {DrawBound}\n   */\n  getResizeToScaleStretch(sw: number, sh: number): DrawBound {\n    const { maxWidth, maxHeight } = this.getMaxSize(sw, sh);\n    const dx: number = 0;\n    const dy: number = 0;\n    let dw: number = 0;\n    let dh: number = 0;\n    let contentRatio: number = 1;\n    const isLandscape: boolean = sh <= sw;\n    if (isLandscape) {\n      contentRatio = sw / sh;\n      contentRatio = 1 < contentRatio ? contentRatio : 1;\n      dw = maxWidth * contentRatio;\n      dh = Math.floor((dw / sw) * sh);\n    } else {\n      contentRatio = sh / sw;\n      contentRatio = 1 < contentRatio ? contentRatio : 1;\n      dh = maxHeight * contentRatio;\n      dw = Math.floor((dh / sh) * sw);\n    }\n    return { dx, dy, dw, dh, mw: dw, mh: dh };\n  }\n\n  /**\n   * 리사이징 타입 - COVER 형\n   * 정해진 expect 사이즈에 빈 여백 없이 맞춤. 원본이 작은 경우 늘리지 않으며, cover 처리가 가능한 최대 사이즈로 맞춤.\n   * @param {number} sw\n   * @param {number} sh\n   * @returns {DrawBound}\n   */\n  getResizeToCover(sw: number, sh: number): DrawBound {\n    const { maxWidth, maxHeight } = this.getMaxSize(sw, sh);\n    const min = Math.min(sw, sh, maxWidth, maxHeight);\n    const mw = Math.min(min, sw, maxWidth);\n    const mh = Math.min(min, sh, maxHeight);\n    let dx: number = 0;\n    let dy: number = 0;\n    let dw: number = 0;\n    let dh: number = 0;\n    let expectRatio: number = mw / mh;\n    let contentRatio: number = sw / sh;\n    if (expectRatio < contentRatio) {\n      dh = mh;\n      dw = mh * contentRatio;\n    } else {\n      dw = mw;\n      dh = mw / contentRatio;\n    }\n    dx = (mw - dw) * 0.5;\n    dy = (mh - dh) * 0.5;\n    return { dx, dy, dw, dh, mw, mh };\n  }\n\n  /**\n   * 리사이징 타입 - COVER 형\n   * 정해진 expect 사이즈에 빈 여백 없이 맞춤. 원본이 작은 경우 늘림.\n   * @param {number} sw\n   * @param {number} sh\n   * @returns {DrawBound}\n   */\n  getResizeToCoverStretch(sw: number, sh: number): DrawBound {\n    const { maxWidth, maxHeight } = this.getMaxSize(sw, sh);\n    let dx: number = 0;\n    let dy: number = 0;\n    let dw: number = 0;\n    let dh: number = 0;\n    let expectRatio: number = maxWidth / maxHeight;\n    let contentRatio: number = sw / sh;\n    if (expectRatio < contentRatio) {\n      dh = maxHeight;\n      dw = maxHeight * contentRatio;\n    } else {\n      dw = maxWidth;\n      dh = maxWidth / contentRatio;\n    }\n    dx = (maxWidth - dw) * 0.5;\n    dy = (maxHeight - dh) * 0.5;\n    return { dx, dy, dw, dh, mw: maxWidth, mh: maxHeight };\n  }\n\n  /**\n   * 리사이징 타입 - Fixed 형\n   * 정해진 expect 사이즈에 맞춤.\n   * @param {number} sw\n   * @param {number} sh\n   * @returns {DrawBound}\n   */\n  getResizeToFixed(sw: number, sh: number): DrawBound {\n    const { maxWidth, maxHeight } = this.getMaxSize(sw, sh);\n    let dw: number = maxWidth;\n    let dh: number = maxHeight;\n    return {\n      dx: 0,\n      dy: 0,\n      dw: dw,\n      dh: dh,\n      mw: dw,\n      mh: dh,\n    };\n  }\n\n  /**\n   * 이미지 사이즈와 옵션 조합으로 리사이징 가능한 최대 넓이, 높이 반환\n   * @protected\n   * @param {number} sw\n   * @param {number} sh\n   * @returns {ParseMaxSize}\n   */\n  protected getMaxSize(sw: number, sh: number): ParseMaxSize {\n    let maxWidth = this.maxWidth;\n    let maxHeight = this.maxHeight;\n    if (this.maxWidth <= 0 && this.maxHeight <= 0) {\n      maxWidth = sw;\n      maxHeight = sh;\n    } else if (this.maxWidth <= 0) {\n      if (this.resizeType === ResizeType.SCALE_STRETCH) {\n        maxWidth = sw <= sh ? sw * (this.maxHeight / sh) : this.maxHeight;\n      } else if (this.resizeType === ResizeType.FIXED) {\n        maxWidth = sw * (this.maxHeight / sh);\n      } else {\n        maxWidth = maxHeight;\n      }\n    } else if (this.maxHeight <= 0) {\n      if (this.resizeType === ResizeType.SCALE_STRETCH) {\n        maxHeight = sh <= sw ? sh * (this.maxWidth / sw) : this.maxWidth;\n      } else if (this.resizeType === ResizeType.FIXED) {\n        maxHeight = sh * (this.maxWidth / sw);\n      } else {\n        maxHeight = maxWidth;\n      }\n    }\n    return {\n      maxWidth: maxWidth,\n      maxHeight: maxHeight,\n    };\n  }\n\n  /**\n   * 이미지 로드 완료\n   * @protected\n   */\n  protected onImageLoaded() {\n    URL.revokeObjectURL(this.blobURL);\n    const imageWidth = this.domImage.naturalWidth;\n    const imageHeight = this.domImage.naturalHeight;\n    this.draw(imageWidth, imageHeight);\n  }\n\n  async toBufferByBlob(blob: Blob) {\n    return await toBufferByBlob(blob);\n  }\n\n  /**\n   * 이미지 orientation 등 설정 정보에 따라 그려져야할 사이즈, 방향 등 반환\n   * @protected\n   * @param {number} imageWidth\n   * @param {number} imageHeight\n   * @returns {Promise<ParseMetadata>}\n   */\n  protected async parseDrawMetadata(\n    imageWidth: number,\n    imageHeight: number\n  ): Promise<ParseMetadata> {\n    let sw = imageWidth;\n    let sh = imageHeight;\n    let orientation = 0;\n    if (this.applyOrientation === true) {\n      try {\n        // const buffer = await this.blob.arrayBuffer();\n        const buffer = await this.toBufferByBlob(this.blob);\n        const result = ExifReader.load(buffer);\n        if (result.Orientation && result.Orientation.value) {\n          orientation = result.Orientation.value;\n        }\n      } catch (err) {\n        console.error(err);\n      }\n      if (4 < orientation) {\n        sw = imageHeight;\n        sh = imageWidth;\n      }\n    }\n    return { sw, sh, orientation };\n  }\n\n  /**\n   * 이미지가 그려져야할 영역 정보 반환\n   * @protected\n   * @param {number} sw\n   * @param {number} sh\n   * @return {DrawBound}\n   */\n  protected parseDrawBound(sw: number, sh: number): DrawBound {\n    let drawBound: DrawBound;\n    switch (this.resizeType) {\n      case ResizeType.COVER:\n        drawBound = this.getResizeToCover(sw, sh);\n        break;\n      case ResizeType.COVER_STRETCH:\n        drawBound = this.getResizeToCoverStretch(sw, sh);\n        break;\n      case ResizeType.SCALE_STRETCH:\n        drawBound = this.getResizeToScaleStretch(sw, sh);\n        break;\n      case ResizeType.SCALE:\n        drawBound = this.getResizeToScale(sw, sh);\n        break;\n      default:\n        drawBound = this.getResizeToFixed(sw, sh);\n        break;\n    }\n    return drawBound;\n  }\n\n  /**\n   * 그리기\n   * @protected\n   * @param {number} imageWidth\n   * @param {number} imageHeight\n   * @returns {Promise<void>}\n   */\n  protected async draw(imageWidth: number, imageHeight: number): Promise<void> {\n    const { sw, sh, orientation } = await this.parseDrawMetadata(imageWidth, imageHeight);\n    const { dx, dy, dw, dh, mw, mh } = this.parseDrawBound(sw, sh);\n    const tx = dw + dx * 2;\n    const ty = dh + dy * 2;\n    const contentType = this.forceContentType || this.blob.type;\n    const canvas = this.domCanvas;\n    const context = this.domCanvasContext;\n    canvas.width = mw;\n    canvas.height = mh;\n\n    if (this.fillBgColor) {\n      context.fillStyle = this.fillBgColor;\n      context.fillRect(0, 0, mw, mh);\n    }\n    switch (orientation) {\n      case 2:\n        context.translate(tx, 0);\n        context.scale(-1, 1);\n        break;\n      case 3:\n        context.translate(tx, ty);\n        context.rotate(Math.PI);\n        break;\n      case 4:\n        context.translate(0, ty);\n        context.scale(1, -1);\n        break;\n      case 5:\n        context.rotate(Math.PI * 0.5);\n        context.scale(1, -1);\n        break;\n      case 6:\n        context.rotate(Math.PI * 0.5);\n        context.translate(0, -tx);\n        break;\n      case 7:\n        context.rotate(Math.PI * 0.5);\n        context.translate(ty, -tx);\n        context.scale(-1, 1);\n        break;\n      case 8:\n        context.rotate(Math.PI * -0.5);\n        context.translate(-ty, 0);\n        break;\n    }\n    if (4 < orientation) {\n      context.drawImage(this.domImage, 0, 0, sh, sw, dy, dx, dh, dw);\n    } else {\n      context.drawImage(this.domImage, 0, 0, sw, sh, dx, dy, dw, dh);\n    }\n\n    this.detectedOrientation = orientation;\n    // 그리기 완료 (type 이 jpeg 인 경우만 quality 적용이 됨)\n    canvas.toBlob(this.onResized.bind(this), contentType, this.quality);\n  }\n\n  /**\n   * 이미지 로드 오류\n   * @protected\n   */\n  protected onImageError() {\n    URL.revokeObjectURL(this.blobURL);\n    this.promiseReject({\n      ...this.getState(),\n      error: new Error('image load error'),\n    });\n  }\n\n  /**\n   * 이미지 리사이징 완료\n   * @protected\n   * @param {Blob} resizeBlob\n   */\n  protected onResized(resizeBlob: Blob) {\n    this.resizeBlob = resizeBlob;\n    this.promiseResolve(this.getState());\n  }\n\n  /**\n   * 리사이징 이미지 생성하기\n   * @returns {Promise<ResizeResult>}\n   */\n  create(): Promise<ResizeResult> {\n    this.domCanvas = document.createElement('canvas');\n    this.domCanvasContext = this.domCanvas.getContext('2d');\n    this.domImage = new Image();\n    this.domImage.onload = this.onImageLoaded.bind(this);\n    this.domImage.onerror = this.onImageError.bind(this);\n    this.promise = new Promise((resolve, reject) => {\n      this.promiseResolve = resolve;\n      this.promiseReject = reject;\n      try {\n        this.blobURL = URL.createObjectURL(this.blob);\n        this.domImage.src = this.blobURL;\n      } catch (err) {\n        this.promiseReject({\n          ...this.getState(),\n          error: err,\n        });\n      }\n    });\n    return this.promise;\n  }\n\n  getState(): ResizeResult {\n    const blob = this.resizeBlob || null;\n    const { width = 0, height = 0 } = this.domCanvas || {};\n    const orientation = this.detectedOrientation || 0;\n    return {\n      blob: blob,\n      width: blob ? width : 0,\n      height: blob ? height : 0,\n      orientation,\n    };\n  }\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport default {\n    USE_FILE: true,\n    USE_PNG_FILE: true,\n    USE_EXIF: true,\n    USE_IPTC: true,\n    USE_XMP: true,\n    USE_ICC: true,\n    USE_MPF: true,\n    USE_THUMBNAIL: true,\n    USE_TIFF: true,\n    USE_JPEG: true,\n    USE_PNG: true,\n    USE_HEIC: true,\n    USE_WEBP: true\n};\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","export * from './types';\nexport * from './BlobImageResize';\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringFromDataView} from './utils.js';\nimport Constants from './constants.js';\n\nexport default {\n    isPngFile,\n    findPngOffsets\n};\n\nconst PNG_ID = '\\x89\\x50\\x4e\\x47\\x0d\\x0a\\x1a\\x0a';\nconst PNG_CHUNK_LENGTH_SIZE = 4;\nconst PNG_CHUNK_TYPE_SIZE = 4;\nconst PNG_CHUNK_LENGTH_OFFSET = 0;\nconst PNG_CHUNK_TYPE_OFFSET = PNG_CHUNK_LENGTH_SIZE;\nconst PNG_CHUNK_DATA_OFFSET = PNG_CHUNK_LENGTH_SIZE + PNG_CHUNK_TYPE_SIZE;\nconst PNG_XMP_PREFIX = 'XML:com.adobe.xmp\\x00';\n\nfunction isPngFile(dataView) {\n    return getStringFromDataView(dataView, 0, PNG_ID.length) === PNG_ID;\n}\n\nfunction findPngOffsets(dataView) {\n    const PNG_CRC_SIZE = 4;\n\n    const offsets = {\n        hasAppMarkers: false\n    };\n\n    let offset = PNG_ID.length;\n\n    while (offset + PNG_CHUNK_LENGTH_SIZE + PNG_CHUNK_TYPE_SIZE <= dataView.byteLength) {\n        if (Constants.USE_PNG_FILE && isPngImageHeaderChunk(dataView, offset)) {\n            offsets.hasAppMarkers = true;\n            offsets.pngHeaderOffset = offset + PNG_CHUNK_DATA_OFFSET;\n        } else if (Constants.USE_XMP && isPngXmpChunk(dataView, offset)) {\n            const dataOffset = getPngXmpDataOffset(dataView, offset);\n            if (dataOffset !== undefined) {\n                offsets.hasAppMarkers = true;\n                offsets.xmpChunks = [{\n                    dataOffset,\n                    length: dataView.getUint32(offset + PNG_CHUNK_LENGTH_OFFSET) - (dataOffset - (offset + PNG_CHUNK_DATA_OFFSET))\n                }];\n            }\n        }\n\n        offset += dataView.getUint32(offset + PNG_CHUNK_LENGTH_OFFSET)\n            + PNG_CHUNK_LENGTH_SIZE\n            + PNG_CHUNK_TYPE_SIZE\n            + PNG_CRC_SIZE;\n    }\n\n    return offsets;\n}\n\nfunction isPngImageHeaderChunk(dataView, offset) {\n    const PNG_CHUNK_TYPE_IMAGE_HEADER = 'IHDR';\n    return getStringFromDataView(dataView, offset + PNG_CHUNK_TYPE_OFFSET, PNG_CHUNK_TYPE_SIZE) === PNG_CHUNK_TYPE_IMAGE_HEADER;\n}\n\nfunction isPngXmpChunk(dataView, offset) {\n    const PNG_CHUNK_TYPE_INTERNATIONAL_TEXT = 'iTXt';\n    return (getStringFromDataView(dataView, offset + PNG_CHUNK_TYPE_OFFSET, PNG_CHUNK_TYPE_SIZE) === PNG_CHUNK_TYPE_INTERNATIONAL_TEXT)\n        && (getStringFromDataView(dataView, offset + PNG_CHUNK_DATA_OFFSET, PNG_XMP_PREFIX.length) === PNG_XMP_PREFIX);\n}\n\nfunction getPngXmpDataOffset(dataView, offset) {\n    const COMPRESSION_FLAG_SIZE = 1;\n    const COMPRESSION_METHOD_SIZE = 1;\n\n    offset += PNG_CHUNK_DATA_OFFSET + PNG_XMP_PREFIX.length + COMPRESSION_FLAG_SIZE + COMPRESSION_METHOD_SIZE;\n\n    let numberOfNullSeparators = 0;\n    while (numberOfNullSeparators < 2 && offset < dataView.byteLength) {\n        if (dataView.getUint8(offset) === 0x00) {\n            numberOfNullSeparators++;\n        }\n        offset++;\n    }\n    if (numberOfNullSeparators < 2) {\n        return undefined;\n    }\n    return offset;\n}\n","/**\n * 리사이즈 타입\n *  - SCALE: 이미지 비율 유지, 원본이 예상 크기 보다 작은 경우 늘리지 않음.\n *  - SCALE_STRETCH: 이미지 비율 유지, 원본이 예상 크기 보다 작은 경우 작은것을 기준으로 늘림.\n *  - COVER: 이미지 넘치면 잘라냄, 원본이 예상 크기 보다 작은 경우 늘리지 않음.\n *  - COVER_STRETCH: 이미지 넘치면 잘라냄, 원본이 예상 크기 보다 작은 경우 늘림.\n * @export\n * @enum {number}\n */\nexport enum ResizeType {\n  SCALE,\n  SCALE_STRETCH,\n  COVER,\n  COVER_STRETCH,\n  FIXED,\n}\n\n/**\n * 리사이즈 옵션\n * @export\n * @interface ResizeConfig\n */\nexport interface ResizeConfig {\n  /**\n   * 리사이즈 예상 width\n   * @type {number}\n   */\n  expectWidth?: number;\n  /**\n   * 리사이즈 예상 height\n   * @type {number}\n   */\n  expectHeight?: number;\n  /**\n   * 이미지 품질 (jpeg type 이 아닌건 quality 적용이 되지 않음)\n   * @type {number}\n   */\n  quality?: number;\n  /**\n   * canvas 에 그려질 contentType 을 강제하려는 경우의 값, 지정하지 않으면 읽어낸 값으로 지정\n   * @type {string}\n   */\n  expectContentType?: string;\n  /**\n   * canvas 의 기본 배경 컬러 지정\n   * @type {string}\n   */\n  fillBgColor?: string;\n  /**\n   * 리사이즈 타입\n   * @type {ResizeType}\n   */\n  resizeType?: ResizeType;\n\n  /**\n   * exif orientation 정보가 있는 경우 적용 여부\n   * @type {boolean}\n   */\n  applyOrientation?: boolean;\n}\n\n/**\n * 리사이즈 결과\n * @export\n * @interface ResizeResult\n */\nexport interface ResizeResult {\n  /**\n   * 리사이즈 된 Blob\n   * @type {Blob}\n   */\n  blob: Blob;\n  /**\n   * 리사이즈 된 width 사이즈\n   * @type {number}\n   */\n  width: number;\n  /**\n   * 리사이즈 된 height 사이즈\n   * @type {number}\n   */\n  height: number;\n  /**\n   * allowOrientation 적용시 exif 에서 찾아낸 orientation 값\n   * @type {number}\n   */\n  orientation?: number;\n  /**\n   * 오류가 있는 경우\n   * @type {*}\n   * @memberof ResizeResult\n   */\n  error?: any;\n}\n\n/**\n * 리사이즈 계산 정보\n * @interface DrawBound\n */\nexport interface DrawBound {\n  dx: number;\n  dy: number;\n  dw: number;\n  dh: number;\n  mw: number;\n  mh: number;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringValue} from './tag-names-utils.js';\n\nexport default {\n    0xb000: {\n        'name': 'MPFVersion',\n        'description': (value) => getStringValue(value)\n    },\n    0xb001: 'NumberOfImages',\n    0xb002: 'MPEntry',\n    0xb003: 'ImageUIDList',\n    0xb004: 'TotalFrames'\n};\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\nimport {iccTags, iccProfile} from './icc-tag-names.js';\nimport {getStringFromDataView, getUnicodeStringFromDataView} from './utils.js';\n\nexport default {\n    read\n};\n\nconst PROFILE_HEADER_LENGTH = 84;\nconst ICC_TAG_COUNT_OFFSET = 128;\nconst ICC_SIGNATURE = 'acsp';\nconst TAG_TYPE_DESC = 'desc';\nconst TAG_TYPE_MULTI_LOCALIZED_UNICODE_TYPE = 'mluc';\nconst TAG_TYPE_TEXT = 'text';\nconst TAG_TYPE_SIGNATURE = 'sig ';\nconst TAG_TABLE_SINGLE_TAG_DATA = 12;\n\n// ICC profile data can be longer than application segment max length of ~64k.\n// so it can be split into multiple APP2 segments. Each segment includes\n// total chunk count and chunk number.\n// Here we read all chunks into single continious array of bytes.\nfunction read(dataView, iccData) {\n    try {\n        const totalIccProfileLength = iccData.reduce((sum, icc) => sum + icc.length, 0);\n\n        const iccBinaryData = new Uint8Array(totalIccProfileLength);\n        let offset = 0;\n        const buffer = getBuffer(dataView);\n\n        for (let chunkNumber = 1; chunkNumber <= iccData.length; chunkNumber++) {\n            const iccDataChunk = iccData.find((x) => x.chunkNumber === chunkNumber);\n            if (!iccDataChunk) {\n                throw new Error(`ICC chunk ${chunkNumber} not found`);\n            }\n\n            const data = buffer.slice(iccDataChunk.offset, iccDataChunk.offset + iccDataChunk.length);\n            const chunkData = new Uint8Array(data);\n\n            iccBinaryData.set(chunkData, offset);\n            offset += chunkData.length;\n        }\n\n        return parseTags(new DataView(iccBinaryData.buffer));\n    } catch (error) {\n        return {};\n    }\n}\n\nfunction getBuffer(dataView) {\n    if (Array.isArray(dataView)) {\n        return (new DataView(Uint8Array.from(dataView).buffer)).buffer;\n    }\n    return dataView.buffer;\n}\n\nfunction iccDoesNotHaveTagCount(buffer) {\n    return buffer.length < (ICC_TAG_COUNT_OFFSET + 4);\n}\n\nfunction hasTagsData(buffer, tagHeaderOffset) {\n    return buffer.length < tagHeaderOffset + TAG_TABLE_SINGLE_TAG_DATA;\n}\n\nexport function parseTags(dataView) {\n    const buffer = dataView.buffer;\n\n    const length = dataView.getUint32();\n    if (dataView.byteLength !== length) {\n        throw new Error('ICC profile length not matching');\n    }\n\n    if (dataView.length < PROFILE_HEADER_LENGTH) {\n        throw new Error('ICC profile too short');\n    }\n\n    const tags = {};\n\n    const iccProfileKeys = Object.keys(iccProfile);\n    for (let i = 0; i < iccProfileKeys.length; i++) {\n        const offset = iccProfileKeys[i];\n        const profileEntry = iccProfile[offset];\n        const value = profileEntry.value(dataView, parseInt(offset, 10));\n        let description = value;\n        if (profileEntry.description) {\n            description = profileEntry.description(value);\n        }\n\n        tags[profileEntry.name] = {\n            value,\n            description\n        };\n    }\n\n    const signature = sliceToString(buffer.slice(36, 40));\n    if (signature !== ICC_SIGNATURE) {\n        throw new Error('ICC profile: missing signature');\n    }\n\n    /* ICC data is incomplete but we have header parsed so lets return it */\n    if (iccDoesNotHaveTagCount(buffer)) {\n        return tags;\n    }\n\n    const tagCount = dataView.getUint32(128);\n    let tagHeaderOffset = 132;\n\n    for (let i = 0; i < tagCount; i++) {\n        if (hasTagsData(buffer, tagHeaderOffset)) {\n            // Tags are corrupted (offset too far), return what we parsed until now\n            return tags;\n        }\n        const tagSignature = getStringFromDataView(dataView, tagHeaderOffset, 4);\n        const tagOffset = dataView.getUint32(tagHeaderOffset + 4);\n        const tagSize = dataView.getUint32(tagHeaderOffset + 8);\n\n        if (tagOffset > buffer.length) {\n            // Tag data is invalid, lets return what we managed to parse\n            return tags;\n        }\n        const tagType = getStringFromDataView(dataView, tagOffset, 4);\n\n        if (tagType === TAG_TYPE_DESC) {\n            const tagValueSize = dataView.getUint32(tagOffset + 8);\n            if (tagValueSize > tagSize) {\n                // Tag data is invalid, lets return what we managed to parse\n                return tags;\n            }\n\n            const val = sliceToString(buffer.slice(tagOffset + 12, tagOffset + tagValueSize + 11));\n            addTag(tags, tagSignature, val);\n        } else if (tagType === TAG_TYPE_MULTI_LOCALIZED_UNICODE_TYPE) {\n            const numRecords = dataView.getUint32(tagOffset + 8);\n            const recordSize = dataView.getUint32(tagOffset + 12);\n            let offset = tagOffset + 16;\n            const val = [];\n            for (let recordNum = 0; recordNum < numRecords; recordNum++) {\n                const languageCode = getStringFromDataView(dataView, offset + 0, 2);\n                const countryCode = getStringFromDataView(dataView, offset + 2, 2);\n                const textLength = dataView.getUint32(offset + 4);\n                const textOffset = dataView.getUint32(offset + 8);\n\n                const text = getUnicodeStringFromDataView(dataView, tagOffset + textOffset, textLength);\n                val.push({languageCode, countryCode, text});\n                offset += recordSize;\n            }\n            if (numRecords === 1) {\n                addTag(tags, tagSignature, val[0].text);\n            } else {\n                const valObj = {};\n                for (let valIndex = 0; valIndex < val.length; valIndex++) {\n                    valObj[`${val[valIndex].languageCode}-${val[valIndex].countryCode}`] = val[valIndex].text;\n                }\n                addTag(tags, tagSignature, valObj);\n            }\n        } else if (tagType === TAG_TYPE_TEXT) {\n            const val = sliceToString(buffer.slice(tagOffset + 8, tagOffset + tagSize - 7));\n            addTag(tags, tagSignature, val);\n        } else if (tagType === TAG_TYPE_SIGNATURE) {\n            const val = sliceToString(buffer.slice(tagOffset + 8, tagOffset + 12));\n            addTag(tags, tagSignature, val);\n        }\n        tagHeaderOffset = tagHeaderOffset + 12;\n    }\n\n    return tags;\n}\n\nfunction sliceToString(slice) {\n    return String.fromCharCode.apply(null, new Uint8Array(slice));\n}\n\nfunction addTag(tags, tagSignature, value) {\n    if (iccTags[tagSignature]) {\n        tags[iccTags[tagSignature].name] = {value, description: value};\n    } else {\n        tags[tagSignature] = {value, description: value};\n    }\n}\n","import { Subject, Observable } from 'rxjs';\nimport {\n  FileReadEventType,\n  FileReadEvent,\n  FileReadState,\n  FileReadConfig,\n  FileReadResponseType,\n} from './types';\n\n/**\n * 파일 스트림 읽기.\n * FileReader 사용시 한번에 못 읽는 용량 끊어서 읽기 용.\n * @class FileReadStream\n */\nexport class FileReadStream {\n  /**\n   * @param {File} file FileReader 로 읽을 파일\n   * @param {FileReadConfig} [config={}] 스트림 옵션\n   */\n  constructor(file: File, config: FileReadConfig = {}) {\n    this.readFile = file;\n    this.reader = new FileReader();\n    this.reader.onload = this.onReaderLoaded.bind(this);\n    this.reader.onerror = this.onReaderError.bind(this);\n    this.subjectState = new Subject();\n    const { chunkSize = 1024 * 1024 * 10, responseType = FileReadResponseType.BLOB } = config;\n    this.readChunkSize = chunkSize;\n    this.responseType = responseType;\n  }\n\n  // 변경사항 알리미 @see https://rxjs-dev.firebaseapp.com\n  protected subjectState: Subject<FileReadEvent>;\n  // 파일 리더\n  protected reader: FileReader;\n  // 읽을 파일\n  protected readFile: File;\n  // 읽기 시작 여부\n  protected readStarted: boolean = false;\n  // 1회 읽을량\n  protected readChunkSize: number;\n  // 현재 읽기 offset\n  protected readOffset: number = 0;\n  // 현재 읽어야할 offset\n  protected readOffsetNext: number = 0;\n  // 현재 읽은량\n  protected readCurrent: number = 0;\n  // 현재 취소 상태인지 확인용\n  protected readStateAbort: boolean = false;\n  // 읽은 버퍼\n  protected buffers: ArrayBuffer[] = [];\n  // 응답시 파일 타입\n  protected responseType: FileReadResponseType;\n  // subjectState 로 진행(완료) 상태를 받을 수 있지만, 편의용 async/await 도 제공\n  protected readPromise: Promise<FileReadEvent>;\n  protected readPromiseResolve: (value: FileReadEvent) => void;\n  protected readPromiseReject: (reason?: any) => void;\n\n  /**\n   * 파일 읽기 1회 완료\n   * @protected\n   * @param {Event} evt\n   */\n  protected onReaderLoaded(evt: Event) {\n    this.readCurrent = this.readOffsetNext;\n    this.readOffset += this.readChunkSize;\n    this.buffers.push(this.reader.result as ArrayBuffer);\n    this.stateChanged();\n    this.next();\n  }\n\n  /**\n   * 파일 읽기 1회 오류\n   * @protected\n   * @param {Event} evt\n   */\n  protected onReaderError(evt: Event) {\n    this.resultReject(new Error('file reader onerror event'));\n  }\n\n  /**\n   * 다음 구간 읽기\n   * @protected\n   */\n  protected next() {\n    if (this.readStateAbort) {\n      return;\n    }\n    try {\n      const maxSize = this.readFile.size;\n      if (maxSize <= this.readOffset) {\n        this.resultResolve();\n        return;\n      }\n      let expectNext = this.readOffset + this.readChunkSize;\n      if (maxSize <= expectNext) expectNext = maxSize;\n      this.readOffsetNext = expectNext;\n      const sliceBlob = this.readFile.slice(this.readOffset, this.readOffsetNext);\n      this.reader.readAsArrayBuffer(sliceBlob);\n    } catch (err) {\n      this.onReaderError(err);\n    }\n  }\n\n  /**\n   * state 변경 시 알림\n   * @protected\n   */\n  protected stateChanged() {\n    this.subjectState.next({\n      type: FileReadEventType.CHANGE,\n      state: this.getState(),\n    });\n  }\n\n  /**\n   * 완료 시 알림\n   * @protected\n   */\n  protected resultResolve() {\n    const result: FileReadEvent = {\n      type: FileReadEventType.RESOLVE,\n      state: this.getState(),\n    };\n    this.reader.onload = null;\n    this.reader.onerror = null;\n    this.readPromiseResolve(result);\n    this.subjectState.next(result);\n  }\n\n  /**\n   * 실패 시 알림\n   * @protected\n   * @param {*} reason\n   */\n  protected resultReject(reason: any, type: FileReadEventType = FileReadEventType.REJECT) {\n    const result: FileReadEvent = {\n      type,\n      state: null,\n      error: reason,\n    };\n    this.reader.onload = null;\n    this.reader.onerror = null;\n    this.readPromiseReject(result);\n    this.subjectState.next(result);\n  }\n\n  /**\n   * 읽기 시작\n   * @returns {Promise<FileReadEvent>}\n   */\n  start(): Promise<FileReadEvent> {\n    if (this.readStarted) return;\n    this.readStarted = true;\n    this.readPromise = new Promise((resolve, reject) => {\n      this.readPromiseResolve = resolve;\n      this.readPromiseReject = reject;\n    });\n    this.next();\n    return this.readPromise;\n  }\n\n  /**\n   * 상태변경 옵저버\n   * @returns {Observable<FileReadEvent>}\n   */\n  observeState(): Observable<FileReadEvent> {\n    return this.subjectState.asObservable();\n  }\n\n  /**\n   * 현재 상태\n   * @returns {FileReadState}\n   */\n  getState(): FileReadState {\n    const { name = null, type = null, size = 0, lastModified = Date.now() } = this.readFile || {};\n    const state: FileReadState = {\n      fileName: name,\n      fileType: type,\n      fileSize: size,\n      fileLastModified: lastModified,\n      total: size,\n      readed: this.readCurrent,\n      responseType: this.responseType,\n      chunkSize: this.readChunkSize,\n    };\n    switch (this.responseType) {\n      case FileReadResponseType.BLOB:\n        state.blob = new Blob(this.buffers, { type });\n        break;\n      case FileReadResponseType.BUFFER:\n        state.buffers = this.buffers;\n        break;\n    }\n    return state;\n  }\n\n  /**\n   * 파일 읽기 중단\n   */\n  abort(): void {\n    this.readStateAbort = true;\n    if (this.reader) {\n      this.reader.abort();\n      this.reader.onload = null;\n      this.reader.onerror = null;\n      this.resultReject(new Error('file reader abort event'), FileReadEventType.ABORT);\n    }\n  }\n\n  /**\n   * 파기\n   */\n  destroy() {\n    if (this.reader) {\n      this.reader.abort();\n      this.reader.onload = null;\n      this.reader.onerror = null;\n      this.reader = null;\n    }\n    this.readFile = null;\n  }\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport Constants from './constants.js';\nimport Tiff from './image-header-tiff.js';\nimport Jpeg from './image-header-jpeg.js';\nimport Png from './image-header-png.js';\nimport Heic from './image-header-heic.js';\nimport Webp from './image-header-webp.js';\n\nexport default {\n    parseAppMarkers\n};\n\nfunction parseAppMarkers(dataView) {\n    if (Constants.USE_TIFF && Tiff.isTiffFile(dataView)) {\n        return Tiff.findTiffOffsets();\n    }\n\n    if (Constants.USE_JPEG && Jpeg.isJpegFile(dataView)) {\n        return Jpeg.findJpegOffsets(dataView);\n    }\n\n    if (Constants.USE_PNG && Png.isPngFile(dataView)) {\n        return Png.findPngOffsets(dataView);\n    }\n\n    if (Constants.USE_HEIC && Heic.isHeicFile(dataView)) {\n        return Heic.findHeicOffsets(dataView);\n    }\n\n    if (Constants.USE_WEBP && Webp.isWebpFile(dataView)) {\n        return Webp.findOffsets(dataView);\n    }\n\n    throw new Error('Invalid image format');\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringFromDataView} from './utils.js';\nimport Constants from './constants.js';\n\nexport default {\n    isHeicFile,\n    findHeicOffsets\n};\n\nfunction isHeicFile(dataView) {\n    const HEIC_ID = 'ftyp';\n    const HEIC_ID_OFFSET = 4;\n    const HEIC_MAJOR_BRANDS = ['heic', 'heix', 'hevc', 'hevx', 'heim', 'heis', 'hevm', 'hevs', 'mif1'];\n    const HEIC_MAJOR_BRAND_LENGTH = 4;\n\n    const heicMajorBrand = getStringFromDataView(dataView, HEIC_ID_OFFSET + HEIC_ID.length, HEIC_MAJOR_BRAND_LENGTH);\n\n    return (getStringFromDataView(dataView, HEIC_ID_OFFSET, HEIC_ID.length) === HEIC_ID)\n        && (HEIC_MAJOR_BRANDS.indexOf(heicMajorBrand) !== -1);\n}\n\nfunction findHeicOffsets(dataView) {\n    if (Constants.USE_EXIF || Constants.USE_ICC) {\n        const {offset: metaOffset, length: metaLength} = findMetaAtom(dataView);\n        if (metaOffset === undefined) {\n            return {hasAppMarkers: false};\n        }\n\n        const metaEndOffset = Math.min(metaOffset + metaLength, dataView.byteLength);\n        const {exifItemOffset, ilocOffset, colrOffset} = findMetaItems(dataView, metaOffset, metaEndOffset);\n\n        const exifOffset = findExifOffset(dataView, exifItemOffset, ilocOffset, metaEndOffset);\n        const iccChunks = findIccChunks(dataView, colrOffset, metaEndOffset);\n        return {\n            hasAppMarkers: (exifOffset !== undefined) || (iccChunks !== undefined),\n            tiffHeaderOffset: exifOffset,\n            iccChunks\n        };\n    }\n\n    return {hasAppMarkers: false};\n}\n\nfunction findMetaAtom(dataView) {\n    const ATOM_LENGTH_SIZE = 4;\n    const ATOM_TYPE_SIZE = 4;\n    const ATOM_MIN_LENGTH = 8;\n    const ATOM_TYPE_OFFSET = 4;\n\n    let offset = 0;\n\n    while (offset + ATOM_LENGTH_SIZE + ATOM_TYPE_SIZE <= dataView.byteLength) {\n        const atomLength = getAtomLength(dataView, offset);\n        if (atomLength >= ATOM_MIN_LENGTH) {\n            const atomType = getStringFromDataView(dataView, offset + ATOM_TYPE_OFFSET, ATOM_TYPE_SIZE);\n            if (atomType === 'meta') {\n                return {\n                    offset,\n                    length: atomLength\n                };\n            }\n        }\n\n        offset += atomLength;\n    }\n\n    return {\n        offset: undefined,\n        length: 0\n    };\n}\n\nfunction getAtomLength(dataView, offset) {\n    const ATOM_EXTENDED_SIZE_LOW_OFFSET = 12;\n\n    const atomLength = dataView.getUint32(offset);\n    if (extendsToEndOfFile(atomLength)) {\n        return dataView.byteLength - offset;\n    }\n    if (hasExtendedSize(atomLength)) {\n        if (hasEmptyHighBits(dataView, offset)) {\n            // It's a bit tricky to handle 64 bit numbers in JavaScript. Let's\n            // wait until there are real-world examples where it is necessary.\n            return dataView.getUint32(offset + ATOM_EXTENDED_SIZE_LOW_OFFSET);\n        }\n    }\n\n    return atomLength;\n}\n\nfunction extendsToEndOfFile(atomLength) {\n    return atomLength === 0;\n}\n\nfunction hasExtendedSize(atomLength) {\n    return atomLength === 1;\n}\n\nfunction hasEmptyHighBits(dataView, offset) {\n    const ATOM_EXTENDED_SIZE_OFFSET = 8;\n    return dataView.getUint32(offset + ATOM_EXTENDED_SIZE_OFFSET) === 0;\n}\n\nfunction findMetaItems(dataView, offset, metaEndOffset) {\n    const STRING_SIZE = 4;\n    const ITEM_INDEX_REL_OFFSET = -4;\n    const offsets = {\n        ilocOffset: undefined,\n        exifItemOffset: undefined,\n        colrOffset: undefined\n    };\n\n    while ((offset + STRING_SIZE <= metaEndOffset)\n        && (!offsets.ilocOffset || !offsets.exifItemOffset || !offsets.colrOffset)) {\n        const itemName = getStringFromDataView(dataView, offset, STRING_SIZE);\n        if (Constants.USE_EXIF && (itemName === 'iloc')) {\n            offsets.ilocOffset = offset;\n        } else if (Constants.USE_EXIF && (itemName === 'Exif')) {\n            offsets.exifItemOffset = offset + ITEM_INDEX_REL_OFFSET;\n        } else if (Constants.USE_ICC && (itemName === 'colr')) {\n            offsets.colrOffset = offset + ITEM_INDEX_REL_OFFSET;\n        }\n\n        offset++;\n    }\n\n    return offsets;\n}\n\nfunction findExifOffset(dataView, exifItemOffset, offset, metaEndOffset) {\n    const EXIF_ITEM_OFFSET_SIZE = 2;\n    const ILOC_DATA_OFFSET = 12;\n    const EXIF_POINTER_OFFSET = 8;\n    const EXIF_POINTER_SIZE = 4;\n    const EXIF_PREFIX_LENGTH_OFFSET = 4;\n    const ILOC_ITEM_SIZE = 16;\n\n    if (!offset || !exifItemOffset || (exifItemOffset + EXIF_ITEM_OFFSET_SIZE > metaEndOffset)) {\n        return undefined;\n    }\n\n    const exifItemIndex = dataView.getUint16(exifItemOffset);\n    offset += ILOC_DATA_OFFSET;\n\n    while (offset + ILOC_ITEM_SIZE <= metaEndOffset) {\n        const itemIndex = dataView.getUint16(offset);\n        if (itemIndex === exifItemIndex) {\n            const exifPointer = dataView.getUint32(offset + EXIF_POINTER_OFFSET);\n            if (exifPointer + EXIF_POINTER_SIZE <= dataView.byteLength) {\n                const exifOffset = dataView.getUint32(exifPointer);\n                const prefixLength = exifOffset + EXIF_PREFIX_LENGTH_OFFSET;\n                return exifPointer + prefixLength;\n            }\n        }\n        offset += ILOC_ITEM_SIZE;\n    }\n\n    return undefined;\n}\n\nfunction findIccChunks(dataView, offset, metaEndOffset) {\n    const ITEM_TYPE_OFFSET = 8;\n    const ITEM_TYPE_SIZE = 4;\n    const ITEM_CONTENT_OFFSET = 12;\n\n    if (!offset || (offset + ITEM_CONTENT_OFFSET > metaEndOffset)) {\n        return undefined;\n    }\n\n    const colorType = getStringFromDataView(dataView, offset + ITEM_TYPE_OFFSET, ITEM_TYPE_SIZE);\n    if ((colorType !== 'prof') && (colorType !== 'rICC')) {\n        return undefined;\n    }\n\n    return [{\n        offset: offset + ITEM_CONTENT_OFFSET,\n        length: getAtomLength(dataView, offset) - ITEM_CONTENT_OFFSET,\n        chunkNumber: 1,\n        chunksTotal: 1\n    }];\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport Types from './types.js';\n\nexport default {\n    read\n};\n\nfunction read(dataView, fileDataOffset) {\n    return {\n        'Image Width': getImageWidth(dataView, fileDataOffset),\n        'Image Height': getImageHeight(dataView, fileDataOffset),\n        'Bit Depth': getBitDepth(dataView, fileDataOffset),\n        'Color Type': getColorType(dataView, fileDataOffset),\n        'Compression': getCompression(dataView, fileDataOffset),\n        'Filter': getFilter(dataView, fileDataOffset),\n        'Interlace': getInterlace(dataView, fileDataOffset)\n    };\n}\n\nfunction getImageWidth(dataView, fileDataOffset) {\n    const OFFSET = 0;\n    const SIZE = 4;\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getLongAt(dataView, fileDataOffset);\n    return {\n        value,\n        description: `${value}px`\n    };\n}\n\nfunction getImageHeight(dataView, fileDataOffset) {\n    const OFFSET = 4;\n    const SIZE = 4;\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getLongAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: `${value}px`\n    };\n}\n\nfunction getBitDepth(dataView, fileDataOffset) {\n    const OFFSET = 8;\n    const SIZE = 1;\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: `${value}`\n    };\n}\n\nfunction getColorType(dataView, fileDataOffset) {\n    const OFFSET = 9;\n    const SIZE = 1;\n    const COLOR_TYPES = {\n        0: 'Grayscale',\n        2: 'RGB',\n        3: 'Palette',\n        4: 'Grayscale with Alpha',\n        6: 'RGB with Alpha'\n    };\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: COLOR_TYPES[value] || 'Unknown'\n    };\n}\n\nfunction getCompression(dataView, fileDataOffset) {\n    const OFFSET = 10;\n    const SIZE = 1;\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: value === 0 ? 'Deflate/Inflate' : 'Unknown'\n    };\n}\n\nfunction getFilter(dataView, fileDataOffset) {\n    const OFFSET = 11;\n    const SIZE = 1;\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: value === 0 ? 'Adaptive' : 'Unknown'\n    };\n}\n\nfunction getInterlace(dataView, fileDataOffset) {\n    const OFFSET = 12;\n    const SIZE = 1;\n    const INTERLACE_TYPES = {\n        0: 'Noninterlaced',\n        1: 'Adam7 Interlace'\n    };\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: INTERLACE_TYPES[value] || 'Unknown'\n    };\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport TagNamesCommon from './tag-names-common.js';\n\nexport default {\n    0x000b: 'ProcessingSoftware',\n    0x00fe: {\n        name: 'SubfileType',\n        description: (value) => ({\n            0x0: 'Full-resolution image',\n            0x1: 'Reduced-resolution image',\n            0x2: 'Single page of multi-page image',\n            0x3: 'Single page of multi-page reduced-resolution image',\n            0x4: 'Transparency mask',\n            0x5: 'Transparency mask of reduced-resolution image',\n            0x6: 'Transparency mask of multi-page image',\n            0x7: 'Transparency mask of reduced-resolution multi-page image',\n            0x10001: 'Alternate reduced-resolution image',\n            0xffffffff: 'Invalid'\n        })[value] || 'Unknown'\n    },\n    0x00ff: {\n        name: 'OldSubfileType',\n        description: (value) => ({\n            0: 'Full-resolution image',\n            1: 'Reduced-resolution image',\n            2: 'Single page of multi-page image'\n        })[value] || 'Unknown'\n    },\n    0x0100: 'ImageWidth',\n    0x0101: 'ImageLength',\n    0x0102: 'BitsPerSample',\n    0x0103: 'Compression',\n    0x0106: 'PhotometricInterpretation',\n    0x0107: {\n        name: 'Thresholding',\n        description: (value) => ({\n            1: 'No dithering or halftoning',\n            2: 'Ordered dither or halfton',\n            3: 'Randomized dither'\n        })[value] || 'Unknown'\n    },\n    0x0108: 'CellWidth',\n    0x0109: 'CellLength',\n    0x010a: {\n        name: 'FillOrder',\n        description: (value) => ({\n            1: 'Normal',\n            2: 'Reversed'\n        })[value] || 'Unknown'\n    },\n    0x010d: 'DocumentName',\n    0x010e: 'ImageDescription',\n    0x010f: 'Make',\n    0x0110: 'Model',\n    0x0111: 'StripOffsets',\n    0x0112: {\n        name: 'Orientation',\n        description: (value) => {\n            if (value === 1) {\n                return 'top-left';\n            }\n            if (value === 2) {\n                return 'top-right';\n            }\n            if (value === 3) {\n                return 'bottom-right';\n            }\n            if (value === 4) {\n                return 'bottom-left';\n            }\n            if (value === 5) {\n                return 'left-top';\n            }\n            if (value === 6) {\n                return 'right-top';\n            }\n            if (value === 7) {\n                return 'right-bottom';\n            }\n            if (value === 8) {\n                return 'left-bottom';\n            }\n            return 'Undefined';\n        }\n    },\n    0x0115: 'SamplesPerPixel',\n    0x0116: 'RowsPerStrip',\n    0x0117: 'StripByteCounts',\n    0x0118: 'MinSampleValue',\n    0x0119: 'MaxSampleValue',\n    0x011a: {\n        'name': 'XResolution',\n        'description': (value) => {\n            return '' + Math.round(value[0] / value[1]);\n        }\n    },\n    0x011b: {\n        'name': 'YResolution',\n        'description': (value) => {\n            return '' + Math.round(value[0] / value[1]);\n        }\n    },\n    0x011c: 'PlanarConfiguration',\n    0x011d: 'PageName',\n    0x011e: {\n        'name': 'XPosition',\n        'description': (value) => {\n            return '' + Math.round(value[0] / value[1]);\n        }\n    },\n    0x011f: {\n        'name': 'YPosition',\n        'description': (value) => {\n            return '' + Math.round(value[0] / value[1]);\n        }\n    },\n    0x0122: {\n        name: 'GrayResponseUnit',\n        description: (value) => ({\n            1: '0.1',\n            2: '0.001',\n            3: '0.0001',\n            4: '1e-05',\n            5: '1e-06'\n        })[value] || 'Unknown'\n    },\n    0x0128: {\n        name: 'ResolutionUnit',\n        description: (value) => {\n            if (value === 2) {\n                return 'inches';\n            }\n            if (value === 3) {\n                return 'centimeters';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0129: 'PageNumber',\n    0x012d: 'TransferFunction',\n    0x0131: 'Software',\n    0x0132: 'DateTime',\n    0x013b: 'Artist',\n    0x013c: 'HostComputer',\n    0x013d: 'Predictor',\n    0x013e: {\n        'name': 'WhitePoint',\n        'description': (values) => {\n            return values.map((value) => `${value[0]}/${value[1]}`).join(', ');\n        }\n    },\n    0x013f: {\n        'name': 'PrimaryChromaticities',\n        'description': (values) => {\n            return values.map((value) => `${value[0]}/${value[1]}`).join(', ');\n        }\n    },\n    0x0141: 'HalftoneHints',\n    0x0142: 'TileWidth',\n    0x0143: 'TileLength',\n    0x014a: 'A100DataOffset',\n    0x014c: {\n        name: 'InkSet',\n        description: (value) => ({\n            1: 'CMYK',\n            2: 'Not CMYK'\n        })[value] || 'Unknown'\n    },\n    0x0151: 'TargetPrinter',\n    0x0152: {\n        name: 'ExtraSamples',\n        description: (value) => ({\n            0: 'Unspecified',\n            1: 'Associated Alpha',\n            2: 'Unassociated Alpha',\n        })[value] || 'Unknown'\n    },\n    0x0153: {\n        name: 'SampleFormat',\n        description: (value) => {\n            const formats = {\n                1: 'Unsigned',\n                2: 'Signed',\n                3: 'Float',\n                4: 'Undefined',\n                5: 'Complex int',\n                6: 'Complex float',\n            };\n            if (!Array.isArray(value)) {\n                return 'Unknown';\n            }\n            return value.map((sample) => formats[sample] || 'Unknown').join(', ');\n        }\n    },\n    0x0201: 'JPEGInterchangeFormat',\n    0x0202: 'JPEGInterchangeFormatLength',\n    0x0211: {\n        'name': 'YCbCrCoefficients',\n        'description': (values) => {\n            return values.map((value) => '' + value[0] / value[1]).join('/');\n        }\n    },\n    0x0212: 'YCbCrSubSampling',\n    0x0213: {\n        name: 'YCbCrPositioning',\n        description: (value) => {\n            if (value === 1) {\n                return 'centered';\n            }\n            if (value === 2) {\n                return 'co-sited';\n            }\n            return 'undefined ' + value;\n        }\n    },\n    0x0214: {\n        'name': 'ReferenceBlackWhite',\n        'description': (values) => {\n            return values.map((value) => '' + value[0] / value[1]).join(', ');\n        }\n    },\n    0x02bc: 'ApplicationNotes',\n    0x4746: 'Rating',\n    0x4749: 'RatingPercent',\n    0x8298: {\n        name: 'Copyright',\n        description: (value) => value.join('; ')\n    },\n    0x830e: 'PixelScale',\n    0x83bb: 'IPTC-NAA',\n    0x8480: 'IntergraphMatrix',\n    0x8482: 'ModelTiePoint',\n    0x8546: 'SEMInfo',\n    0x85d8: 'ModelTransform',\n    0x8649: 'PhotoshopSettings',\n    0x8769: 'Exif IFD Pointer',\n    0x8773: 'ICC_Profile',\n    0x87af: 'GeoTiffDirectory',\n    0x87b0: 'GeoTiffDoubleParams',\n    0x87b1: 'GeoTiffAsciiParams',\n    0x8825: 'GPS Info IFD Pointer',\n    0x9c9b: 'XPTitle',\n    0x9c9c: 'XPComment',\n    0x9c9d: 'XPAuthor',\n    0x9c9e: 'XPKeywords',\n    0x9c9f: 'XPSubject',\n    0xa480: 'GDALMetadata',\n    0xa481: 'GDALNoData',\n    0xc4a5: 'PrintIM',\n    0xc613: 'DNGBackwardVersion',\n    0xc614: 'UniqueCameraModel',\n    0xc615: 'LocalizedCameraModel',\n    0xc621: 'ColorMatrix1',\n    0xc622: 'ColorMatrix2',\n    0xc623: 'CameraCalibration1',\n    0xc624: 'CameraCalibration2',\n    0xc625: 'ReductionMatrix1',\n    0xc626: 'ReductionMatrix2',\n    0xc627: 'AnalogBalance',\n    0xc628: 'AsShotNeutral',\n    0xc629: 'AsShotWhiteXY',\n    0xc62a: 'BaselineExposure',\n    0xc62b: 'BaselineNoise',\n    0xc62c: 'BaselineSharpness',\n    0xc62e: 'LinearResponseLimit',\n    0xc62f: 'CameraSerialNumber',\n    0xc630: 'DNGLensInfo',\n    0xc633: 'ShadowScale',\n    0xc635: {\n        name: 'MakerNoteSafety',\n        description: (value) => ({\n            0: 'Unsafe',\n            1: 'Safe'\n        })[value] || 'Unknown'\n    },\n    0xc65a: {\n        name: 'CalibrationIlluminant1',\n        description: TagNamesCommon['LightSource']\n    },\n    0xc65b: {\n        name: 'CalibrationIlluminant2',\n        description: TagNamesCommon['LightSource']\n    },\n    0xc65d: 'RawDataUniqueID',\n    0xc68b: 'OriginalRawFileName',\n    0xc68c: 'OriginalRawFileData',\n    0xc68f: 'AsShotICCProfile',\n    0xc690: 'AsShotPreProfileMatrix',\n    0xc691: 'CurrentICCProfile',\n    0xc692: 'CurrentPreProfileMatrix',\n    0xc6bf: 'ColorimetricReference',\n    0xc6c5: 'SRawType',\n    0xc6d2: 'PanasonicTitle',\n    0xc6d3: 'PanasonicTitle2',\n    0xc6f3: 'CameraCalibrationSig',\n    0xc6f4: 'ProfileCalibrationSig',\n    0xc6f5: 'ProfileIFD',\n    0xc6f6: 'AsShotProfileName',\n    0xc6f8: 'ProfileName',\n    0xc6f9: 'ProfileHueSatMapDims',\n    0xc6fa: 'ProfileHueSatMapData1',\n    0xc6fb: 'ProfileHueSatMapData2',\n    0xc6fc: 'ProfileToneCurve',\n    0xc6fd: {\n        name: 'ProfileEmbedPolicy',\n        description: (value) => ({\n            0: 'Allow Copying',\n            1: 'Embed if Used',\n            2: 'Never Embed',\n            3: 'No Restrictions'\n        })[value] || 'Unknown'\n    },\n    0xc6fe: 'ProfileCopyright',\n    0xc714: 'ForwardMatrix1',\n    0xc715: 'ForwardMatrix2',\n    0xc716: 'PreviewApplicationName',\n    0xc717: 'PreviewApplicationVersion',\n    0xc718: 'PreviewSettingsName',\n    0xc719: 'PreviewSettingsDigest',\n    0xc71a: {\n        name: 'PreviewColorSpace',\n        description: (value) => ({\n            1: 'Gray Gamma 2.2',\n            2: 'sRGB',\n            3: 'Adobe RGB',\n            4: 'ProPhoto RGB'\n        })[value] || 'Unknown'\n    },\n    0xc71b: 'PreviewDateTime',\n    0xc71c: 'RawImageDigest',\n    0xc71d: 'OriginalRawFileDigest',\n    0xc725: 'ProfileLookTableDims',\n    0xc726: 'ProfileLookTableData',\n    0xc763: 'TimeCodes',\n    0xc764: 'FrameRate',\n    0xc772: 'TStop',\n    0xc789: 'ReelName',\n    0xc791: 'OriginalDefaultFinalSize',\n    0xc792: 'OriginalBestQualitySize',\n    0xc793: 'OriginalDefaultCropSize',\n    0xc7a1: 'CameraLabel',\n    0xc7a3: {\n        name: 'ProfileHueSatMapEncoding',\n        description: (value) => ({\n            0: 'Linear',\n            1: 'sRGB'\n        })[value] || 'Unknown'\n    },\n    0xc7a4: {\n        name: 'ProfileLookTableEncoding',\n        description: (value) => ({\n            0: 'Linear',\n            1: 'sRGB'\n        })[value] || 'Unknown'\n    },\n    0xc7a5: 'BaselineExposureOffset',\n    0xc7a6: {\n        name: 'DefaultBlackRender',\n        description: (value) => ({\n            0: 'Auto',\n            1: 'None'\n        })[value] || 'Unknown'\n    },\n    0xc7a7: 'NewRawImageDigest',\n    0xc7a8: 'RawToPreviewGain'\n};\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringValue} from './tag-names-utils.js';\n\nexport default {\n    0x0001: 'InteroperabilityIndex',\n    0x0002: {\n        name: 'InteroperabilityVersion',\n        description: (value) => getStringValue(value)\n    },\n    0x1000: 'RelatedImageFileFormat',\n    0x1001: 'RelatedImageWidth',\n    0x1002: 'RelatedImageHeight'\n};\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport default {\n    get\n};\n\nfunction get() {\n    if (typeof TextDecoder !== 'undefined') {\n        return TextDecoder;\n    }\n\n    return undefined;\n}\n","/**\n * dependencies\n * - rxjs: https://rxjs-dev.firebaseapp.com\n */\n\nexport * from './types';\nexport * from './FileReadStream';\n","/**\n * 스트림 이벤트 타입\n *  - CHANGE: 변경사항이 있음\n *  - RESOLVE: 완료\n *  - REJECT: 오류\n * @export\n * @enum {string}\n */\nexport enum FileReadEventType {\n  CHANGE = 'CHANGE',\n  RESOLVE = 'RESOLVE',\n  REJECT = 'REJECT',\n  ABORT = 'ABORT',\n}\n\n/**\n * 스트림 이벤트\n * @export\n * @interface FileReadEvent\n */\nexport interface FileReadEvent {\n  /**\n   * 이벤트 타입명\n   * @type {FileReadEventType}\n   */\n  type: FileReadEventType;\n  /**\n   * 스트림 상태\n   * @type {FileReadState}\n   */\n  state: FileReadState;\n  /**\n   * 오류\n   * @type {*}\n   */\n  error?: any;\n}\n\n/**\n * 스트림 상태 정보\n * @export\n * @interface FileReadState\n */\nexport interface FileReadState {\n  /**\n   * 파일명\n   * @type {string}\n   */\n  fileName: string;\n  /**\n   * 파일의 (Mime)타입\n   * @type {string}\n   */\n  fileType: string;\n  /**\n   * 파일의 용량\n   * @type {number}\n   */\n  fileSize: number;\n  /**\n   * 파일의 마지막 수정시간\n   * @type {number}\n   */\n  fileLastModified: number;\n  /**\n   * 읽어들인 용량\n   * @type {number}\n   */\n  readed: number;\n  /**\n   * 읽어내야할 용량(파일 용량)\n   * @type {number}\n   */\n  total: number;\n  /**\n   * 1회 읽기시 읽어들일 용량\n   * @type {number}\n   */\n  chunkSize: number;\n  /**\n   * 읽기 완료 후 반환 타입\n   * @type {FileReadResponseType}\n   */\n  responseType: FileReadResponseType;\n  /**\n   * responseType 이 BUFFER 인 경우 반환하는 ArrayBuffer[]\n   * @type {ArrayBuffer[]}\n   */\n  buffers?: ArrayBuffer[];\n  /**\n   * responseType 이 BLOB 인 경우 반환하는 Blob\n   * @type {Blob}\n   */\n  blob?: Blob;\n}\n\n/**\n * 스트림 옵션\n * @export\n * @interface FileReadConfig\n */\nexport interface FileReadConfig {\n  /**\n   * 1회에 읽어들일 용량\n   * @type {number}\n   */\n  chunkSize?: number;\n  /**\n   * 읽기 완료 후 반환 타입\n   * @type {FileReadResponseType}\n   */\n  responseType?: FileReadResponseType;\n}\n\n/**\n * 스트립 상태 정보 중 완료시 파일 타입.\n *  - BUFFER: ArrayBuffer[] 타입\n *  - BLOB: Blob 타입\n * @export\n * @enum {string}\n */\nexport enum FileReadResponseType {\n  BUFFER = 'BUFFER',\n  BLOB = 'BLOB',\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport IptcTagNames from './iptc-tag-names.js';\nimport TagDecoder from './tag-decoder.js';\n\nconst BYTES_8BIM = 0x3842494d;\nconst BYTES_8BIM_SIZE = 4;\nconst RESOURCE_BLOCK_HEADER_SIZE = BYTES_8BIM_SIZE + 8;\nconst NAA_RESOURCE_BLOCK_TYPE = 0x0404;\nconst TAG_HEADER_SIZE = 5;\n\nexport default {\n    read\n};\n\nfunction read(dataView, dataOffset) {\n    try {\n        if (Array.isArray(dataView)) {\n            return parseTags(new DataView(Uint8Array.from(dataView).buffer), {size: dataView.length}, 0);\n        }\n        const {naaBlock, dataOffset: newDataOffset} = getNaaResourceBlock(dataView, dataOffset);\n        return parseTags(dataView, naaBlock, newDataOffset);\n    } catch (error) {\n        return {};\n    }\n}\n\nfunction getNaaResourceBlock(dataView, dataOffset) {\n    while (dataOffset + RESOURCE_BLOCK_HEADER_SIZE <= dataView.byteLength) {\n        const resourceBlock = getResourceBlock(dataView, dataOffset);\n        if (isNaaResourceBlock(resourceBlock)) {\n            return {naaBlock: resourceBlock, dataOffset: dataOffset + RESOURCE_BLOCK_HEADER_SIZE};\n        }\n        dataOffset += RESOURCE_BLOCK_HEADER_SIZE + resourceBlock.size + getBlockPadding(resourceBlock);\n    }\n    throw new Error('No IPTC NAA resource block.');\n}\n\nfunction getResourceBlock(dataView, dataOffset) {\n    const RESOURCE_BLOCK_SIZE_OFFSET = 10;\n\n    if (dataView.getUint32(dataOffset, false) !== BYTES_8BIM) {\n        throw new Error('Not an IPTC resource block.');\n    }\n\n    return {\n        type: dataView.getUint16(dataOffset + BYTES_8BIM_SIZE),\n        size: dataView.getUint16(dataOffset + RESOURCE_BLOCK_SIZE_OFFSET)\n    };\n}\n\nfunction isNaaResourceBlock(resourceBlock) {\n    return resourceBlock.type === NAA_RESOURCE_BLOCK_TYPE;\n}\n\nfunction getBlockPadding(resourceBlock) {\n    if (resourceBlock.size % 2 !== 0) {\n        return 1;\n    }\n    return 0;\n}\n\nfunction parseTags(dataView, naaBlock, dataOffset) {\n    const tags = {};\n    let encoding = undefined;\n\n    const endOfBlockOffset = dataOffset + naaBlock['size'];\n\n    while ((dataOffset < endOfBlockOffset) && (dataOffset < dataView.byteLength)) {\n        const {tag, tagSize} = readTag(dataView, dataOffset, tags, encoding);\n\n        if (tag === null) {\n            break;\n        }\n\n        if ('encoding' in tag) {\n            encoding = tag.encoding;\n        }\n\n        if ((tags[tag.name] === undefined) || (tag['repeatable'] === undefined)) {\n            tags[tag.name] = {\n                id: tag.id,\n                value: tag.value,\n                description: tag.description\n            };\n        } else {\n            if (!(tags[tag.name] instanceof Array)) {\n                tags[tag.name] = [{\n                    id: tags[tag.name].id,\n                    value: tags[tag.name].value,\n                    description: tags[tag.name].description\n                }];\n            }\n            tags[tag.name].push({\n                id: tag.id,\n                value: tag.value,\n                description: tag.description\n            });\n        }\n\n        dataOffset += TAG_HEADER_SIZE + tagSize;\n    }\n\n    return tags;\n}\n\nfunction readTag(dataView, dataOffset, tags, encoding) {\n    const TAG_CODE_OFFSET = 1;\n    const TAG_SIZE_OFFSET = 3;\n\n    if (leadByteIsMissing(dataView, dataOffset)) {\n        return {tag: null, tagSize: 0};\n    }\n\n    const tagCode = dataView.getUint16(dataOffset + TAG_CODE_OFFSET);\n    const tagSize = dataView.getUint16(dataOffset + TAG_SIZE_OFFSET);\n    const tagValue = getTagValue(dataView, dataOffset + TAG_HEADER_SIZE, tagSize);\n\n    const tag = {\n        id: tagCode,\n        name: getTagName(IptcTagNames['iptc'][tagCode], tagCode, tagValue),\n        value: tagValue,\n        description: getTagDescription(IptcTagNames['iptc'][tagCode], tagValue, tags, encoding)\n    };\n    if (tagIsRepeatable(tagCode)) {\n        tag['repeatable'] = true;\n    }\n    if (tagContainsEncoding(tagCode)) {\n        tag['encoding'] = IptcTagNames['iptc'][tagCode]['encoding_name'](tagValue);\n    }\n\n    return {tag, tagSize};\n}\n\nfunction leadByteIsMissing(dataView, dataOffset) {\n    const TAG_LEAD_BYTE = 0x1c;\n    return dataView.getUint8(dataOffset) !== TAG_LEAD_BYTE;\n}\n\nfunction getTagValue(dataView, offset, size) {\n    const value = [];\n\n    for (let valueIndex = 0; valueIndex < size; valueIndex++) {\n        value.push(dataView.getUint8(offset + valueIndex));\n    }\n\n    return value;\n}\n\nfunction getTagName(tag, tagCode, tagValue) {\n    if (!tag) {\n        return `undefined-${tagCode}`;\n    }\n    if (tagIsName(tag)) {\n        return tag;\n    }\n    if (hasDynamicName(tag)) {\n        return tag['name'](tagValue);\n    }\n    return tag['name'];\n}\n\nfunction tagIsName(tag) {\n    return typeof tag === 'string';\n}\n\nfunction hasDynamicName(tag) {\n    return typeof (tag['name']) === 'function';\n}\n\nfunction getTagDescription(tag, tagValue, tags, encoding) {\n    if (hasDescriptionProperty(tag)) {\n        try {\n            return tag['description'](tagValue, tags);\n        } catch (error) {\n            // Fall through to next handler.\n        }\n    }\n    if (tagValueIsText(tag, tagValue)) {\n        return TagDecoder.decode(encoding, tagValue);\n    }\n    return tagValue;\n}\n\nfunction tagValueIsText(tag, tagValue) {\n    return tag && tagValue instanceof Array;\n}\n\nfunction hasDescriptionProperty(tag) {\n    return tag && tag['description'] !== undefined;\n}\n\nfunction tagIsRepeatable(tagCode) {\n    return IptcTagNames['iptc'][tagCode] && IptcTagNames['iptc'][tagCode]['repeatable'];\n}\n\nfunction tagContainsEncoding(tagCode) {\n    return IptcTagNames['iptc'][tagCode] && IptcTagNames['iptc'][tagCode]['encoding_name'] !== undefined;\n}\n","export default \".file-wrap {\\n  padding: 30px 0;\\n}\\n\\n.my-desc {\\n  padding: 7px 10px 7px 22px;\\n  color: #666666;\\n  font-size: 14px;\\n  line-height: 1.45;\\n}\\n\\n.my-desc .item {\\n  padding: 3px 0;\\n  list-style: outside square;\\n}\\n\\n.fm-box-wrap {\\n  display: flex;\\n  flex-wrap: wrap;\\n}\\n\\n.fm-box-wrap .fm-box {\\n  flex: 1;\\n  margin: 5px;\\n  padding: 10px 15px;\\n  min-width: 240px;\\n  width: 25%;\\n  border-radius: 5px;\\n  box-sizing: border-box;\\n  background-color: #f7f7f7;\\n}\\n\\n.fm-box-wrap .fm-box .label {\\n  display: block;\\n  font-size: 14px;\\n  color: #666666;\\n}\\n\\n.fm-box-wrap .fm-box .box {\\n  margin-top: 5px;\\n  padding: 5px 0;\\n}\\n\\n.fm-box-wrap .fm-input {\\n  display: block;\\n  padding: 0 10px;\\n  width: 100%;\\n  height: 32px;\\n  font-size: 16px;\\n  box-sizing: border-box;\\n  border-radius: 0;\\n  border: none;\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\\n  background: none;\\n  -webkit-appearance: none;\\n     -moz-appearance: none;\\n          appearance: none;\\n}\\n\\n.demo-wrap {\\n  display: flex;\\n  flex-wrap: wrap;\\n}\\n\\n.demo-wrap .demo-item {\\n  padding: 10px;\\n  width: 50%;\\n  min-width: 280px;\\n  box-sizing: border-box;\\n}\\n\\n.demo-wrap .demo-item .panel-info {\\n  padding: 10px 10px;\\n  font-size: 14px;\\n  box-sizing: border-box;\\n}\\n\\n.demo-wrap .demo-item .panel-info .tit {\\n  display: block;\\n  padding-bottom: 5px;\\n  font-size: 16px;\\n  font-style: normal;\\n  font-weight: bold;\\n}\\n\\n.demo-wrap .demo-item .panel-info .dl {\\n  display: flex;\\n  padding: 5px 0;\\n  align-items: center;\\n}\\n\\n.demo-wrap .demo-item .panel-info .dl .dt {\\n  width: 50px;\\n  color: #999999;\\n}\\n\\n.demo-wrap .demo-item .panel-info .dl .dd {\\n  color: #000000;\\n}\\n\\n.demo-wrap .demo-item .panel-canvas {\\n  position: relative;\\n  padding-bottom: 100%;\\n  box-sizing: border-box;\\n}\\n\\n.demo-wrap .demo-item .panel-canvas .draw-area {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  overflow: auto;\\n  box-sizing: border-box;\\n  border: 1px dashed #000000;\\n  background-color: #f9f9f9;\\n  background-image: linear-gradient(45deg, #d9d9d9 25%, transparent 25%, transparent 75%, #d9d9d9 75%, #d9d9d9), linear-gradient(45deg, #d9d9d9 25%, transparent 25%, transparent 75%, #d9d9d9 75%, #d9d9d9);\\n  background-size: 20px 20px;\\n  background-position: 0 0, 10px 10px;\\n}\\n\\n.demo-wrap .demo-item .panel-canvas .draw-area > canvas {\\n  display: block;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2Jsb2ItaW1hZ2UuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFBO0FBQ0Y7O0FBQ0E7RUFDRSwwQkFBQTtFQUNBLGNBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7QUFFRjs7QUFERTtFQUNFLGNBQUE7RUFDQSwwQkFBQTtBQUdKOztBQUFBO0VBQ0UsYUFBQTtFQUNBLGVBQUE7QUFHRjs7QUFGRTtFQUNFLE9BQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLFVBQUE7RUFDQSxrQkFBQTtFQUNBLHNCQUFBO0VBQ0EseUJBQUE7QUFJSjs7QUFISTtFQUNFLGNBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtBQUtOOztBQUhJO0VBQ0UsZUFBQTtFQUNBLGNBQUE7QUFLTjs7QUFGRTtFQUNFLGNBQUE7RUFDQSxlQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0VBQ0Esc0JBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7RUFDQSwyQ0FBQTtFQUNBLGdCQUFBO0VBQ0Esd0JBQUE7S0FBQSxxQkFBQTtVQUFBLGdCQUFBO0FBSUo7O0FBREE7RUFDRSxhQUFBO0VBQ0EsZUFBQTtBQUlGOztBQUhFO0VBQ0UsYUFBQTtFQUNBLFVBQUE7RUFDQSxnQkFBQTtFQUNBLHNCQUFBO0FBS0o7O0FBSkk7RUFDRSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxzQkFBQTtBQU1OOztBQUxNO0VBQ0UsY0FBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7QUFPUjs7QUFMTTtFQUNFLGFBQUE7RUFDQSxjQUFBO0VBQ0EsbUJBQUE7QUFPUjs7QUFOUTtFQUNFLFdBQUE7RUFDQSxjQUFBO0FBUVY7O0FBTlE7RUFDRSxjQUFBO0FBUVY7O0FBSEk7RUFDRSxrQkFBQTtFQUNBLG9CQUFBO0VBQ0Esc0JBQUE7QUFLTjs7QUFKTTtFQUNFLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGNBQUE7RUFDQSxzQkFBQTtFQUNBLDBCQUFBO0VBQ0EseUJBQUE7RUFDQSwwTUFBQTtFQWdCQSwwQkFBQTtFQUNBLG1DQUFBO0FBVFI7O0FBVVE7RUFDRSxjQUFBO0FBUlYiLCJmaWxlIjoiYmxvYi1pbWFnZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5maWxlLXdyYXAge1xuICBwYWRkaW5nOiAzMHB4IDA7XG59XG4ubXktZGVzYyB7XG4gIHBhZGRpbmc6IDdweCAxMHB4IDdweCAyMnB4O1xuICBjb2xvcjogIzY2NjY2NjtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBsaW5lLWhlaWdodDogMS40NTtcbiAgLml0ZW0ge1xuICAgIHBhZGRpbmc6IDNweCAwO1xuICAgIGxpc3Qtc3R5bGU6IG91dHNpZGUgc3F1YXJlO1xuICB9XG59XG4uZm0tYm94LXdyYXAge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LXdyYXA6IHdyYXA7XG4gIC5mbS1ib3gge1xuICAgIGZsZXg6IDE7XG4gICAgbWFyZ2luOiA1cHg7XG4gICAgcGFkZGluZzogMTBweCAxNXB4O1xuICAgIG1pbi13aWR0aDogMjQwcHg7XG4gICAgd2lkdGg6IDI1JTtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmN2Y3O1xuICAgIC5sYWJlbCB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIGNvbG9yOiAjNjY2NjY2O1xuICAgIH1cbiAgICAuYm94IHtcbiAgICAgIG1hcmdpbi10b3A6IDVweDtcbiAgICAgIHBhZGRpbmc6IDVweCAwO1xuICAgIH1cbiAgfVxuICAuZm0taW5wdXQge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIHBhZGRpbmc6IDAgMTBweDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDMycHg7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgYm9yZGVyLXJhZGl1czogMDtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgIGFwcGVhcmFuY2U6IG5vbmU7XG4gIH1cbn1cbi5kZW1vLXdyYXAge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LXdyYXA6IHdyYXA7XG4gIC5kZW1vLWl0ZW0ge1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgd2lkdGg6IDUwJTtcbiAgICBtaW4td2lkdGg6IDI4MHB4O1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgLnBhbmVsLWluZm8ge1xuICAgICAgcGFkZGluZzogMTBweCAxMHB4O1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgIC50aXQge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDVweDtcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICBmb250LXN0eWxlOiBub3JtYWw7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgfVxuICAgICAgLmRsIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgcGFkZGluZzogNXB4IDA7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIC5kdCB7XG4gICAgICAgICAgd2lkdGg6IDUwcHg7XG4gICAgICAgICAgY29sb3I6ICM5OTk5OTk7XG4gICAgICAgIH1cbiAgICAgICAgLmRkIHtcbiAgICAgICAgICBjb2xvcjogIzAwMDAwMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC5wYW5lbC1jYW52YXMge1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgcGFkZGluZy1ib3R0b206IDEwMCU7XG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgLmRyYXctYXJlYSB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICBvdmVyZmxvdzogYXV0bztcbiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgICAgYm9yZGVyOiAxcHggZGFzaGVkICMwMDAwMDA7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7XG4gICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudChcbiAgICAgICAgICAgIDQ1ZGVnLFxuICAgICAgICAgICAgI2Q5ZDlkOSAyNSUsXG4gICAgICAgICAgICB0cmFuc3BhcmVudCAyNSUsXG4gICAgICAgICAgICB0cmFuc3BhcmVudCA3NSUsXG4gICAgICAgICAgICAjZDlkOWQ5IDc1JSxcbiAgICAgICAgICAgICNkOWQ5ZDlcbiAgICAgICAgICApLFxuICAgICAgICAgIGxpbmVhci1ncmFkaWVudChcbiAgICAgICAgICAgIDQ1ZGVnLFxuICAgICAgICAgICAgI2Q5ZDlkOSAyNSUsXG4gICAgICAgICAgICB0cmFuc3BhcmVudCAyNSUsXG4gICAgICAgICAgICB0cmFuc3BhcmVudCA3NSUsXG4gICAgICAgICAgICAjZDlkOWQ5IDc1JSxcbiAgICAgICAgICAgICNkOWQ5ZDlcbiAgICAgICAgICApO1xuICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IDIwcHggMjBweDtcbiAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAwLCAxMHB4IDEwcHg7XG4gICAgICAgID4gY2FudmFzIHtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIl19 */\";","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport default {\n    get\n};\n\nfunction get() {\n    if (typeof DOMParser !== 'undefined') {\n        return DOMParser;\n    }\n    try {\n        return eval('require')('xmldom').DOMParser; // This stops Webpack from replacing the require with a generic import and bundling the module.\n    } catch (error) {\n        return undefined;\n    }\n}\n","export default class DataView {\n    constructor(buffer) {\n        if (bufferTypeIsUnsupported(buffer)) {\n            throw new Error('DataView: Passed buffer type is unsupported.');\n        }\n\n        this.buffer = buffer;\n        this.byteLength = this.buffer.length;\n    }\n\n    getUint8(offset) {\n        return this.buffer.readUInt8(offset);\n    }\n\n    getUint16(offset, littleEndian) {\n        if (littleEndian) {\n            return this.buffer.readUInt16LE(offset);\n        }\n        return this.buffer.readUInt16BE(offset);\n    }\n\n    getUint32(offset, littleEndian) {\n        if (littleEndian) {\n            return this.buffer.readUInt32LE(offset);\n        }\n        return this.buffer.readUInt32BE(offset);\n    }\n\n    getInt32(offset, littleEndian) {\n        if (littleEndian) {\n            return this.buffer.readInt32LE(offset);\n        }\n        return this.buffer.readInt32BE(offset);\n    }\n}\n\nfunction bufferTypeIsUnsupported(buffer) {\n    return typeof buffer !== 'object'\n        || buffer.length === undefined\n        || buffer.readUInt8 === undefined\n        || buffer.readUInt16LE === undefined\n        || buffer.readUInt16BE === undefined\n        || buffer.readUInt32LE === undefined\n        || buffer.readUInt32BE === undefined\n        || buffer.readInt32LE === undefined\n        || buffer.readInt32BE === undefined;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport function getStringValue(value) {\n    return value.map((charCode) => String.fromCharCode(charCode)).join('');\n}\n\nexport function getEncodedString(value) {\n    if (value.length >= 8) {\n        const encoding = getStringValue(value.slice(0, 8));\n\n        if (encoding === 'ASCII\\x00\\x00\\x00') {\n            return getStringValue(value.slice(8));\n        } else if (encoding === 'JIS\\x00\\x00\\x00\\x00\\x00') {\n            return '[JIS encoded text]';\n        } else if (encoding === 'UNICODE\\x00') {\n            return '[Unicode encoded text]';\n        } else if (encoding === '\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00') {\n            return '[Undefined encoding]';\n        }\n    }\n\n    return 'Undefined';\n}\n\nexport function getCalculatedGpsValue(value) {\n    return (value[0][0] / value[0][1]) + (value[1][0] / value[1][1]) / 60 + (value[2][0] / value[2][1]) / 3600;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport Constants from './constants.js';\nimport {objectAssign} from './utils.js';\nimport ByteOrder from './byte-order.js';\nimport Types from './types.js';\nimport TagNames from './tag-names.js';\nimport {deferInit, getBase64Image} from './utils.js';\n\nconst EXIF_IFD_POINTER_KEY = 'Exif IFD Pointer';\nconst GPS_INFO_IFD_POINTER_KEY = 'GPS Info IFD Pointer';\nconst INTEROPERABILITY_IFD_POINTER_KEY = 'Interoperability IFD Pointer';\n\nconst getTagValueAt = {\n    1: Types.getByteAt,\n    2: Types.getAsciiAt,\n    3: Types.getShortAt,\n    4: Types.getLongAt,\n    5: Types.getRationalAt,\n    7: Types.getUndefinedAt,\n    9: Types.getSlongAt,\n    10: Types.getSrationalAt,\n    13: Types.getIfdPointerAt\n};\n\nexport default {\n    read,\n    readMpf\n};\n\nfunction read(dataView, tiffHeaderOffset) {\n    const byteOrder = ByteOrder.getByteOrder(dataView, tiffHeaderOffset);\n    let tags = read0thIfd(dataView, tiffHeaderOffset, byteOrder);\n    tags = readExifIfd(tags, dataView, tiffHeaderOffset, byteOrder);\n    tags = readGpsIfd(tags, dataView, tiffHeaderOffset, byteOrder);\n    tags = readInteroperabilityIfd(tags, dataView, tiffHeaderOffset, byteOrder);\n\n    return tags;\n}\n\nfunction read0thIfd(dataView, tiffHeaderOffset, byteOrder) {\n    return readIfd(dataView, '0th', tiffHeaderOffset, get0thIfdOffset(dataView, tiffHeaderOffset, byteOrder), byteOrder);\n}\n\nfunction get0thIfdOffset(dataView, tiffHeaderOffset, byteOrder) {\n    return tiffHeaderOffset + Types.getLongAt(dataView, tiffHeaderOffset + 4, byteOrder);\n}\n\nfunction readExifIfd(tags, dataView, tiffHeaderOffset, byteOrder) {\n    if (tags[EXIF_IFD_POINTER_KEY] !== undefined) {\n        return objectAssign(tags, readIfd(dataView, 'exif', tiffHeaderOffset, tiffHeaderOffset + tags[EXIF_IFD_POINTER_KEY].value, byteOrder));\n    }\n\n    return tags;\n}\n\nfunction readGpsIfd(tags, dataView, tiffHeaderOffset, byteOrder) {\n    if (tags[GPS_INFO_IFD_POINTER_KEY] !== undefined) {\n        return objectAssign(tags, readIfd(dataView, 'gps', tiffHeaderOffset, tiffHeaderOffset + tags[GPS_INFO_IFD_POINTER_KEY].value, byteOrder));\n    }\n\n    return tags;\n}\n\nfunction readInteroperabilityIfd(tags, dataView, tiffHeaderOffset, byteOrder) {\n    if (tags[INTEROPERABILITY_IFD_POINTER_KEY] !== undefined) {\n        return objectAssign(tags, readIfd(dataView, 'interoperability', tiffHeaderOffset, tiffHeaderOffset + tags[INTEROPERABILITY_IFD_POINTER_KEY].value, byteOrder));\n    }\n\n    return tags;\n}\n\nfunction readMpf(dataView, dataOffset) {\n    const byteOrder = ByteOrder.getByteOrder(dataView, dataOffset);\n    const tags = readIfd(dataView, 'mpf', dataOffset, get0thIfdOffset(dataView, dataOffset, byteOrder), byteOrder);\n    return addMpfImages(dataView, dataOffset, tags, byteOrder);\n}\n\nfunction addMpfImages(dataView, dataOffset, tags, byteOrder) {\n    const ENTRY_SIZE = 16;\n\n    if (!tags['MPEntry']) {\n        return tags;\n    }\n\n    const images = [];\n    for (let i = 0; i < Math.ceil(tags['MPEntry'].value.length / ENTRY_SIZE); i++) {\n        images[i] = {};\n\n        const attributes = getImageNumberValue(tags['MPEntry'].value, i * ENTRY_SIZE, Types.getTypeSize('LONG'), byteOrder);\n        images[i]['ImageFlags'] = getImageFlags(attributes);\n        images[i]['ImageFormat'] = getImageFormat(attributes);\n        images[i]['ImageType'] = getImageType(attributes);\n\n        const imageSize = getImageNumberValue(tags['MPEntry'].value, i * ENTRY_SIZE + 4, Types.getTypeSize('LONG'), byteOrder);\n        images[i]['ImageSize'] = {\n            value: imageSize,\n            description: '' + imageSize\n        };\n\n        const imageOffset = isFirstIndividualImage(i) ? 0 : getImageNumberValue(tags['MPEntry'].value, i * ENTRY_SIZE + 8, Types.getTypeSize('LONG'), byteOrder) + dataOffset;\n        images[i]['ImageOffset'] = {\n            value: imageOffset,\n            description: '' + imageOffset\n        };\n\n        const dependentImage1EntryNumber =\n            getImageNumberValue(tags['MPEntry'].value, i * ENTRY_SIZE + 12, Types.getTypeSize('SHORT'), byteOrder);\n        images[i]['DependentImage1EntryNumber'] = {\n            value: dependentImage1EntryNumber,\n            description: '' + dependentImage1EntryNumber\n        };\n\n        const dependentImage2EntryNumber =\n            getImageNumberValue(tags['MPEntry'].value, i * ENTRY_SIZE + 14, Types.getTypeSize('SHORT'), byteOrder);\n        images[i]['DependentImage2EntryNumber'] = {\n            value: dependentImage2EntryNumber,\n            description: '' + dependentImage2EntryNumber\n        };\n\n        images[i].image = dataView.buffer.slice(imageOffset, imageOffset + imageSize);\n        deferInit(images[i], 'base64', function () {\n            return getBase64Image(this.image);\n        });\n    }\n\n    tags['Images'] = images;\n\n    return tags;\n}\n\nfunction getImageNumberValue(entries, offset, size, byteOrder) {\n    if (byteOrder === ByteOrder.LITTLE_ENDIAN) {\n        let value = 0;\n        for (let i = 0; i < size; i++) {\n            value += entries[offset + i] << (8 * i);\n        }\n        return value;\n    }\n\n    let value = 0;\n    for (let i = 0; i < size; i++) {\n        value += entries[offset + i] << (8 * (size - 1 - i));\n    }\n    return value;\n}\n\nfunction getImageFlags(attributes) {\n    const flags = [\n        (attributes >> 31) & 0x1,\n        (attributes >> 30) & 0x1,\n        (attributes >> 29) & 0x1\n    ];\n\n    const flagsDescription = [];\n\n    if (flags[0]) {\n        flagsDescription.push('Dependent Parent Image');\n    }\n    if (flags[1]) {\n        flagsDescription.push('Dependent Child Image');\n    }\n    if (flags[2]) {\n        flagsDescription.push('Representative Image');\n    }\n\n    return {\n        value: flags,\n        description: flagsDescription.join(', ') || 'None'\n    };\n}\n\nfunction getImageFormat(attributes) {\n    const imageFormat = attributes >> 24 & 0x7;\n    return {\n        value: imageFormat,\n        description: imageFormat === 0 ? 'JPEG' : 'Unknown'\n    };\n}\n\nfunction getImageType(attributes) {\n    const type = attributes & 0xffffff;\n    const descriptions = {\n        0x30000: 'Baseline MP Primary Image',\n        0x10001: 'Large Thumbnail (VGA equivalent)',\n        0x10002: 'Large Thumbnail (Full HD equivalent)',\n        0x20001: 'Multi-Frame Image (Panorama)',\n        0x20002: 'Multi-Frame Image (Disparity)',\n        0x20003: 'Multi-Frame Image (Multi-Angle)',\n        0x0: 'Undefined',\n    };\n\n    return {\n        value: type,\n        description: descriptions[type] || 'Unknown'\n    };\n}\n\nfunction isFirstIndividualImage(i) {\n    return i === 0;\n}\n\nfunction readIfd(dataView, ifdType, tiffHeaderOffset, offset, byteOrder) {\n    const FIELD_COUNT_SIZE = Types.getTypeSize('SHORT');\n    const FIELD_SIZE = 12;\n\n    const tags = {};\n    const numberOfFields = getNumberOfFields(dataView, offset, byteOrder);\n\n    offset += FIELD_COUNT_SIZE;\n    for (let fieldIndex = 0; fieldIndex < numberOfFields; fieldIndex++) {\n        if (offset + FIELD_SIZE > dataView.byteLength) {\n            break;\n        }\n\n        const tag = readTag(dataView, ifdType, tiffHeaderOffset, offset, byteOrder);\n        if (tag !== undefined) {\n            tags[tag.name] = {\n                'id': tag.id,\n                'value': tag.value,\n                'description': tag.description\n            };\n        }\n\n        offset += FIELD_SIZE;\n    }\n\n    if (Constants.USE_THUMBNAIL && (offset < dataView.byteLength - Types.getTypeSize('LONG'))) {\n        const nextIfdOffset = Types.getLongAt(dataView, offset, byteOrder);\n        if (nextIfdOffset !== 0) {\n            tags['Thumbnail'] = readIfd(dataView, ifdType, tiffHeaderOffset, tiffHeaderOffset + nextIfdOffset, byteOrder);\n        }\n    }\n\n    return tags;\n}\n\nfunction getNumberOfFields(dataView, offset, byteOrder) {\n    if (offset + Types.getTypeSize('SHORT') <= dataView.byteLength) {\n        return Types.getShortAt(dataView, offset, byteOrder);\n    }\n    return 0;\n}\n\nfunction readTag(dataView, ifdType, tiffHeaderOffset, offset, byteOrder) {\n    const TAG_CODE_IPTC_NAA = 0x83bb;\n    const TAG_TYPE_OFFSET = Types.getTypeSize('SHORT');\n    const TAG_COUNT_OFFSET = TAG_TYPE_OFFSET + Types.getTypeSize('SHORT');\n    const TAG_VALUE_OFFSET = TAG_COUNT_OFFSET + Types.getTypeSize('LONG');\n\n    const tagCode = Types.getShortAt(dataView, offset, byteOrder);\n    const tagType = Types.getShortAt(dataView, offset + TAG_TYPE_OFFSET, byteOrder);\n    const tagCount = Types.getLongAt(dataView, offset + TAG_COUNT_OFFSET, byteOrder);\n    let tagValue;\n\n    if (Types.typeSizes[tagType] === undefined) {\n        return undefined;\n    }\n\n    if (tagValueFitsInOffsetSlot(tagType, tagCount)) {\n        tagValue = getTagValue(dataView, offset + TAG_VALUE_OFFSET, tagType, tagCount, byteOrder);\n    } else {\n        const tagValueOffset = Types.getLongAt(dataView, offset + TAG_VALUE_OFFSET, byteOrder);\n        if (tagValueFitsInDataView(dataView, tiffHeaderOffset, tagValueOffset, tagType, tagCount)) {\n            const forceByteType = tagCode === TAG_CODE_IPTC_NAA;\n            tagValue = getTagValue(dataView, tiffHeaderOffset + tagValueOffset, tagType, tagCount, byteOrder, forceByteType);\n        } else {\n            tagValue = '<faulty value>';\n        }\n    }\n\n    if (tagType === Types.tagTypes['ASCII']) {\n        tagValue = splitNullSeparatedAsciiString(tagValue);\n        tagValue = decodeAsciiValue(tagValue);\n    }\n\n    let tagName = `undefined-${tagCode}`;\n    let tagDescription = tagValue;\n\n    if (TagNames[ifdType][tagCode] !== undefined) {\n        if ((TagNames[ifdType][tagCode]['name'] !== undefined) && (TagNames[ifdType][tagCode]['description'] !== undefined)) {\n            tagName = TagNames[ifdType][tagCode]['name'];\n            try {\n                tagDescription = TagNames[ifdType][tagCode]['description'](tagValue);\n            } catch (error) {\n                tagDescription = getDescriptionFromTagValue(tagValue);\n            }\n        } else if ((tagType === Types.tagTypes['RATIONAL']) || (tagType === Types.tagTypes['SRATIONAL'])) {\n            tagName = TagNames[ifdType][tagCode];\n            tagDescription = '' + (tagValue[0] / tagValue[1]);\n        } else {\n            tagName = TagNames[ifdType][tagCode];\n            tagDescription = getDescriptionFromTagValue(tagValue);\n        }\n    }\n\n    return {\n        id: tagCode,\n        name: tagName,\n        value: tagValue,\n        description: tagDescription\n    };\n}\n\nfunction tagValueFitsInOffsetSlot(tagType, tagCount) {\n    return Types.typeSizes[tagType] * tagCount <= Types.getTypeSize('LONG');\n}\n\nfunction getTagValue(dataView, offset, type, count, byteOrder, forceByteType = false) {\n    let value = [];\n\n    if (forceByteType) {\n        count = count * Types.typeSizes[type];\n        type = Types.tagTypes['BYTE'];\n    }\n    for (let valueIndex = 0; valueIndex < count; valueIndex++) {\n        value.push(getTagValueAt[type](dataView, offset, byteOrder));\n        offset += Types.typeSizes[type];\n    }\n\n    if (type === Types.tagTypes['ASCII']) {\n        value = Types.getAsciiValue(value);\n    } else if (value.length === 1) {\n        value = value[0];\n    }\n\n    return value;\n}\n\nfunction tagValueFitsInDataView(dataView, tiffHeaderOffset, tagValueOffset, tagType, tagCount) {\n    return tiffHeaderOffset + tagValueOffset + Types.typeSizes[tagType] * tagCount <= dataView.byteLength;\n}\n\nfunction splitNullSeparatedAsciiString(string) {\n    const tagValue = [];\n    let i = 0;\n\n    for (let j = 0; j < string.length; j++) {\n        if (string[j] === '\\x00') {\n            i++;\n            continue;\n        }\n        if (tagValue[i] === undefined) {\n            tagValue[i] = '';\n        }\n        tagValue[i] += string[j];\n    }\n\n    return tagValue;\n}\n\nfunction decodeAsciiValue(asciiValue) {\n    try {\n        return asciiValue.map((value) => decodeURIComponent(escape(value)));\n    } catch (error) {\n        return asciiValue;\n    }\n}\n\nfunction getDescriptionFromTagValue(tagValue) {\n    if (tagValue instanceof Array) {\n        return tagValue.join(', ');\n    }\n    return tagValue;\n}\n","import { Component, OnInit, ElementRef, ViewChildren, QueryList } from '@angular/core';\nimport { BlobImageResize, ResizeType } from 'projects/packages/src/public-api';\n\ninterface Info {\n  title: string;\n  type: string;\n  size: number;\n  width: number;\n  height: number;\n}\n\n@Component({\n  selector: 'demo-blob-image',\n  templateUrl: './blob-image.component.html',\n  styleUrls: ['./blob-image.component.scss'],\n})\nexport class BlobImageComponent implements OnInit {\n  constructor() {}\n\n  infos: Info[];\n  optionWidths: { label: string; value: number }[];\n  optionHeights: { label: string; value: number }[];\n  optionQualities: { label: string; value: number }[];\n  testWidth: number = 200;\n  testHeight: number = 0;\n  testQuality: number = 0.9;\n  testContentType: string = '';\n  testFillBgColor: string = '';\n  testApplyOrientation: boolean = false;\n\n  @ViewChildren('demoCanvasRefs') demoCanvasRefs: QueryList<ElementRef<HTMLCanvasElement>>;\n  demoList: any[];\n\n  ngOnInit() {\n    this.optionWidths = Array.from(Array(10)).map((a, b) => {\n      const index = b; // + 1;\n      const size = 100 * index;\n      return { value: size, label: size.toString() };\n    });\n    this.optionHeights = Array.from(Array(10)).map((a, b) => {\n      const index = b; // + 1;\n      const size = 100 * index;\n      return { value: size, label: size.toString() };\n    });\n    this.optionQualities = Array.from(Array(10)).map((a, b) => {\n      const index = b + 1;\n      const size = parseFloat((0.1 * index).toFixed(1));\n      return { value: size, label: size.toString() };\n    });\n    this.demoList = [\n      { title: 'original', info: null, resizeType: null },\n      { title: 'resize - fixed', info: null, resizeType: ResizeType.FIXED },\n      { title: 'resize - scale', info: null, resizeType: ResizeType.SCALE },\n      { title: 'resize - scale stretch', info: null, resizeType: ResizeType.SCALE_STRETCH },\n      { title: 'resize - cover', info: null, resizeType: ResizeType.COVER },\n      { title: 'resize - cover stretch', info: null, resizeType: ResizeType.COVER_STRETCH },\n    ];\n  }\n\n  onFileChange(evt) {\n    const { files = [] } = (evt && evt.target) || {};\n    const file = files[0];\n    if (!file) return;\n    this.resizeStart(file);\n    evt.target.value = null;\n  }\n\n  async resizeStart(file: File) {\n    this.infos = [];\n    const originalBlob = new Blob([file], { type: file.type });\n    const len = this.demoList.length;\n    const refCanvasList = this.demoCanvasRefs.toArray();\n    for (let i = 0; i < len; i++) {\n      const demo = this.demoList[i];\n      const { nativeElement } = refCanvasList[i];\n      const info = await this.drawResizeDemo(nativeElement, originalBlob, demo.resizeType);\n      demo.info = {\n        ...info,\n        title: demo.title,\n      };\n    }\n  }\n\n  private async drawResizeDemo(canvas: HTMLCanvasElement, blob: Blob, resizeType: ResizeType) {\n    const expectWidth = this.testWidth;\n    const expectHeight = this.testHeight;\n    const expectContentType = this.testContentType || undefined;\n    const quality = this.testQuality;\n    const fillBgColor = this.testFillBgColor || undefined;\n    const applyOrientation = this.testApplyOrientation || false;\n    let resizeBlob: Blob = blob;\n    let resizeCanvas: HTMLCanvasElement;\n    let resizeWidth: number = 0;\n    let resizeHeight: number = 0;\n    if (ResizeType[resizeType]) {\n      const resizer = new BlobImageResize(blob, {\n        expectWidth,\n        expectHeight,\n        quality,\n        resizeType,\n        expectContentType,\n        fillBgColor,\n        applyOrientation,\n      });\n      const resizeResult = await resizer.create();\n      resizeBlob = resizeResult.blob;\n      resizeWidth = resizeResult.width;\n      resizeHeight = resizeResult.height;\n      resizeCanvas = await this.drawToCanvas(canvas, {\n        blob: resizeBlob,\n        width: resizeWidth,\n        height: resizeHeight,\n      });\n      console.log(resizeResult);\n    } else {\n      // original ...\n      resizeBlob = blob;\n      resizeCanvas = await this.drawToCanvas(canvas, {\n        blob: resizeBlob,\n        width: 0,\n        height: 0,\n      });\n    }\n    return Promise.resolve({\n      size: resizeBlob.size,\n      type: resizeBlob.type,\n      width: resizeCanvas.width,\n      height: resizeCanvas.height,\n    });\n  }\n\n  private async drawToCanvas(\n    canvas: HTMLCanvasElement,\n    draw: { blob: Blob; width: number; height: number }\n  ): Promise<HTMLCanvasElement> {\n    return new Promise((resolve) => {\n      const { blob, width, height } = draw;\n      const context = canvas.getContext('2d');\n      const image = new Image();\n      image.onload = () => {\n        canvas.width = width || image.naturalWidth;\n        canvas.height = height || image.naturalHeight;\n        context.drawImage(image, 0, 0);\n        URL.revokeObjectURL(image.src);\n        resolve(canvas);\n      };\n      image.onerror = () => {\n        console.error('image load error');\n        URL.revokeObjectURL(image.src);\n        resolve(canvas);\n      };\n      image.src = URL.createObjectURL(blob);\n    });\n  }\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\n/**\n * Thrown when no Exif metadata was found for the given image.\n *\n * @param {string} message The error message.\n */\nfunction MetadataMissingError(message) {\n    this.name = 'MetadataMissingError';\n    this.message = message || 'No Exif data';\n    this.stack = (new Error()).stack;\n}\n\nMetadataMissingError.prototype = new Error;\n\nexport default {\n    MetadataMissingError,\n};\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringFromDataView} from './utils.js';\n\nexport const iccTags = {\n    'desc': {\n        'name': 'ICC Description',\n    },\n    'cprt': {\n        'name': 'ICC Copyright',\n    },\n    'dmdd': {\n        'name': 'ICC Device Model Description',\n    },\n    'vued': {\n        'name': 'ICC Viewing Conditions Description',\n    },\n    'dmnd': {\n        'name': 'ICC Device Manufacturer for Display',\n    },\n    'tech': {\n        'name': 'Technology',\n    },\n};\n\nexport const iccProfile = {\n    4: {\n        'name': 'Preferred CMM type',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4),\n        'description': (value) => value !== null ? toCompany(value) : '',\n    },\n    8: {\n        'name': 'Profile Version',\n        'value': (dataView, offset) => {\n            return (dataView.getUint8(offset)).toString(10) + '.'\n            + (dataView.getUint8(offset + 1) >> 4).toString(10) + '.'\n            + (dataView.getUint8(offset + 1) % 16).toString(10);\n        }\n    },\n    12: {\n        'name': 'Profile/Device class',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4),\n        'description': (value) => {\n            switch (value.toLowerCase()) {\n                case 'scnr': return 'Input Device profile';\n                case 'mntr': return 'Display Device profile';\n                case 'prtr': return 'Output Device profile';\n                case 'link': return 'DeviceLink profile';\n                case 'abst': return 'Abstract profile';\n                case 'spac': return 'ColorSpace profile';\n                case 'nmcl': return 'NamedColor profile';\n                case 'cenc': return 'ColorEncodingSpace profile';\n                case 'mid ': return 'MultiplexIdentification profile';\n                case 'mlnk': return 'MultiplexLink profile';\n                case 'mvis': return 'MultiplexVisualization profile';\n                default: return value;\n            }\n        }\n    },\n    16: {\n        'name': 'Color Space',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4)\n    },\n    20: {\n        'name': 'Connection Space',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4)\n    },\n    24: {\n        'name': 'ICC Profile Date',\n        'value': (dataView, offset) => parseDate(dataView, offset).toISOString()\n    },\n    36: {\n        'name': 'ICC Signature',\n        'value': (dataView, offset) => sliceToString(dataView.buffer.slice(offset, offset + 4))\n    },\n    40: {\n        'name': 'Primary Platform',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4),\n        'description': (value) => toCompany(value)\n    },\n    48: {\n        'name': 'Device Manufacturer',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4),\n        'description': (value) => toCompany(value)\n    },\n    52: {\n        'name': 'Device Model Number',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4)\n    },\n    64: {\n        'name': 'Rendering Intent',\n        'value': (dataView, offset) => dataView.getUint32(offset),\n        'description': (value) => {\n            switch (value) {\n                case 0: return 'Perceptual';\n                case 1: return 'Relative Colorimetric';\n                case 2: return 'Saturation';\n                case 3: return 'Absolute Colorimetric';\n                default: return value;\n            }\n        }\n    },\n\n    80: {\n        'name': 'Profile Creator',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4)\n    },\n};\n\nfunction parseDate(dataView, offset) {\n    const year = dataView.getUint16(offset);\n    const month = dataView.getUint16(offset + 2) - 1;\n    const day = dataView.getUint16(offset + 4);\n    const hours = dataView.getUint16(offset + 6);\n    const minutes = dataView.getUint16(offset + 8);\n    const seconds = dataView.getUint16(offset + 10);\n    return new Date(Date.UTC(year, month, day, hours, minutes, seconds));\n}\n\nfunction sliceToString(slice) {\n    return String.fromCharCode.apply(null, new Uint8Array(slice));\n}\n\nfunction toCompany(value) {\n    switch (value.toLowerCase()) {\n        case 'appl': return 'Apple';\n        case 'adbe': return 'Adobe';\n        case 'msft': return 'Microsoft';\n        case 'sunw': return 'Sun Microsystems';\n        case 'sgi': return 'Silicon Graphics';\n        case 'tgnt': return 'Taligent';\n        default: return value;\n    }\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport ByteOrder from './byte-order.js';\nimport Constants from './constants.js';\n\nexport default {\n    isTiffFile,\n    findTiffOffsets\n};\n\nfunction isTiffFile(dataView) {\n    const MIN_TIFF_DATA_BUFFER_LENGTH = 4;\n\n    return (dataView.byteLength >= MIN_TIFF_DATA_BUFFER_LENGTH) && hasTiffMarker(dataView);\n}\n\nfunction hasTiffMarker(dataView) {\n    const TIFF_ID = 0x2a;\n    const TIFF_ID_OFFSET = 2;\n\n    const littleEndian = dataView.getUint16(0) === ByteOrder.LITTLE_ENDIAN;\n    return dataView.getUint16(TIFF_ID_OFFSET, littleEndian) === TIFF_ID;\n}\n\nfunction findTiffOffsets() {\n    const TIFF_FILE_HEADER_OFFSET = 0;\n\n    if (Constants.USE_EXIF) {\n        return {\n            hasAppMarkers: true,\n            tiffHeaderOffset: TIFF_FILE_HEADER_OFFSET\n        };\n    }\n    return {};\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {objectAssign} from './utils.js';\nimport Constants from './constants.js';\nimport TagNames0thIfd from './tag-names-0th-ifd.js';\nimport TagNamesExifIfd from './tag-names-exif-ifd.js';\nimport TagNamesGpsIfd from './tag-names-gps-ifd.js';\nimport TagNamesInteroperabilityIfd from './tag-names-interoperability-ifd.js';\nimport TagNamesMpfIfd from './tag-names-mpf-ifd.js';\n\nconst tagNames0thExifIfds = objectAssign({}, TagNames0thIfd, TagNamesExifIfd);\n\nexport default {\n    '0th': tagNames0thExifIfds,\n    'exif': tagNames0thExifIfds,\n    'gps': TagNamesGpsIfd,\n    'interoperability': TagNamesInteroperabilityIfd,\n    'mpf': Constants.USE_MPF ? TagNamesMpfIfd : {},\n};\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport TextDecoder from './text-decoder.js';\n\nconst TAG_HEADER_SIZE = 5;\n\nexport default {\n    decode,\n    TAG_HEADER_SIZE\n};\n\nfunction decode(encoding, tagValue) {\n    const Decoder = TextDecoder.get();\n    if ((typeof Decoder !== 'undefined') && (encoding !== undefined)) {\n        try {\n            return new Decoder(encoding).decode(Uint8Array.from(tagValue));\n        } catch (error) {\n            // Pass through and fall back to ASCII decoding.\n        }\n    }\n\n    const stringValue = tagValue.map((charCode) => String.fromCharCode(charCode)).join('');\n    return decodeAsciiValue(stringValue);\n}\n\nfunction decodeAsciiValue(asciiValue) {\n    try {\n        return decodeURIComponent(escape(asciiValue));\n    } catch (error) {\n        return asciiValue;\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport {\n  FileReadStream,\n  FileReadEventType,\n  FileReadEvent,\n  FileReadResponseType,\n} from 'projects/packages/src/public-api';\n\n@Component({\n  selector: 'demo-read-stream',\n  templateUrl: './read-stream.component.html',\n  styleUrls: ['./read-stream.component.scss'],\n})\nexport class ReadStreamComponent implements OnInit {\n  constructor() {}\n\n  reader: FileReadStream;\n  optionChunks = [];\n  optionResponseTypes = [];\n  testChunk = 1024;\n  testResponseType = FileReadResponseType.BLOB;\n  changeStack: FileReadEvent[] = [];\n  changeStackCount: number = 0;\n  changeStackDisplayMax: number = 50;\n\n  ngOnInit() {\n    this.optionResponseTypes = [\n      { label: 'BLOB', value: FileReadResponseType.BLOB },\n      { label: 'BUFFER', value: FileReadResponseType.BUFFER },\n    ];\n    this.optionChunks = Array.from(Array(8)).map((a, b) => {\n      const index = b + 1;\n      const byte = Math.pow(index * index * 32, 2);\n      const kb = byte / 1024;\n      const mb = kb / 1024;\n      const label = mb < 1 ? `${kb}kb` : `${mb.toFixed(2)}mb`;\n      return {\n        value: byte,\n        label,\n      };\n    });\n    this.testChunk = this.optionChunks[1].value;\n  }\n\n  onFileChange(evt) {\n    const { files = [] } = (evt && evt.target) || {};\n    const file = files[0];\n    if (!file) return;\n    this.readStart(file);\n    evt.target.value = null;\n  }\n\n  onFileAbort() {\n    if (this.reader) {\n      this.reader.abort();\n      this.reader.destroy();\n      this.reader = null;\n    }\n  }\n\n  readStart(file: File) {\n    this.changeStack = [];\n    this.changeStackCount = 0;\n    if (this.reader) {\n      this.reader.destroy();\n      this.reader = null;\n    }\n    this.reader = new FileReadStream(file, {\n      chunkSize: this.testChunk,\n      responseType: this.testResponseType,\n    });\n    this.reader.observeState().subscribe((evt) => {\n      const { type, state } = evt;\n      this.changeStackCount++;\n      this.changeStack.push({ type, state });\n      if (this.changeStackDisplayMax < this.changeStack.length) {\n        this.changeStack.shift();\n      }\n      switch (type) {\n        case FileReadEventType.RESOLVE:\n        case FileReadEventType.REJECT:\n          console.log(state);\n          this.reader.destroy();\n          this.reader = null;\n          break;\n      }\n    });\n    this.reader.start().catch((err) => console.log(err));\n  }\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nconst LITTLE_ENDIAN = 0x4949;\nconst BIG_ENDIAN = 0x4d4d;\n\nexport default {\n    BIG_ENDIAN,\n    LITTLE_ENDIAN,\n    getByteOrder\n};\n\nfunction getByteOrder(dataView, tiffHeaderOffset) {\n    if (dataView.getUint16(tiffHeaderOffset) === LITTLE_ENDIAN) {\n        return LITTLE_ENDIAN;\n    } else if (dataView.getUint16(tiffHeaderOffset) === BIG_ENDIAN) {\n        return BIG_ENDIAN;\n    }\n    throw new Error('Illegal byte order value. Faulty image.');\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport default {\n    'tiff:Orientation'(value) {\n        if (value === '1') {\n            return 'Horizontal (normal)';\n        }\n        if (value === '2') {\n            return 'Mirror horizontal';\n        }\n        if (value === '3') {\n            return 'Rotate 180';\n        }\n        if (value === '4') {\n            return 'Mirror vertical';\n        }\n        if (value === '5') {\n            return 'Mirror horizontal and rotate 270 CW';\n        }\n        if (value === '6') {\n            return 'Rotate 90 CW';\n        }\n        if (value === '7') {\n            return 'Mirror horizontal and rotate 90 CW';\n        }\n        if (value === '8') {\n            return 'Rotate 270 CW';\n        }\n        return value;\n    },\n    'exif:GPSLatitude': calculateGPSValue,\n    'exif:GPSLongitude': calculateGPSValue\n};\n\nfunction calculateGPSValue(value) {\n    const [degreesString, minutesString] = value.split(',');\n    if ((degreesString !== undefined) && (minutesString !== undefined)) {\n        const degrees = parseFloat(degreesString);\n        const minutes = parseFloat(minutesString);\n        const ref = minutesString.charAt(minutesString.length - 1);\n        if ((!Number.isNaN(degrees)) && (!Number.isNaN(minutes))) {\n            return '' + (degrees + minutes / 60) + ref;\n        }\n    }\n    return value;\n}\n","export * from \"./read-stream\";\nexport * from \"./blob-image\";\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {deferInit, getBase64Image} from './utils.js';\n\n// https://exiftool.org/TagNames/EXIF.html#Compression\nconst COMPRESSION_JPEG = [6, 7, 99];\n\nexport default {\n    get,\n};\n\nfunction get(dataView, thumbnailTags, tiffHeaderOffset) {\n    if (hasJpegThumbnail(thumbnailTags)) {\n        thumbnailTags.type = 'image/jpeg';\n        const offset = tiffHeaderOffset + thumbnailTags.JPEGInterchangeFormat.value;\n        thumbnailTags.image = dataView.buffer.slice(offset, offset + thumbnailTags.JPEGInterchangeFormatLength.value);\n        deferInit(thumbnailTags, 'base64', function () {\n            return getBase64Image(this.image);\n        });\n    }\n\n    // There is a small possibility of thumbnails in TIFF format but they are\n    // not stored as a self-contained image file and would be much more\n    // difficult to extract.\n    // https://exiftool.org/forum/index.php?topic=3273.msg14778#msg14778\n\n    return thumbnailTags;\n}\n\nfunction hasJpegThumbnail(tags) {\n    return tags && ((tags.Compression === undefined) || (COMPRESSION_JPEG.includes(tags.Compression.value)))\n        && tags.JPEGInterchangeFormat && tags.JPEGInterchangeFormat.value\n        && tags.JPEGInterchangeFormatLength && tags.JPEGInterchangeFormatLength.value;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport ByteOrder from './byte-order.js';\n\nconst typeSizes = {\n    1: 1, // BYTE\n    2: 1, // ASCII\n    3: 2, // SHORT\n    4: 4, // LONG\n    5: 8, // RATIONAL\n    7: 1, // UNDEFINED\n    9: 4, // SLONG\n    10: 8, // SRATIONAL\n    13: 4 // IFD\n};\n\nconst tagTypes = {\n    'BYTE': 1,\n    'ASCII': 2,\n    'SHORT': 3,\n    'LONG': 4,\n    'RATIONAL': 5,\n    'UNDEFINED': 7,\n    'SLONG': 9,\n    'SRATIONAL': 10,\n    'IFD': 13\n};\n\nexport default {\n    getAsciiValue,\n    getByteAt,\n    getAsciiAt,\n    getShortAt,\n    getLongAt,\n    getRationalAt,\n    getUndefinedAt,\n    getSlongAt,\n    getSrationalAt,\n    getIfdPointerAt,\n    typeSizes,\n    tagTypes,\n    getTypeSize\n};\n\nfunction getAsciiValue(charArray) {\n    return charArray.map((charCode) => String.fromCharCode(charCode));\n}\n\nfunction getByteAt(dataView, offset) {\n    return dataView.getUint8(offset);\n}\n\nfunction getAsciiAt(dataView, offset) {\n    return dataView.getUint8(offset);\n}\n\nfunction getShortAt(dataView, offset, byteOrder) {\n    return dataView.getUint16(offset, byteOrder === ByteOrder.LITTLE_ENDIAN);\n}\n\nfunction getLongAt(dataView, offset, byteOrder) {\n    return dataView.getUint32(offset, byteOrder === ByteOrder.LITTLE_ENDIAN);\n}\n\nfunction getRationalAt(dataView, offset, byteOrder) {\n    return [getLongAt(dataView, offset, byteOrder), getLongAt(dataView, offset + 4, byteOrder)];\n}\n\nfunction getUndefinedAt(dataView, offset) {\n    return getByteAt(dataView, offset);\n}\n\nfunction getSlongAt(dataView, offset, byteOrder) {\n    return dataView.getInt32(offset, byteOrder === ByteOrder.LITTLE_ENDIAN);\n}\n\nfunction getSrationalAt(dataView, offset, byteOrder) {\n    return [getSlongAt(dataView, offset, byteOrder), getSlongAt(dataView, offset + 4, byteOrder)];\n}\n\nfunction getIfdPointerAt(dataView, offset, byteOrder) {\n    return getLongAt(dataView, offset, byteOrder);\n}\n\nfunction getTypeSize(typeName) {\n    if (tagTypes[typeName] === undefined) {\n        throw new Error('No such type found.');\n    }\n\n    return typeSizes[tagTypes[typeName]];\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n  imports: [CommonModule],\n  // exports: [SampleActorComponent],\n  // declarations: [SampleActorComponent],\n})\nexport class ExampleCommonModule {}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport function getStringFromDataView(dataView, offset, length) {\n    const chars = [];\n    for (let i = 0; i < length && offset + i < dataView.byteLength; i++) {\n        chars.push(dataView.getUint8(offset + i));\n    }\n    return getStringValueFromArray(chars);\n}\n\nexport function getUnicodeStringFromDataView(dataView, offset, length) {\n    const chars = [];\n    for (let i = 0; i < length && offset + i < dataView.byteLength; i += 2) {\n        chars.push(dataView.getUint16(offset + i));\n    }\n    return getStringValueFromArray(chars);\n}\n\nexport function getStringValueFromArray(charArray) {\n    return charArray.map((charCode) => String.fromCharCode(charCode)).join('');\n}\n\nexport function getCharacterArray(string) {\n    return string.split('').map((character) => character.charCodeAt(0));\n}\n\nexport function objectAssign() {\n    for (let i = 1; i < arguments.length; i++) {\n        for (const property in arguments[i]) {\n            arguments[0][property] = arguments[i][property];\n        }\n    }\n\n    return arguments[0];\n}\n\nexport function deferInit(object, key, initializer) {\n    let initialized = false;\n    Object.defineProperty(object, key, {\n        get() {\n            if (!initialized) {\n                initialized = true;\n                Object.defineProperty(object, key, {\n                    configurable: true,\n                    enumerable: true,\n                    value: initializer.apply(object),\n                    writable: true\n                });\n            }\n            return object[key];\n        },\n        configurable: true,\n        enumerable: true\n    });\n}\n\nexport function getBase64Image(image) {\n    if (typeof btoa !== 'undefined') {\n        // IE11- does not implement reduce on the Uint8Array prototype.\n        return btoa(Array.prototype.reduce.call(new Uint8Array(image), (data, byte) => data + String.fromCharCode(byte), ''));\n    }\n    if (typeof Buffer === 'undefined') {\n        return undefined;\n    }\n    if (typeof Buffer.from !== undefined) { // eslint-disable-line no-undef\n        return Buffer.from(image).toString('base64'); // eslint-disable-line no-undef\n    }\n    return (new Buffer(image)).toString('base64'); // eslint-disable-line no-undef\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringFromDataView} from './utils.js';\nimport Constants from './constants.js';\n\nexport default {\n    isWebpFile,\n    findOffsets\n};\n\nfunction isWebpFile(dataView) {\n    const RIFF_ID_OFFSET = 0;\n    const RIFF_ID = 'RIFF';\n    const WEBP_MARKER_OFFSET = 8;\n    const WEBP_MARKER = 'WEBP';\n\n    return getStringFromDataView(dataView, RIFF_ID_OFFSET, RIFF_ID.length) === RIFF_ID\n        && getStringFromDataView(dataView, WEBP_MARKER_OFFSET, WEBP_MARKER.length) === WEBP_MARKER;\n}\n\nfunction findOffsets(dataView) {\n    const SUB_CHUNK_START_OFFSET = 12;\n    const CHUNK_SIZE_OFFSET = 4;\n    const EXIF_IDENTIFIER = 'Exif\\x00\\x00';\n    const CHUNK_HEADER_SIZE = 8;\n\n    let offset = SUB_CHUNK_START_OFFSET;\n    let hasAppMarkers = false;\n    let tiffHeaderOffset;\n    let xmpChunks;\n    let iccChunks;\n\n    while (offset + CHUNK_HEADER_SIZE < dataView.byteLength) {\n        const chunkId = getStringFromDataView(dataView, offset, 4);\n        const chunkSize = dataView.getUint32(offset + CHUNK_SIZE_OFFSET, true);\n\n        if (Constants.USE_EXIF && (chunkId === 'EXIF')) {\n            hasAppMarkers = true;\n            if (getStringFromDataView(dataView, offset + CHUNK_HEADER_SIZE, EXIF_IDENTIFIER.length) === EXIF_IDENTIFIER) {\n                tiffHeaderOffset = offset + CHUNK_HEADER_SIZE + EXIF_IDENTIFIER.length;\n            } else {\n                tiffHeaderOffset = offset + CHUNK_HEADER_SIZE;\n            }\n        } else if (Constants.USE_XMP && (chunkId === 'XMP ')) {\n            hasAppMarkers = true;\n            xmpChunks = [{\n                dataOffset: offset + CHUNK_HEADER_SIZE,\n                length: chunkSize\n            }];\n        } else if (Constants.USE_ICC && (chunkId === 'ICCP')) {\n            hasAppMarkers = true;\n            iccChunks = [{\n                offset: offset + CHUNK_HEADER_SIZE,\n                length: chunkSize,\n                chunkNumber: 1,\n                chunksTotal: 1\n            }];\n        }\n\n        offset += CHUNK_HEADER_SIZE + (chunkSize % 2 === 0 ? chunkSize : chunkSize + 1);\n    }\n\n    return {\n        hasAppMarkers,\n        tiffHeaderOffset,\n        xmpChunks,\n        iccChunks\n    };\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringValue} from './tag-names-utils.js';\n\nexport default {\n    'iptc': {\n        0x0100: {\n            'name': 'Model Version',\n            'description': (value) => {\n                return ((value[0] << 8) + value[1]).toString();\n            }\n        },\n        0x0105: {\n            'name': 'Destination',\n            'repeatable': true\n        },\n        0x0114: {\n            'name': 'File Format',\n            'description': (value) => {\n                return ((value[0] << 8) + value[1]).toString();\n            }\n        },\n        0x0116: {\n            'name': 'File Format Version',\n            'description': (value) => {\n                return ((value[0] << 8) + value[1]).toString();\n            }\n        },\n        0x011e: 'Service Identifier',\n        0x0128: 'Envelope Number',\n        0x0132: 'Product ID',\n        0x013c: 'Envelope Priority',\n        0x0146: {\n            'name': 'Date Sent',\n            'description': getCreationDate\n        },\n        0x0150: {\n            'name': 'Time Sent',\n            'description': getCreationTime\n        },\n        0x015a: {\n            'name': 'Coded Character Set',\n            'description': getEncodingName,\n            'encoding_name': getEncodingName,\n        },\n        0x0164: 'UNO',\n        0x0178: {\n            'name': 'ARM Identifier',\n            'description': (value) => {\n                return ((value[0] << 8) + value[1]).toString();\n            }\n        },\n        0x017a: {\n            'name': 'ARM Version',\n            'description': (value) => {\n                return ((value[0] << 8) + value[1]).toString();\n            }\n        },\n        0x0200: {\n            'name': 'Record Version',\n            'description': (value) => {\n                return ((value[0] << 8) + value[1]).toString();\n            }\n        },\n        0x0203: 'Object Type Reference',\n        0x0204: 'Object Attribute Reference',\n        0x0205: 'Object Name',\n        0x0207: 'Edit Status',\n        0x0208: {\n            'name': 'Editorial Update',\n            'description': (value) => {\n                if (getStringValue(value) === '01') {\n                    return 'Additional Language';\n                }\n                return 'Unknown';\n            }\n        },\n        0x020a: 'Urgency',\n        0x020c: {\n            'name': 'Subject Reference',\n            'repeatable': true,\n            'description': (value) => {\n                const parts = getStringValue(value).split(':');\n                return parts[2] + (parts[3] ? '/' + parts[3] : '') + (parts[4] ? '/' + parts[4] : '');\n            }\n        },\n        0x020f: 'Category',\n        0x0214: {\n            'name': 'Supplemental Category',\n            'repeatable': true\n        },\n        0x0216: 'Fixture Identifier',\n        0x0219: {\n            'name': 'Keywords',\n            'repeatable': true\n        },\n        0x021a: {\n            'name': 'Content Location Code',\n            'repeatable': true\n        },\n        0x021b: {\n            'name': 'Content Location Name',\n            'repeatable': true\n        },\n        0x021e: 'Release Date',\n        0x0223: 'Release Time',\n        0x0225: 'Expiration Date',\n        0x0226: 'Expiration Time',\n        0x0228: 'Special Instructions',\n        0x022a: {\n            'name': 'Action Advised',\n            'description': (value) => {\n                const string = getStringValue(value);\n                if (string === '01') {\n                    return 'Object Kill';\n                } else if (string === '02') {\n                    return 'Object Replace';\n                } else if (string === '03') {\n                    return 'Object Append';\n                } else if (string === '04') {\n                    return 'Object Reference';\n                }\n                return 'Unknown';\n            }\n        },\n        0x022d: {\n            'name': 'Reference Service',\n            'repeatable': true\n        },\n        0x022f: {\n            'name': 'Reference Date',\n            'repeatable': true\n        },\n        0x0232: {\n            'name': 'Reference Number',\n            'repeatable': true\n        },\n        0x0237: {\n            'name': 'Date Created',\n            'description': getCreationDate\n        },\n        0x023c: {\n            'name': 'Time Created',\n            'description': getCreationTime\n        },\n        0x023e: {\n            'name': 'Digital Creation Date',\n            'description': getCreationDate\n        },\n        0x023f: {\n            'name': 'Digital Creation Time',\n            'description': getCreationTime\n        },\n        0x0241: 'Originating Program',\n        0x0246: 'Program Version',\n        0x024b: {\n            'name': 'Object Cycle',\n            'description': (value) => {\n                const string = getStringValue(value);\n                if (string === 'a') {\n                    return 'morning';\n                } else if (string === 'p') {\n                    return 'evening';\n                } else if (string === 'b') {\n                    return 'both';\n                }\n                return 'Unknown';\n            }\n        },\n        0x0250: {\n            'name': 'By-line',\n            'repeatable': true\n        },\n        0x0255: {\n            'name': 'By-line Title',\n            'repeatable': true\n        },\n        0x025a: 'City',\n        0x025c: 'Sub-location',\n        0x025f: 'Province/State',\n        0x0264: 'Country/Primary Location Code',\n        0x0265: 'Country/Primary Location Name',\n        0x0267: 'Original Transmission Reference',\n        0x0269: 'Headline',\n        0x026e: 'Credit',\n        0x0273: 'Source',\n        0x0274: 'Copyright Notice',\n        0x0276: {\n            'name': 'Contact',\n            'repeatable': true\n        },\n        0x0278: 'Caption/Abstract',\n        0x027a: {\n            'name': 'Writer/Editor',\n            'repeatable': true\n        },\n        0x027d: {\n            'name': 'Rasterized Caption',\n            'description': (value) => value\n        },\n        0x0282: 'Image Type',\n        0x0283: {\n            'name': 'Image Orientation',\n            'description': (value) => {\n                const string = getStringValue(value);\n                if (string === 'P') {\n                    return 'Portrait';\n                } else if (string === 'L') {\n                    return 'Landscape';\n                } else if (string === 'S') {\n                    return 'Square';\n                }\n                return 'Unknown';\n            }\n        },\n        0x0287: 'Language Identifier',\n        0x0296: {\n            'name': 'Audio Type',\n            'description': (value) => {\n                const stringValue = getStringValue(value);\n                const character0 = stringValue.charAt(0);\n                const character1 = stringValue.charAt(1);\n                let description = '';\n\n                if (character0 === '1') {\n                    description += 'Mono';\n                } else if (character0 === '2') {\n                    description += 'Stereo';\n                }\n\n                if (character1 === 'A') {\n                    description += ', actuality';\n                } else if (character1 === 'C') {\n                    description += ', question and answer session';\n                } else if (character1 === 'M') {\n                    description += ', music, transmitted by itself';\n                } else if (character1 === 'Q') {\n                    description += ', response to a question';\n                } else if (character1 === 'R') {\n                    description += ', raw sound';\n                } else if (character1 === 'S') {\n                    description += ', scener';\n                } else if (character1 === 'V') {\n                    description += ', voicer';\n                } else if (character1 === 'W') {\n                    description += ', wrap';\n                }\n\n                if (description !== '') {\n                    return description;\n                }\n                return stringValue;\n            }\n        },\n        0x0297: {\n            'name': 'Audio Sampling Rate',\n            'description': (value) => parseInt(getStringValue(value), 10) + ' Hz'\n        },\n        0x0298: {\n            'name': 'Audio Sampling Resolution',\n            'description': (value) => {\n                const bits = parseInt(getStringValue(value), 10);\n                return bits + (bits === 1 ? ' bit' : ' bits');\n            }\n        },\n        0x0299: {\n            'name': 'Audio Duration',\n            'description': (value) => {\n                const duration = getStringValue(value);\n                if (duration.length >= 6) {\n                    return duration.substr(0, 2) + ':' + duration.substr(2, 2) + ':' + duration.substr(4, 2);\n                }\n                return duration;\n            }\n        },\n        0x029a: 'Audio Outcue',\n        0x02ba: 'Short Document ID',\n        0x02bb: 'Unique Document ID',\n        0x02bc: 'Owner ID',\n        0x02c8: {\n            'name': (value) => {\n                if (value.length === 2) {\n                    return 'ObjectData Preview File Format';\n                }\n                return 'Record 2 destination';\n            },\n            'description': (value) => {\n                if (value.length === 2) {\n                    const intValue = (value[0] << 8) + value[1];\n                    if (intValue === 0) {\n                        return 'No ObjectData';\n                    } else if (intValue === 1) {\n                        return 'IPTC-NAA Digital Newsphoto Parameter Record';\n                    } else if (intValue === 2) {\n                        return 'IPTC7901 Recommended Message Format';\n                    } else if (intValue === 3) {\n                        return 'Tagged Image File Format (Adobe/Aldus Image data)';\n                    } else if (intValue === 4) {\n                        return 'Illustrator (Adobe Graphics data)';\n                    } else if (intValue === 5) {\n                        return 'AppleSingle (Apple Computer Inc)';\n                    } else if (intValue === 6) {\n                        return 'NAA 89-3 (ANPA 1312)';\n                    } else if (intValue === 7) {\n                        return 'MacBinary II';\n                    } else if (intValue === 8) {\n                        return 'IPTC Unstructured Character Oriented File Format (UCOFF)';\n                    } else if (intValue === 9) {\n                        return 'United Press International ANPA 1312 variant';\n                    } else if (intValue === 10) {\n                        return 'United Press International Down-Load Message';\n                    } else if (intValue === 11) {\n                        return 'JPEG File Interchange (JFIF)';\n                    } else if (intValue === 12) {\n                        return 'Photo-CD Image-Pac (Eastman Kodak)';\n                    } else if (intValue === 13) {\n                        return 'Microsoft Bit Mapped Graphics File [*.BMP]';\n                    } else if (intValue === 14) {\n                        return 'Digital Audio File [*.WAV] (Microsoft & Creative Labs)';\n                    } else if (intValue === 15) {\n                        return 'Audio plus Moving Video [*.AVI] (Microsoft)';\n                    } else if (intValue === 16) {\n                        return 'PC DOS/Windows Executable Files [*.COM][*.EXE]';\n                    } else if (intValue === 17) {\n                        return 'Compressed Binary File [*.ZIP] (PKWare Inc)';\n                    } else if (intValue === 18) {\n                        return 'Audio Interchange File Format AIFF (Apple Computer Inc)';\n                    } else if (intValue === 19) {\n                        return 'RIFF Wave (Microsoft Corporation)';\n                    } else if (intValue === 20) {\n                        return 'Freehand (Macromedia/Aldus)';\n                    } else if (intValue === 21) {\n                        return 'Hypertext Markup Language \"HTML\" (The Internet Society)';\n                    } else if (intValue === 22) {\n                        return 'MPEG 2 Audio Layer 2 (Musicom), ISO/IEC';\n                    } else if (intValue === 23) {\n                        return 'MPEG 2 Audio Layer 3, ISO/IEC';\n                    } else if (intValue === 24) {\n                        return 'Portable Document File (*.PDF) Adobe';\n                    } else if (intValue === 25) {\n                        return 'News Industry Text Format (NITF)';\n                    } else if (intValue === 26) {\n                        return 'Tape Archive (*.TAR)';\n                    } else if (intValue === 27) {\n                        return 'Tidningarnas Telegrambyrå NITF version (TTNITF DTD)';\n                    } else if (intValue === 28) {\n                        return 'Ritzaus Bureau NITF version (RBNITF DTD)';\n                    } else if (intValue === 29) {\n                        return 'Corel Draw [*.CDR]';\n                    }\n                    return `Unknown format ${intValue}`;\n                }\n                return getStringValue(value);\n            }\n        },\n        0x02c9: {\n            'name': 'ObjectData Preview File Format Version',\n            'description': (value, tags) => {\n                // Format ID, Version ID, Version Description\n                const formatVersions = {\n                    '00': {'00': '1'},\n                    '01': {'01': '1', '02': '2', '03': '3', '04': '4'},\n                    '02': {'04': '4'},\n                    '03': {'01': '5.0', '02': '6.0'},\n                    '04': {'01': '1.40'},\n                    '05': {'01': '2'},\n                    '06': {'01': '1'},\n                    '11': {'01': '1.02'},\n                    '20': {'01': '3.1', '02': '4.0', '03': '5.0', '04': '5.5'},\n                    '21': {'02': '2.0'}\n                };\n                const stringValue = getStringValue(value);\n\n                if (tags['ObjectData Preview File Format']) {\n                    const objectDataPreviewFileFormat = getStringValue(tags['ObjectData Preview File Format'].value);\n                    if (formatVersions[objectDataPreviewFileFormat]\n                        && formatVersions[objectDataPreviewFileFormat][stringValue]) {\n                        return formatVersions[objectDataPreviewFileFormat][stringValue];\n                    }\n                }\n\n                return stringValue;\n            }\n        },\n        0x02ca: 'ObjectData Preview Data',\n        0x070a: {\n            'name': 'Size Mode',\n            'description': (value) => {\n                return (value[0]).toString();\n            }\n        },\n        0x0714: {\n            'name': 'Max Subfile Size',\n            'description': (value) => {\n                let n = 0;\n                for (let i = 0; i < value.length; i++) {\n                    n = (n << 8) + value[i];\n                }\n                return n.toString();\n            }\n        },\n        0x075a: {\n            'name': 'ObjectData Size Announced',\n            'description': (value) => {\n                let n = 0;\n                for (let i = 0; i < value.length; i++) {\n                    n = (n << 8) + value[i];\n                }\n                return n.toString();\n            }\n        },\n        0x075f: {\n            'name': 'Maximum ObjectData Size',\n            'description': (value) => {\n                let n = 0;\n                for (let i = 0; i < value.length; i++) {\n                    n = (n << 8) + value[i];\n                }\n                return n.toString();\n            }\n        }\n    }\n};\n\nfunction getCreationDate(value) {\n    const date = getStringValue(value);\n\n    if (date.length >= 8) {\n        return date.substr(0, 4) + '-' + date.substr(4, 2) + '-' + date.substr(6, 2);\n    }\n\n    return date;\n}\n\nfunction getCreationTime(value) {\n    const time = getStringValue(value);\n    let parsedTime = time;\n\n    if (time.length >= 6) {\n        parsedTime = time.substr(0, 2) + ':' + time.substr(2, 2) + ':' + time.substr(4, 2);\n        if (time.length === 11) {\n            parsedTime += time.substr(6, 1) + time.substr(7, 2) + ':' + time.substr(9, 2);\n        }\n    }\n\n    return parsedTime;\n}\n\nfunction getEncodingName(value) {\n    const string = getStringValue(value);\n    if (string === '\\x1b%G') {\n        return 'UTF-8';\n    } else if (string === '\\x1b%5') {\n        return 'Windows-1252';\n    } else if (string === '\\x1b%/G') {\n        return 'UTF-8 Level 1';\n    } else if (string === '\\x1b%/H') {\n        return 'UTF-8 Level 2';\n    } else if (string === '\\x1b%/I') {\n        return 'UTF-8 Level 3';\n    } else if (string === '\\x1B/A') {\n        return 'ISO-8859-1';\n    } else if (string === '\\x1B/B') {\n        return 'ISO-8859-2';\n    } else if (string === '\\x1B/C') {\n        return 'ISO-8859-3';\n    } else if (string === '\\x1B/D') {\n        return 'ISO-8859-4';\n    } else if (string === '\\x1B/@') {\n        return 'ISO-8859-5';\n    } else if (string === '\\x1B/G') {\n        return 'ISO-8859-6';\n    } else if (string === '\\x1B/F') {\n        return 'ISO-8859-7';\n    } else if (string === '\\x1B/H') {\n        return 'ISO-8859-8';\n    }\n    return 'Unknown';\n}\n","export default \".partition {\\n  display: block;\\n  margin: 30px 0;\\n  padding: 0;\\n  height: 1px;\\n  border: none;\\n  background-color: #eeeeee;\\n}\\n\\n.print-stack .stack-opt {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.print-stack .stack-opt .spacer {\\n  flex: 1;\\n}\\n\\n.print-stack .stack-count {\\n  padding: 5px 0;\\n  text-align: right;\\n  font-size: 14px;\\n}\\n\\n.print-stack .stack-list {\\n  display: block;\\n  margin-top: 5px;\\n  height: 400px;\\n  overflow: auto;\\n  border: 1px solid #999999;\\n}\\n\\n.print-stack .stack-item {\\n  display: flex;\\n  align-items: center;\\n  margin: 3px;\\n  padding: 5px;\\n  font-size: 14px;\\n  border: 1px solid #cccccc;\\n  box-sizing: border-box;\\n}\\n\\n.print-stack .stack-item .aside {\\n  width: 90px;\\n}\\n\\n.print-stack .stack-item .bside {\\n  flex: 1;\\n  display: flex;\\n  flex-wrap: wrap;\\n}\\n\\n.print-stack .stack-item .label {\\n  flex: 1;\\n}\\n\\n.print-stack .stack-item .label .dt {\\n  display: block;\\n  font-size: 12px;\\n  color: #888888;\\n}\\n\\n.print-stack .stack-item .label .dd {\\n  display: block;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3JlYWQtc3RyZWFtLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBQTtFQUNBLGNBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSx5QkFBQTtBQUNGOztBQUdFO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0FBQUo7O0FBQ0k7RUFDRSxPQUFBO0FBQ047O0FBRUU7RUFDRSxjQUFBO0VBQ0EsaUJBQUE7RUFDQSxlQUFBO0FBQUo7O0FBRUU7RUFDRSxjQUFBO0VBQ0EsZUFBQTtFQUNBLGFBQUE7RUFDQSxjQUFBO0VBQ0EseUJBQUE7QUFBSjs7QUFFRTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtFQUNBLHlCQUFBO0VBQ0Esc0JBQUE7QUFBSjs7QUFFSTtFQUNFLFdBQUE7QUFBTjs7QUFFSTtFQUNFLE9BQUE7RUFDQSxhQUFBO0VBQ0EsZUFBQTtBQUFOOztBQUVJO0VBQ0UsT0FBQTtBQUFOOztBQUNNO0VBQ0UsY0FBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0FBQ1I7O0FBQ007RUFDRSxjQUFBO0FBQ1IiLCJmaWxlIjoicmVhZC1zdHJlYW0uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucGFydGl0aW9uIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbjogMzBweCAwO1xuICBwYWRkaW5nOiAwO1xuICBoZWlnaHQ6IDFweDtcbiAgYm9yZGVyOiBub25lO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlZWVlO1xufVxuXG4ucHJpbnQtc3RhY2sge1xuICAuc3RhY2stb3B0IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgLnNwYWNlciB7XG4gICAgICBmbGV4OiAxO1xuICAgIH1cbiAgfVxuICAuc3RhY2stY291bnQge1xuICAgIHBhZGRpbmc6IDVweCAwO1xuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgfVxuICAuc3RhY2stbGlzdCB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgbWFyZ2luLXRvcDogNXB4O1xuICAgIGhlaWdodDogNDAwcHg7XG4gICAgb3ZlcmZsb3c6IGF1dG87XG4gICAgYm9yZGVyOiAxcHggc29saWQgIzk5OTk5OTtcbiAgfVxuICAuc3RhY2staXRlbSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIG1hcmdpbjogM3B4O1xuICAgIHBhZGRpbmc6IDVweDtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjY2NjYztcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuXG4gICAgLmFzaWRlIHtcbiAgICAgIHdpZHRoOiA5MHB4O1xuICAgIH1cbiAgICAuYnNpZGUge1xuICAgICAgZmxleDogMTtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgfVxuICAgIC5sYWJlbCB7XG4gICAgICBmbGV4OiAxO1xuICAgICAgLmR0IHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgY29sb3I6ICM4ODg4ODg7XG4gICAgICB9XG4gICAgICAuZGQge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdfQ== */\";","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringFromDataView, objectAssign} from './utils.js';\nimport XmpTagNames from './xmp-tag-names.js';\nimport DOMParser from './dom-parser.js';\n\nexport default {\n    read\n};\n\nfunction read(dataView, chunks) {\n    if (typeof dataView === 'string') {\n        return readTags({}, dataView);\n    }\n    return extractCompleteChunks(dataView, chunks).reduce(readTags, {});\n}\n\n// The first chunk is always the regular XMP document. Then there is something\n// called extended XMP. The extended XMP is also a single XMP document but it\n// can be divided into multiple chunks that need to be combined into one.\nfunction extractCompleteChunks(dataView, chunks) {\n    if (chunks.length === 0) {\n        return [];\n    }\n\n    const completeChunks = [combineChunks(dataView, chunks.slice(0, 1))];\n    if (chunks.length > 1) {\n        completeChunks.push(combineChunks(dataView, chunks.slice(1)));\n    }\n\n    return completeChunks;\n}\n\nfunction combineChunks(dataView, chunks) {\n    const totalLength = chunks.reduce((size, chunk) => size + chunk.length, 0);\n    const combinedChunks = new Uint8Array(totalLength);\n    let offset = 0;\n\n    for (let i = 0; i < chunks.length; i++) {\n        const chunk = chunks[i];\n        const slice = dataView.buffer.slice(chunk.dataOffset, chunk.dataOffset + chunk.length);\n        combinedChunks.set(new Uint8Array(slice), offset);\n        offset += chunk.length;\n    }\n\n    return new DataView(combinedChunks.buffer);\n}\n\nfunction readTags(tags, chunkDataView) {\n    try {\n        const doc = getDocument(chunkDataView);\n        const rdf = getRDF(doc);\n\n        return objectAssign(tags, parseXMPObject(convertToObject(rdf, true)));\n    } catch (error) {\n        return tags;\n    }\n}\n\nfunction getDocument(chunkDataView) {\n    const Parser = DOMParser.get();\n    if (!Parser) {\n        console.warn('Warning: DOMParser is not available. It is needed to be able to parse XMP tags.'); // eslint-disable-line no-console\n        throw new Error();\n    }\n\n    const domParser = new Parser();\n    const xmlString = typeof chunkDataView === 'string' ? chunkDataView : getStringFromDataView(chunkDataView, 0, chunkDataView.byteLength);\n    const doc = domParser.parseFromString(trimXmlSource(xmlString), 'application/xml');\n\n    if (doc.documentElement.nodeName === 'parsererror') {\n        throw new Error(doc.documentElement.textContent);\n    }\n\n    return doc;\n}\n\nfunction trimXmlSource(xmlSource) {\n    return xmlSource.replace(/^.+(<\\?xpacket begin)/, '$1').replace(/(<\\?xpacket end=\".*\"\\?>).+$/, '$1');\n}\n\nfunction getRDF(node) {\n    for (let i = 0; i < node.childNodes.length; i++) {\n        if (node.childNodes[i].tagName === 'x:xmpmeta') {\n            return getRDF(node.childNodes[i]);\n        }\n        if (node.childNodes[i].tagName === 'rdf:RDF') {\n            return node.childNodes[i];\n        }\n    }\n\n    throw new Error();\n}\n\nfunction convertToObject(node, isTopNode = false) {\n    const childNodes = getChildNodes(node);\n\n    if (hasTextOnlyContent(childNodes)) {\n        if (isTopNode) {\n            return {};\n        }\n        return getTextValue(childNodes[0]);\n    }\n\n    return getElementsFromNodes(childNodes);\n}\n\nfunction getChildNodes(node) {\n    const elements = [];\n\n    for (let i = 0; i < node.childNodes.length; i++) {\n        elements.push(node.childNodes[i]);\n    }\n\n    return elements;\n}\n\nfunction hasTextOnlyContent(nodes) {\n    return (nodes.length === 1) && (nodes[0].nodeName === '#text');\n}\n\nfunction getTextValue(node) {\n    return node.nodeValue;\n}\n\nfunction getElementsFromNodes(nodes) {\n    const elements = {};\n\n    nodes.forEach((node) => {\n        if (isElement(node)) {\n            const nodeElement = getElementFromNode(node);\n\n            if (elements[node.nodeName] !== undefined) {\n                if (!Array.isArray(elements[node.nodeName])) {\n                    elements[node.nodeName] = [elements[node.nodeName]];\n                }\n                elements[node.nodeName].push(nodeElement);\n            } else {\n                elements[node.nodeName] = nodeElement;\n            }\n        }\n    });\n\n    return elements;\n}\n\nfunction isElement(node) {\n    return (node.nodeName) && (node.nodeName !== '#text');\n}\n\nfunction getElementFromNode(node) {\n    return {\n        attributes: getAttributes(node),\n        value: convertToObject(node)\n    };\n}\n\nfunction getAttributes(element) {\n    const attributes = {};\n\n    for (let i = 0; i < element.attributes.length; i++) {\n        attributes[element.attributes[i].nodeName] = decodeURIComponent(escape(element.attributes[i].value));\n    }\n\n    return attributes;\n}\n\nfunction parseXMPObject(xmpObject) {\n    const tags = {};\n\n    if (typeof xmpObject === 'string') {\n        return xmpObject;\n    }\n\n    for (const nodeName in xmpObject) {\n        let nodes = xmpObject[nodeName];\n\n        if (!Array.isArray(nodes)) {\n            nodes = [nodes];\n        }\n\n        nodes.forEach((node) => {\n            objectAssign(tags, parseNodeAttributesAsTags(node.attributes));\n            if (typeof node.value === 'object') {\n                objectAssign(tags, parseNodeChildrenAsTags(node.value));\n            }\n        });\n    }\n\n    return tags;\n}\n\nfunction parseNodeAttributesAsTags(attributes) {\n    const tags = {};\n\n    for (const name in attributes) {\n        if (isTagAttribute(name)) {\n            tags[getLocalName(name)] = {\n                value: attributes[name],\n                attributes: {},\n                description: getDescription(attributes[name], name)\n            };\n        }\n    }\n\n    return tags;\n}\n\nfunction isTagAttribute(name) {\n    return (name !== 'rdf:parseType') && (!isNamespaceDefinition(name));\n}\n\nfunction isNamespaceDefinition(name) {\n    return name.split(':')[0] === 'xmlns';\n}\n\nfunction getLocalName(name) {\n    return name.split(':')[1];\n}\n\nfunction getDescription(value, name = undefined) {\n    if (Array.isArray(value)) {\n        return getDescriptionOfArray(value);\n    }\n    if (typeof value === 'object') {\n        return getDescriptionOfObject(value);\n    }\n\n    try {\n        if ((name) && (typeof XmpTagNames[name] === 'function')) {\n            return XmpTagNames[name](value);\n        }\n        return decodeURIComponent(escape(value));\n    } catch (error) {\n        return value;\n    }\n}\n\nfunction getDescriptionOfArray(value) {\n    return value.map((item) => {\n        if (item.value !== undefined) {\n            return getDescription(item.value);\n        }\n        return getDescription(item);\n    }).join(', ');\n}\n\nfunction getDescriptionOfObject(value) {\n    const descriptions = [];\n\n    for (const key in value) {\n        descriptions.push(`${getClearTextKey(key)}: ${value[key].value}`);\n    }\n\n    return descriptions.join('; ');\n}\n\nfunction getClearTextKey(key) {\n    if (key === 'CiAdrCity') {\n        return 'CreatorCity';\n    }\n    if (key === 'CiAdrCtry') {\n        return 'CreatorCountry';\n    }\n    if (key === 'CiAdrExtadr') {\n        return 'CreatorAddress';\n    }\n    if (key === 'CiAdrPcode') {\n        return 'CreatorPostalCode';\n    }\n    if (key === 'CiAdrRegion') {\n        return 'CreatorRegion';\n    }\n    if (key === 'CiEmailWork') {\n        return 'CreatorWorkEmail';\n    }\n    if (key === 'CiTelWork') {\n        return 'CreatorWorkPhone';\n    }\n    if (key === 'CiUrlWork') {\n        return 'CreatorWorkUrl';\n    }\n    return key;\n}\n\nfunction parseNodeChildrenAsTags(children) {\n    const tags = {};\n\n    for (const name in children) {\n        if (!isNamespaceDefinition(name)) {\n            tags[getLocalName(name)] = parseNodeAsTag(children[name], name);\n        }\n    }\n\n    return tags;\n}\n\nfunction parseNodeAsTag(node, name) {\n    if (hasNestedSimpleRdfDescription(node)) {\n        return parseNodeAsSimpleRdfDescription(node, name);\n    } else if (hasNestedStructureRdfDescription(node)) {\n        return parseNodeAsStructureRdfDescription(node, name);\n    } else if (isCompactStructure(node)) {\n        return parseNodeAsCompactStructure(node, name);\n    } else if (isArray(node)) {\n        return parseNodeAsArray(node, name);\n    }\n    return parseNodeAsSimpleValue(node, name);\n}\n\nfunction hasNestedSimpleRdfDescription(node) {\n    return ((node.attributes['rdf:parseType'] === 'Resource') && (node.value['rdf:value'] !== undefined))\n        || ((node.value['rdf:Description'] !== undefined) && (node.value['rdf:Description'].value['rdf:value'] !== undefined));\n}\n\nfunction parseNodeAsSimpleRdfDescription(node, name) {\n    const attributes = parseNodeAttributes(node);\n\n    if (node.value['rdf:Description'] !== undefined) {\n        node = node.value['rdf:Description'];\n    }\n\n    objectAssign(attributes, parseNodeAttributes(node), parseNodeChildrenAsAttributes(node));\n\n    const value = parseRdfValue(node);\n\n    return {\n        value,\n        attributes,\n        description: getDescription(value, name)\n    };\n}\n\nfunction parseNodeAttributes(node) {\n    const attributes = {};\n\n    for (const name in node.attributes) {\n        if ((name !== 'rdf:parseType') && (name !== 'rdf:resource') && (!isNamespaceDefinition(name))) {\n            attributes[getLocalName(name)] = node.attributes[name];\n        }\n    }\n\n    return attributes;\n}\n\nfunction parseNodeChildrenAsAttributes(node) {\n    const attributes = {};\n\n    for (const name in node.value) {\n        if ((name !== 'rdf:value') && (!isNamespaceDefinition(name))) {\n            attributes[getLocalName(name)] = node.value[name].value;\n        }\n    }\n\n    return attributes;\n}\n\nfunction parseRdfValue(node) {\n    return getURIValue(node.value['rdf:value']) || node.value['rdf:value'].value;\n}\n\nfunction hasNestedStructureRdfDescription(node) {\n    return (node.attributes['rdf:parseType'] === 'Resource')\n        || ((node.value['rdf:Description'] !== undefined) && (node.value['rdf:Description'].value['rdf:value'] === undefined));\n}\n\nfunction parseNodeAsStructureRdfDescription(node, name) {\n    const tag = {\n        value: {},\n        attributes: {}\n    };\n\n    if (node.value['rdf:Description'] !== undefined) {\n        objectAssign(tag.value, parseNodeAttributesAsTags(node.value['rdf:Description'].attributes));\n        objectAssign(tag.attributes, parseNodeAttributes(node));\n        node = node.value['rdf:Description'];\n    }\n\n    objectAssign(tag.value, parseNodeChildrenAsTags(node.value));\n\n    tag.description = getDescription(tag.value, name);\n\n    return tag;\n}\n\nfunction isCompactStructure(node) {\n    return (Object.keys(node.value).length === 0)\n        && (node.attributes['rdf:resource'] === undefined);\n}\n\nfunction parseNodeAsCompactStructure(node, name) {\n    const value = parseNodeAttributesAsTags(node.attributes);\n\n    return {\n        value,\n        attributes: {},\n        description: getDescription(value, name)\n    };\n}\n\nfunction isArray(node) {\n    return getArrayChild(node.value) !== undefined;\n}\n\nfunction getArrayChild(value) {\n    return value['rdf:Bag'] || value['rdf:Seq'] || value['rdf:Alt'];\n}\n\nfunction parseNodeAsArray(node, name) {\n    let items = getArrayChild(node.value).value['rdf:li'];\n    const attributes = parseNodeAttributes(node);\n    const value = [];\n\n    if (items === undefined) {\n        items = [];\n    } else if (!Array.isArray(items)) {\n        items = [items];\n    }\n\n    items.forEach((item) => {\n        value.push(parseArrayValue(item));\n    });\n\n    return {\n        value,\n        attributes,\n        description: getDescription(value, name)\n    };\n}\n\nfunction parseArrayValue(item) {\n    if (hasNestedSimpleRdfDescription(item)) {\n        return parseNodeAsSimpleRdfDescription(item);\n    }\n\n    if (hasNestedArrayValue(item)) {\n        return parseNodeChildrenAsTags(item.value);\n    }\n\n    return {\n        value: item.value,\n        attributes: parseNodeAttributes(item),\n        description: getDescription(item.value)\n    };\n}\n\nfunction hasNestedArrayValue(node) {\n    return node.attributes['rdf:parseType'] === 'Resource';\n}\n\nfunction parseNodeAsSimpleValue(node, name) {\n    const value = getURIValue(node) || parseXMPObject(node.value);\n\n    return {\n        value,\n        attributes: parseNodeAttributes(node),\n        description: getDescription(value, name)\n    };\n}\n\nfunction getURIValue(node) {\n    return node.attributes && node.attributes['rdf:resource'];\n}\n","export default \"<div>\\n  <div class=\\\"fm-box-wrap\\\">\\n    <div class=\\\"fm-box\\\">\\n      <span class=\\\"label\\\">expectWidth</span>\\n      <div class=\\\"box\\\">\\n        <mat-select [(ngModel)]=\\\"testWidth\\\">\\n          <mat-option *ngFor=\\\"let data of optionWidths\\\" [value]=\\\"data.value\\\">{{\\n            data.label\\n          }}</mat-option>\\n        </mat-select>\\n      </div>\\n    </div>\\n    <div class=\\\"fm-box\\\">\\n      <span class=\\\"label\\\">expectHeight</span>\\n      <div class=\\\"box\\\">\\n        <mat-select [(ngModel)]=\\\"testHeight\\\">\\n          <mat-option *ngFor=\\\"let data of optionHeights\\\" [value]=\\\"data.value\\\">{{\\n            data.label\\n          }}</mat-option>\\n        </mat-select>\\n      </div>\\n    </div>\\n    <div class=\\\"fm-box\\\">\\n      <span class=\\\"label\\\">quality</span>\\n      <div class=\\\"box\\\">\\n        <mat-select [(ngModel)]=\\\"testQuality\\\">\\n          <mat-option *ngFor=\\\"let data of optionQualities\\\" [value]=\\\"data.value\\\">{{\\n            data.label\\n          }}</mat-option>\\n        </mat-select>\\n      </div>\\n    </div>\\n    <div class=\\\"fm-box\\\">\\n      <span class=\\\"label\\\">applyOrientation</span>\\n      <div class=\\\"box\\\">\\n        <mat-checkbox class=\\\"example-margin\\\" [(ngModel)]=\\\"testApplyOrientation\\\">\\n          apply exif orientation\\n        </mat-checkbox>\\n      </div>\\n    </div>\\n    <div class=\\\"fm-box\\\">\\n      <span class=\\\"label\\\">expectContentType</span>\\n      <div class=\\\"box\\\">\\n        <input class=\\\"fm-input\\\" [(ngModel)]=\\\"testContentType\\\" placeholder=\\\"ex) image/jpeg\\\" />\\n      </div>\\n    </div>\\n    <div class=\\\"fm-box\\\">\\n      <span class=\\\"label\\\">fillBgColor</span>\\n      <div class=\\\"box\\\">\\n        <input class=\\\"fm-input\\\" [(ngModel)]=\\\"testFillBgColor\\\" placeholder=\\\"ex) #ff0000\\\" />\\n      </div>\\n    </div>\\n  </div>\\n\\n  <ul class=\\\"my-desc\\\">\\n    <li class=\\\"item\\\">quality: only applies when contentType \\\"image/jpeg\\\"</li>\\n    <li class=\\\"item\\\">\\n      orientation: only applies when image has exif orientation\\n      <a target=\\\"_blank\\\" href=\\\"https://github.com/recurser/exif-orientation-examples\\\"\\n        >(github: exif orientation sample image)</a\\n      >\\n    </li>\\n  </ul>\\n</div>\\n\\n<div class=\\\"file-wrap\\\">\\n  <input type=\\\"file\\\" accept=\\\"image/*\\\" (change)=\\\"onFileChange($event)\\\" />\\n</div>\\n\\n<div class=\\\"demo-wrap\\\">\\n  <div *ngFor=\\\"let demo of demoList\\\" class=\\\"demo-item\\\">\\n    <div class=\\\"panel-canvas\\\">\\n      <div class=\\\"draw-area\\\">\\n        <canvas #demoCanvasRefs></canvas>\\n      </div>\\n    </div>\\n    <div *ngIf=\\\"demo.info\\\" class=\\\"panel-info\\\">\\n      <em class=\\\"tit\\\">{{ demo.info.title }}</em>\\n      <dl class=\\\"dl\\\">\\n        <dt class=\\\"dt\\\">size</dt>\\n        <dd class=\\\"dd\\\">{{ demo.info.size }}bype / {{ (demo.info.size / 1024).toFixed(2) }}kb</dd>\\n      </dl>\\n      <dl class=\\\"dl\\\">\\n        <dt class=\\\"dt\\\">type</dt>\\n        <dd class=\\\"dd\\\">{{ demo.info.type }}</dd>\\n      </dl>\\n      <dl class=\\\"dl\\\">\\n        <dt class=\\\"dt\\\">width</dt>\\n        <dd class=\\\"dd\\\">{{ demo.info.width }}</dd>\\n      </dl>\\n      <dl class=\\\"dl\\\">\\n        <dt class=\\\"dt\\\">height</dt>\\n        <dd class=\\\"dd\\\">{{ demo.info.height }}</dd>\\n      </dl>\\n    </div>\\n  </div>\\n</div>\\n\\n<!-- <div class=\\\"canvas-wrap\\\">\\n  <div class=\\\"canvas-item\\\">\\n    <div class=\\\"display-area\\\">\\n      <div class=\\\"draw-area\\\">\\n        <canvas #canvasOriginal></canvas>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"canvas-item\\\">\\n    <div class=\\\"display-area\\\">\\n      <div class=\\\"draw-area\\\">\\n        <canvas #canvasCover></canvas>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"canvas-item\\\">\\n    <div class=\\\"display-area\\\">\\n      <div class=\\\"draw-area\\\">\\n        <canvas #canvasCoverNoneStretch></canvas>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"canvas-item\\\">\\n    <div class=\\\"display-area\\\">\\n      <div class=\\\"draw-area\\\">\\n        <canvas #canvasScale></canvas>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"info-wrap\\\">\\n  <div *ngFor=\\\"let info of infos\\\" class=\\\"info-item\\\">\\n    <em class=\\\"tit\\\">{{ info.title }}</em>\\n    <dl class=\\\"dl\\\">\\n      <dt class=\\\"dt\\\">size</dt>\\n      <dd class=\\\"dd\\\">{{ info.size }}bype / {{ (info.size / 1024).toFixed(2) }}kb</dd>\\n    </dl>\\n    <dl class=\\\"dl\\\">\\n      <dt class=\\\"dt\\\">type</dt>\\n      <dd class=\\\"dd\\\">{{ info.type }}</dd>\\n    </dl>\\n    <dl class=\\\"dl\\\">\\n      <dt class=\\\"dt\\\">width</dt>\\n      <dd class=\\\"dd\\\">{{ info.width }}</dd>\\n    </dl>\\n    <dl class=\\\"dl\\\">\\n      <dt class=\\\"dt\\\">height</dt>\\n      <dd class=\\\"dd\\\">{{ info.height }}</dd>\\n    </dl>\\n  </div>\\n</div> -->\\n\";"]}