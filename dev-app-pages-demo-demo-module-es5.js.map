{"version":3,"sources":["webpack:///node_modules/exifreader/src/tag-names-common.js","webpack:///node_modules/exifreader/src/tag-names-gps-ifd.js","webpack:///node_modules/exifreader/src/exif-reader.js","webpack:///projects/packages/src/utils/toBuffer.ts","webpack:///node_modules/exifreader/src/image-header-jpeg.js","webpack:///projects/dev/src/app/pages/demo/demo.module.ts","webpack:///projects/dev/src/app/pages/demo/demo.routing.ts","webpack:///node_modules/exifreader/src/file-tags.js","webpack:///node_modules/exifreader/src/tag-names-exif-ifd.js","webpack:///projects/dev/src/app/pages/demo/read-stream/read-stream.component.html","webpack:///projects/packages/src/blob-image/BlobImageResize.ts","webpack:///node_modules/exifreader/src/constants.js","webpack:///node_modules/base64-js/index.js","webpack:///projects/packages/src/blob-image/index.ts","webpack:///node_modules/exifreader/src/image-header-png.js","webpack:///projects/packages/src/blob-image/types.ts","webpack:///node_modules/exifreader/src/icc-tags.js","webpack:///projects/packages/src/read-stream/FileReadStream.ts","webpack:///node_modules/exifreader/src/image-header.js","webpack:///node_modules/exifreader/src/image-header-heic.js","webpack:///node_modules/exifreader/src/png-file-tags.js","webpack:///node_modules/exifreader/src/tag-names-0th-ifd.js","webpack:///node_modules/exifreader/src/tag-names-interoperability-ifd.js","webpack:///node_modules/exifreader/src/text-decoder.js","webpack:///projects/packages/src/read-stream/index.ts","webpack:///projects/packages/src/read-stream/types.ts","webpack:///node_modules/exifreader/src/iptc-tags.js","webpack:///projects/dev/src/app/pages/demo/blob-image/blob-image.component.scss","webpack:///node_modules/exifreader/src/dom-parser.js","webpack:///node_modules/exifreader/src/dataview.js","webpack:///node_modules/exifreader/src/tag-names-utils.js","webpack:///node_modules/exifreader/src/tags.js","webpack:///projects/dev/src/app/pages/demo/blob-image/blob-image.component.ts","webpack:///node_modules/exifreader/src/errors.js","webpack:///node_modules/ieee754/index.js","webpack:///node_modules/exifreader/src/icc-tag-names.js","webpack:///node_modules/exifreader/src/image-header-tiff.js","webpack:///node_modules/exifreader/src/tag-names.js","webpack:///node_modules/exifreader/src/tag-decoder.js","webpack:///projects/dev/src/app/pages/demo/read-stream/read-stream.component.ts","webpack:///node_modules/exifreader/src/byte-order.js","webpack:///node_modules/exifreader/src/xmp-tag-names.js","webpack:///projects/packages/src/public-api.ts","webpack:///node_modules/exifreader/src/thumbnail.js","webpack:///node_modules/exifreader/src/types.js","webpack:///projects/dev/src/app/modules/example/common/common.module.ts","webpack:///node_modules/exifreader/src/utils.js","webpack:///node_modules/exifreader/src/image-header-webp.js","webpack:///node_modules/buffer/index.js","webpack:///node_modules/exifreader/src/iptc-tag-names.js","webpack:///projects/dev/src/app/pages/demo/read-stream/read-stream.component.scss","webpack:///node_modules/exifreader/src/xmp-tags.js","webpack:///projects/dev/src/app/pages/demo/blob-image/blob-image.component.html"],"names":["value","ref","join","values","map","numerator","denominator","num","test","status","mode","load","loadView","errors","data","options","expanded","isNodeBuffer","Uint8Array","buffer","getDataView","Buffer","isBuffer","error","DataView","dataView","foundMetaData","tags","parseAppMarkers","fileDataOffset","tiffHeaderOffset","iptcDataOffset","xmpChunks","iccChunks","pngHeaderOffset","USE_JPEG","USE_FILE","hasFileData","readTags","read","file","USE_EXIF","hasExifData","Thumbnail","exif","addGpsGroup","USE_TIFF","USE_IPTC","hasIptcData","readIptcTags","iptc","USE_XMP","hasXmpData","readXmpTags","xmp","USE_ICC","hasIccData","readIccTags","offset","length","chunkNumber","chunksTotal","icc","USE_WEBP","USE_PNG","USE_PNG_FILE","hasPngFileData","pngFile","thumbnail","USE_THUMBNAIL","get","MetadataMissingError","undefined","GPSLatitude","GPSLatitudeRef","gps","Latitude","GPSLongitude","GPSLongitudeRef","Longitude","GPSAltitude","GPSAltitudeRef","Altitude","Array","isArray","iccDataOffsets","pngFileDataOffset","toBufferByBlob","blob","Promise","resolve","reject","reader","FileReader","onload","onerror","from","result","err","evt","readAsArrayBuffer","isJpegFile","findJpegOffsets","MIN_JPEG_DATA_BUFFER_LENGTH","JPEG_ID","JPEG_ID_SIZE","APP_ID_OFFSET","APP_MARKER_SIZE","TIFF_HEADER_OFFSET","IPTC_DATA_OFFSET","XMP_DATA_OFFSET","XMP_EXTENDED_DATA_OFFSET","APP2_ICC_DATA_OFFSET","APP2_ICC_IDENTIFIER","ICC_CHUNK_NUMBER_OFFSET","ICC_TOTAL_CHUNKS_OFFSET","SOF0_MARKER","SOF2_MARKER","DHT_MARKER","DQT_MARKER","DRI_MARKER","SOS_MARKER","APP0_MARKER","APP1_MARKER","APP2_MARKER","APP13_MARKER","APP15_MARKER","COMMENT_MARKER","APP1_EXIF_IDENTIFIER","APP1_XMP_IDENTIFIER","APP1_XMP_EXTENDED_IDENTIFIER","APP13_IPTC_IDENTIFIER","byteLength","getUint16","appMarkerPosition","fieldLength","sof0DataOffset","sof2DataOffset","isSOF0Marker","isSOF2Marker","isApp1ExifMarker","isApp1XmpMarker","push","getXmpChunkDetails","isApp1ExtendedXmpMarker","getExtendedXmpChunkDetails","isApp13PhotoshopMarker","isApp2ICCMarker","iccDataOffset","iccDataLength","iccChunkNumber","getUint8","iccChunksTotal","isAppMarker","hasAppMarkers","markerIdLength","isXmpIdentifier","isExtendedXmpIdentifier","dataOffset","appMarker","PageModule","imports","declarations","routes","path","children","component","RoutingModule","forChild","exports","getLength","numberOfColorComponents","getNumberOfColorComponents","getDataPrecision","getImageHeight","getImageWidth","getSubsampling","getShortAt","OFFSET","SIZE","getByteAt","description","components","i","componentOffset","getComponentIds","getSamplingType","ids","compontent","types","Math","round","name","character","pow","sqrt","toFixed","charCode","String","fromCharCode","x","y","focalLengths","BlobImageResize","config","expectWidth","expectHeight","quality","resizeType","SCALE","expectContentType","fillBgColor","applyOrientation","maxWidth","maxHeight","forceContentType","sw","sh","getMaxSize","dx","dy","dw","dh","isLandscape","min","floor","mw","mh","contentRatio","expectRatio","SCALE_STRETCH","FIXED","URL","revokeObjectURL","blobURL","imageWidth","domImage","naturalWidth","imageHeight","naturalHeight","draw","orientation","Orientation","console","drawBound","COVER","getResizeToCover","COVER_STRETCH","getResizeToCoverStretch","getResizeToScaleStretch","getResizeToScale","getResizeToFixed","parseDrawMetadata","parseDrawBound","tx","ty","contentType","type","canvas","domCanvas","context","domCanvasContext","width","height","fillStyle","fillRect","translate","scale","rotate","PI","drawImage","detectedOrientation","toBlob","onResized","bind","promiseReject","getState","Error","resizeBlob","promiseResolve","document","createElement","getContext","Image","onImageLoaded","onImageError","promise","createObjectURL","src","USE_HEIC","toByteArray","fromByteArray","lookup","revLookup","Arr","code","len","charCodeAt","getLens","b64","validLen","indexOf","placeHoldersLen","lens","_byteLength","tmp","arr","curByte","tripletToBase64","encodeChunk","uint8","start","end","output","extraBytes","parts","maxChunkLength","len2","isPngFile","findPngOffsets","PNG_ID","PNG_CHUNK_LENGTH_SIZE","PNG_CHUNK_TYPE_SIZE","PNG_CHUNK_LENGTH_OFFSET","PNG_CHUNK_TYPE_OFFSET","PNG_CHUNK_DATA_OFFSET","PNG_XMP_PREFIX","PNG_CRC_SIZE","offsets","isPngImageHeaderChunk","isPngXmpChunk","getPngXmpDataOffset","getUint32","PNG_CHUNK_TYPE_IMAGE_HEADER","PNG_CHUNK_TYPE_INTERNATIONAL_TEXT","COMPRESSION_FLAG_SIZE","COMPRESSION_METHOD_SIZE","numberOfNullSeparators","ResizeType","PROFILE_HEADER_LENGTH","ICC_TAG_COUNT_OFFSET","ICC_SIGNATURE","TAG_TYPE_DESC","TAG_TYPE_MULTI_LOCALIZED_UNICODE_TYPE","TAG_TYPE_TEXT","TAG_TYPE_SIGNATURE","TAG_TABLE_SINGLE_TAG_DATA","iccData","totalIccProfileLength","reduce","sum","iccBinaryData","getBuffer","iccDataChunk","find","slice","chunkData","set","parseTags","iccDoesNotHaveTagCount","hasTagsData","tagHeaderOffset","iccProfileKeys","Object","keys","profileEntry","parseInt","signature","sliceToString","tagCount","tagSignature","tagOffset","tagSize","tagType","tagValueSize","val","addTag","numRecords","recordSize","recordNum","languageCode","countryCode","textLength","textOffset","text","valObj","valIndex","apply","FileReadStream","readStarted","readOffset","readOffsetNext","readCurrent","readStateAbort","buffers","readFile","onReaderLoaded","onReaderError","subjectState","chunkSize","responseType","BLOB","readChunkSize","stateChanged","next","resultReject","maxSize","size","resultResolve","expectNext","sliceBlob","CHANGE","state","RESOLVE","readPromiseResolve","reason","REJECT","readPromiseReject","readPromise","asObservable","lastModified","Date","now","fileName","fileType","fileSize","fileLastModified","total","readed","Blob","BUFFER","abort","ABORT","isTiffFile","findTiffOffsets","isHeicFile","findHeicOffsets","isWebpFile","findOffsets","HEIC_ID","HEIC_ID_OFFSET","HEIC_MAJOR_BRANDS","HEIC_MAJOR_BRAND_LENGTH","heicMajorBrand","findMetaAtom","metaOffset","metaLength","metaEndOffset","findMetaItems","exifItemOffset","ilocOffset","colrOffset","exifOffset","findExifOffset","findIccChunks","ATOM_LENGTH_SIZE","ATOM_TYPE_SIZE","ATOM_MIN_LENGTH","ATOM_TYPE_OFFSET","atomLength","getAtomLength","atomType","ATOM_EXTENDED_SIZE_LOW_OFFSET","extendsToEndOfFile","hasExtendedSize","hasEmptyHighBits","ATOM_EXTENDED_SIZE_OFFSET","STRING_SIZE","ITEM_INDEX_REL_OFFSET","itemName","EXIF_ITEM_OFFSET_SIZE","ILOC_DATA_OFFSET","EXIF_POINTER_OFFSET","EXIF_POINTER_SIZE","EXIF_PREFIX_LENGTH_OFFSET","ILOC_ITEM_SIZE","exifItemIndex","itemIndex","exifPointer","prefixLength","ITEM_TYPE_OFFSET","ITEM_TYPE_SIZE","ITEM_CONTENT_OFFSET","colorType","getBitDepth","getColorType","getCompression","getFilter","getInterlace","getLongAt","COLOR_TYPES","INTERLACE_TYPES","formats","sample","TextDecoder","FileReadEventType","FileReadResponseType","BYTES_8BIM","BYTES_8BIM_SIZE","RESOURCE_BLOCK_HEADER_SIZE","NAA_RESOURCE_BLOCK_TYPE","TAG_HEADER_SIZE","getNaaResourceBlock","naaBlock","newDataOffset","resourceBlock","getResourceBlock","isNaaResourceBlock","getBlockPadding","RESOURCE_BLOCK_SIZE_OFFSET","encoding","endOfBlockOffset","readTag","tag","id","TAG_CODE_OFFSET","TAG_SIZE_OFFSET","leadByteIsMissing","tagCode","tagValue","getTagValue","getTagName","getTagDescription","tagIsRepeatable","tagContainsEncoding","TAG_LEAD_BYTE","valueIndex","tagIsName","hasDynamicName","hasDescriptionProperty","tagValueIsText","decode","DOMParser","eval","bufferTypeIsUnsupported","readUInt8","littleEndian","readUInt16LE","readUInt16BE","readUInt32LE","readUInt32BE","readInt32LE","readInt32BE","getStringValue","getEncodedString","getCalculatedGpsValue","EXIF_IFD_POINTER_KEY","GPS_INFO_IFD_POINTER_KEY","INTEROPERABILITY_IFD_POINTER_KEY","getTagValueAt","getAsciiAt","getRationalAt","getUndefinedAt","getSlongAt","getSrationalAt","getIfdPointerAt","byteOrder","getByteOrder","read0thIfd","readExifIfd","readGpsIfd","readInteroperabilityIfd","readIfd","get0thIfdOffset","ifdType","FIELD_COUNT_SIZE","getTypeSize","FIELD_SIZE","numberOfFields","getNumberOfFields","fieldIndex","nextIfdOffset","TAG_CODE_IPTC_NAA","TAG_TYPE_OFFSET","TAG_COUNT_OFFSET","TAG_VALUE_OFFSET","typeSizes","tagValueFitsInOffsetSlot","tagValueOffset","tagValueFitsInDataView","forceByteType","tagTypes","splitNullSeparatedAsciiString","decodeAsciiValue","tagName","tagDescription","getDescriptionFromTagValue","count","getAsciiValue","string","j","asciiValue","decodeURIComponent","escape","BlobImageComponent","testWidth","testHeight","testQuality","testContentType","testFillBgColor","testApplyOrientation","optionWidths","a","b","index","label","toString","optionHeights","optionQualities","parseFloat","demoList","title","info","target","files","resizeStart","infos","originalBlob","refCanvasList","demoCanvasRefs","toArray","demo","nativeElement","drawResizeDemo","resizeWidth","resizeHeight","resizer","create","resizeResult","drawToCanvas","resizeCanvas","log","image","selector","template","message","stack","prototype","isLE","mLen","nBytes","e","m","eLen","eMax","eBias","nBits","d","s","NaN","Infinity","write","c","rt","abs","isNaN","LN2","iccTags","iccProfile","toCompany","toLowerCase","parseDate","toISOString","year","month","day","hours","minutes","seconds","UTC","MIN_TIFF_DATA_BUFFER_LENGTH","hasTiffMarker","TIFF_ID","TIFF_ID_OFFSET","LITTLE_ENDIAN","TIFF_FILE_HEADER_OFFSET","tagNames0thExifIfds","Decoder","stringValue","ReadStreamComponent","optionChunks","optionResponseTypes","testChunk","testResponseType","changeStack","changeStackCount","changeStackDisplayMax","byte","kb","mb","readStart","destroy","observeState","subscribe","shift","BIG_ENDIAN","calculateGPSValue","split","degreesString","minutesString","degrees","charAt","Number","COMPRESSION_JPEG","thumbnailTags","hasJpegThumbnail","JPEGInterchangeFormat","JPEGInterchangeFormatLength","getBase64Image","Compression","includes","btoa","call","charArray","getInt32","typeName","ExampleCommonModule","getStringFromDataView","chars","getStringValueFromArray","getUnicodeStringFromDataView","getCharacterArray","objectAssign","arguments","property","deferInit","object","key","initializer","initialized","defineProperty","configurable","enumerable","writable","RIFF_ID_OFFSET","RIFF_ID","WEBP_MARKER_OFFSET","WEBP_MARKER","SUB_CHUNK_START_OFFSET","CHUNK_SIZE_OFFSET","EXIF_IDENTIFIER","CHUNK_HEADER_SIZE","chunkId","base64","ieee754","customInspectSymbol","Symbol","SlowBuffer","INSPECT_MAX_BYTES","K_MAX_LENGTH","kMaxLength","TYPED_ARRAY_SUPPORT","typedArraySupport","proto","foo","setPrototypeOf","byteOffset","createBuffer","RangeError","buf","arg","encodingOrOffset","TypeError","allocUnsafe","poolSize","fromString","ArrayBuffer","isView","fromArrayView","isInstance","fromArrayBuffer","SharedArrayBuffer","valueOf","fromObject","toPrimitive","assertSize","alloc","fill","checked","allocUnsafeSlow","isEncoding","actual","fromArrayLike","array","arrayView","copy","obj","numberIsNaN","_isBuffer","compare","concat","list","pos","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","n","swap16","swap32","swap64","toLocaleString","equals","inspect","str","max","replace","trim","thisStart","thisEnd","thisCopy","targetCopy","bidirectionalIndexOf","dir","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","foundIndex","found","hexWrite","remaining","strLen","parsed","substr","utf8Write","blitBuffer","asciiWrite","asciiToBytes","base64Write","ucs2Write","utf16leToBytes","isFinite","toJSON","_arr","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","MAX_ARGUMENTS_LENGTH","codePoints","ret","out","hexSliceLookupTable","bytes","newBuf","subarray","checkOffset","ext","readUintLE","readUIntLE","noAssert","mul","readUintBE","readUIntBE","readUint8","readUint16LE","readUint16BE","readUint32LE","readUint32BE","readBigUInt64LE","defineBigIntMethod","validateNumber","first","last","boundsError","lo","hi","BigInt","readBigUInt64BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","checkInt","writeUintLE","writeUIntLE","maxBytes","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","wrtBigUInt64LE","checkIntBI","wrtBigUInt64BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","checkIEEE754","writeFloat","writeFloatLE","writeFloatBE","writeDouble","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","E","sym","getMessage","Base","range","input","msg","received","isInteger","addNumericalSeparator","checkBounds","ERR_OUT_OF_RANGE","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","INVALID_BASE64_RE","base64clean","units","leadSurrogate","byteArray","dst","constructor","alphabet","table","i16","fn","BufferBigIntNotDefined","getCreationDate","getCreationTime","getEncodingName","character0","character1","bits","duration","intValue","formatVersions","objectDataPreviewFileFormat","date","time","parsedTime","chunks","extractCompleteChunks","completeChunks","combineChunks","totalLength","chunk","combinedChunks","chunkDataView","doc","getDocument","rdf","getRDF","parseXMPObject","convertToObject","Parser","warn","domParser","xmlString","parseFromString","trimXmlSource","documentElement","nodeName","textContent","xmlSource","node","childNodes","isTopNode","getChildNodes","hasTextOnlyContent","getTextValue","getElementsFromNodes","elements","nodes","nodeValue","forEach","isElement","nodeElement","getElementFromNode","attributes","getAttributes","element","xmpObject","parseNodeAttributesAsTags","parseNodeChildrenAsTags","isTagAttribute","getLocalName","getDescription","isNamespaceDefinition","getDescriptionOfArray","getDescriptionOfObject","item","descriptions","getClearTextKey","parseNodeAsTag","hasNestedSimpleRdfDescription","parseNodeAsSimpleRdfDescription","hasNestedStructureRdfDescription","parseNodeAsStructureRdfDescription","isCompactStructure","parseNodeAsCompactStructure","parseNodeAsArray","parseNodeAsSimpleValue","parseNodeAttributes","parseNodeChildrenAsAttributes","parseRdfValue","getURIValue","getArrayChild","items","parseArrayValue","hasNestedArrayValue"],"mappings":"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","file":"dev-app-pages-demo-demo-module-es5.js","sourcesContent":["/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport default {\n    'LightSource': (value) => {\n        if (value === 1) {\n            return 'Daylight';\n        } else if (value === 2) {\n            return 'Fluorescent';\n        } else if (value === 3) {\n            return 'Tungsten (incandescent light)';\n        } else if (value === 4) {\n            return 'Flash';\n        } else if (value === 9) {\n            return 'Fine weather';\n        } else if (value === 10) {\n            return 'Cloudy weather';\n        } else if (value === 11) {\n            return 'Shade';\n        } else if (value === 12) {\n            return 'Daylight fluorescent (D 5700 – 7100K)';\n        } else if (value === 13) {\n            return 'Day white fluorescent (N 4600 – 5400K)';\n        } else if (value === 14) {\n            return 'Cool white fluorescent (W 3900 – 4500K)';\n        } else if (value === 15) {\n            return 'White fluorescent (WW 3200 – 3700K)';\n        } else if (value === 17) {\n            return 'Standard light A';\n        } else if (value === 18) {\n            return 'Standard light B';\n        } else if (value === 19) {\n            return 'Standard light C';\n        } else if (value === 20) {\n            return 'D55';\n        } else if (value === 21) {\n            return 'D65';\n        } else if (value === 22) {\n            return 'D75';\n        } else if (value === 23) {\n            return 'D50';\n        } else if (value === 24) {\n            return 'ISO studio tungsten';\n        } else if (value === 255) {\n            return 'Other light source';\n        }\n        return 'Unknown';\n    }\n};\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getEncodedString, getCalculatedGpsValue} from './tag-names-utils.js';\n\nexport default {\n    0x0000: {\n        'name': 'GPSVersionID',\n        'description': (value) => {\n            if (value[0] === 2 && value[1] === 2 && value[2] === 0 && value[3] === 0) {\n                return 'Version 2.2';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0001: {\n        'name': 'GPSLatitudeRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'N') {\n                return 'North latitude';\n            } else if (ref === 'S') {\n                return 'South latitude';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0002: {\n        'name': 'GPSLatitude',\n        'description': getCalculatedGpsValue\n    },\n    0x0003: {\n        'name': 'GPSLongitudeRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'E') {\n                return 'East longitude';\n            } else if (ref === 'W') {\n                return 'West longitude';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0004: {\n        'name': 'GPSLongitude',\n        'description': getCalculatedGpsValue\n    },\n    0x0005: {\n        'name': 'GPSAltitudeRef',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Sea level';\n            } else if (value === 1) {\n                return 'Sea level reference (negative value)';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0006: {\n        'name': 'GPSAltitude',\n        'description': (value) => {\n            return (value[0] / value[1]) + ' m';\n        }\n    },\n    0x0007: {\n        'name': 'GPSTimeStamp',\n        'description': (values) => {\n            return values.map(([numerator, denominator]) => {\n                const num = numerator / denominator;\n                if (/^\\d(\\.|$)/.test(`${num}`)) {\n                    return `0${num}`;\n                }\n                return num;\n            }).join(':');\n        }\n    },\n    0x0008: 'GPSSatellites',\n    0x0009: {\n        'name': 'GPSStatus',\n        'description': (value) => {\n            const status = value.join('');\n            if (status === 'A') {\n                return 'Measurement in progress';\n            } else if (status === 'V') {\n                return 'Measurement Interoperability';\n            }\n            return 'Unknown';\n        }\n    },\n    0x000a: {\n        'name': 'GPSMeasureMode',\n        'description': (value) => {\n            const mode = value.join('');\n            if (mode === '2') {\n                return '2-dimensional measurement';\n            } else if (mode === '3') {\n                return '3-dimensional measurement';\n            }\n            return 'Unknown';\n        }\n    },\n    0x000b: 'GPSDOP',\n    0x000c: {\n        'name': 'GPSSpeedRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'K') {\n                return 'Kilometers per hour';\n            } else if (ref === 'M') {\n                return 'Miles per hour';\n            } else if (ref === 'N') {\n                return 'Knots';\n            }\n            return 'Unknown';\n        }\n    },\n    0x000d: 'GPSSpeed',\n    0x000e: {\n        'name': 'GPSTrackRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'T') {\n                return 'True direction';\n            } else if (ref === 'M') {\n                return 'Magnetic direction';\n            }\n            return 'Unknown';\n        }\n    },\n    0x000f: 'GPSTrack',\n    0x0010: {\n        'name': 'GPSImgDirectionRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'T') {\n                return 'True direction';\n            } else if (ref === 'M') {\n                return 'Magnetic direction';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0011: 'GPSImgDirection',\n    0x0012: 'GPSMapDatum',\n    0x0013: {\n        'name': 'GPSDestLatitudeRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'N') {\n                return 'North latitude';\n            } else if (ref === 'S') {\n                return 'South latitude';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0014: {\n        'name': 'GPSDestLatitude',\n        'description': (value) => {\n            return (value[0][0] / value[0][1]) + (value[1][0] / value[1][1]) / 60 + (value[2][0] / value[2][1]) / 3600;\n        }\n    },\n    0x0015: {\n        'name': 'GPSDestLongitudeRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'E') {\n                return 'East longitude';\n            } else if (ref === 'W') {\n                return 'West longitude';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0016: {\n        'name': 'GPSDestLongitude',\n        'description': (value) => {\n            return (value[0][0] / value[0][1]) + (value[1][0] / value[1][1]) / 60 + (value[2][0] / value[2][1]) / 3600;\n        }\n    },\n    0x0017: {\n        'name': 'GPSDestBearingRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'T') {\n                return 'True direction';\n            } else if (ref === 'M') {\n                return 'Magnetic direction';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0018: 'GPSDestBearing',\n    0x0019: {\n        'name': 'GPSDestDistanceRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'K') {\n                return 'Kilometers';\n            } else if (ref === 'M') {\n                return 'Miles';\n            } else if (ref === 'N') {\n                return 'Knots';\n            }\n            return 'Unknown';\n        }\n    },\n    0x001a: 'GPSDestDistance',\n    0x001b: {\n        'name': 'GPSProcessingMethod',\n        'description': getEncodedString\n    },\n    0x001c: {\n        'name': 'GPSAreaInformation',\n        'description': getEncodedString\n    },\n    0x001d: 'GPSDateStamp',\n    0x001e: {\n        'name': 'GPSDifferential',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Measurement without differential correction';\n            } else if (value === 1) {\n                return 'Differential correction applied';\n            }\n            return 'Unknown';\n        }\n    },\n    0x001f: 'GPSHPositioningError'\n};\n","/**\n * ExifReader\n * http://github.com/mattiasw/exifreader\n * Copyright (C) 2011-2020  Mattias Wallander <mattias@wallander.eu>\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\n\nimport {objectAssign} from './utils.js';\nimport DataViewWrapper from './dataview.js';\nimport Constants from './constants.js';\nimport {getStringValueFromArray} from './utils.js';\nimport {getCalculatedGpsValue} from './tag-names-utils.js';\nimport ImageHeader from './image-header.js';\nimport Tags from './tags.js';\nimport FileTags from './file-tags.js';\nimport IptcTags from './iptc-tags.js';\nimport XmpTags from './xmp-tags.js';\nimport IccTags from './icc-tags.js';\nimport PngFileTags from './png-file-tags.js';\nimport Thumbnail from './thumbnail.js';\nimport exifErrors from './errors.js';\n\nexport default {\n    load,\n    loadView,\n    errors: exifErrors,\n};\n\nexport const errors = exifErrors;\n\nexport function load(data, options = {expanded: false}) {\n    if (isNodeBuffer(data)) {\n        // File data read in Node can share the underlying buffer with other\n        // data. Therefore it's safest to get a new one to avoid weird bugs.\n        data = (new Uint8Array(data)).buffer;\n    }\n    return loadView(getDataView(data), options);\n}\n\nfunction isNodeBuffer(data) {\n    try {\n        return Buffer.isBuffer(data); // eslint-disable-line no-undef\n    } catch (error) {\n        return false;\n    }\n}\n\nfunction getDataView(data) {\n    try {\n        return new DataView(data);\n    } catch (error) {\n        return new DataViewWrapper(data);\n    }\n}\n\nexport function loadView(dataView, options = {expanded: false}) {\n    let foundMetaData = false;\n    let tags = {};\n\n    const {fileDataOffset, tiffHeaderOffset, iptcDataOffset, xmpChunks, iccChunks, pngHeaderOffset} = ImageHeader.parseAppMarkers(dataView);\n\n    if (Constants.USE_JPEG && Constants.USE_FILE && hasFileData(fileDataOffset)) {\n        foundMetaData = true;\n        const readTags = FileTags.read(dataView, fileDataOffset);\n        if (options.expanded) {\n            tags.file = readTags;\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n    }\n\n    if (Constants.USE_EXIF && hasExifData(tiffHeaderOffset)) {\n        foundMetaData = true;\n        const readTags = Tags.read(dataView, tiffHeaderOffset);\n        if (readTags.Thumbnail) {\n            tags.Thumbnail = readTags.Thumbnail;\n            delete readTags.Thumbnail;\n        }\n\n        if (options.expanded) {\n            tags.exif = readTags;\n            addGpsGroup(tags);\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n\n        if (Constants.USE_TIFF && Constants.USE_IPTC && readTags['IPTC-NAA'] && !hasIptcData(iptcDataOffset)) {\n            const readIptcTags = IptcTags.read(readTags['IPTC-NAA'].value, 0);\n            if (options.expanded) {\n                tags.iptc = readIptcTags;\n            } else {\n                tags = objectAssign({}, tags, readIptcTags);\n            }\n        }\n\n        if (Constants.USE_TIFF && Constants.USE_XMP && readTags['ApplicationNotes'] && !hasXmpData(xmpChunks)) {\n            const readXmpTags = XmpTags.read(getStringValueFromArray(readTags['ApplicationNotes'].value));\n            if (options.expanded) {\n                tags.xmp = readXmpTags;\n            } else {\n                tags = objectAssign({}, tags, readXmpTags);\n            }\n        }\n\n        if (Constants.USE_TIFF && Constants.USE_ICC && readTags['ICC_Profile'] && !hasIccData(iccChunks)) {\n            const readIccTags = IccTags.read(\n                readTags['ICC_Profile'].value,\n                [{\n                    offset: 0,\n                    length: readTags['ICC_Profile'].value.length,\n                    chunkNumber: 1,\n                    chunksTotal: 1\n                }]\n            );\n            if (options.expanded) {\n                tags.icc = readIccTags;\n            } else {\n                tags = objectAssign({}, tags, readIccTags);\n            }\n        }\n    }\n\n    if (Constants.USE_JPEG && Constants.USE_IPTC && hasIptcData(iptcDataOffset)) {\n        foundMetaData = true;\n        const readTags = IptcTags.read(dataView, iptcDataOffset);\n        if (options.expanded) {\n            tags.iptc = readTags;\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n    }\n\n    if (Constants.USE_XMP && hasXmpData(xmpChunks)) {\n        foundMetaData = true;\n        const readTags = XmpTags.read(dataView, xmpChunks);\n        if (options.expanded) {\n            tags.xmp = readTags;\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n    }\n\n    if ((Constants.USE_JPEG || Constants.USE_WEBP) && Constants.USE_ICC && hasIccData(iccChunks)) {\n        foundMetaData = true;\n        const readTags = IccTags.read(dataView, iccChunks);\n        if (options.expanded) {\n            tags.icc = readTags;\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n    }\n\n    if (Constants.USE_PNG && Constants.USE_PNG_FILE && hasPngFileData(pngHeaderOffset)) {\n        foundMetaData = true;\n        const readTags = PngFileTags.read(dataView, pngHeaderOffset);\n        if (options.expanded) {\n            tags.pngFile = readTags;\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n    }\n\n    const thumbnail = (Constants.USE_JPEG || Constants.USE_WEBP)\n        && Constants.USE_EXIF\n        && Constants.USE_THUMBNAIL\n        && Thumbnail.get(dataView, tags.Thumbnail, tiffHeaderOffset);\n    if (thumbnail) {\n        foundMetaData = true;\n        tags.Thumbnail = thumbnail;\n    } else {\n        delete tags.Thumbnail;\n    }\n\n    if (!foundMetaData) {\n        throw new exifErrors.MetadataMissingError();\n    }\n\n    return tags;\n}\n\nfunction hasFileData(fileDataOffset) {\n    return fileDataOffset !== undefined;\n}\n\nfunction hasExifData(tiffHeaderOffset) {\n    return tiffHeaderOffset !== undefined;\n}\n\nfunction addGpsGroup(tags) {\n    if (tags.exif) {\n        if (tags.exif.GPSLatitude && tags.exif.GPSLatitudeRef) {\n            tags.gps = tags.gps || {};\n            tags.gps.Latitude = getCalculatedGpsValue(tags.exif.GPSLatitude.value);\n            if (tags.exif.GPSLatitudeRef.value.join('') === 'S') {\n                tags.gps.Latitude = -tags.gps.Latitude;\n            }\n        }\n\n        if (tags.exif.GPSLongitude && tags.exif.GPSLongitudeRef) {\n            tags.gps = tags.gps || {};\n            tags.gps.Longitude = getCalculatedGpsValue(tags.exif.GPSLongitude.value);\n            if (tags.exif.GPSLongitudeRef.value.join('') === 'W') {\n                tags.gps.Longitude = -tags.gps.Longitude;\n            }\n        }\n\n        if (tags.exif.GPSAltitude && tags.exif.GPSAltitudeRef) {\n            tags.gps = tags.gps || {};\n            tags.gps.Altitude = tags.exif.GPSAltitude.value[0] / tags.exif.GPSAltitude.value[1];\n            if (tags.exif.GPSAltitudeRef.value === 1) {\n                tags.gps.Altitude = -tags.gps.Altitude;\n            }\n        }\n    }\n}\n\nfunction hasIptcData(iptcDataOffset) {\n    return iptcDataOffset !== undefined;\n}\n\nfunction hasXmpData(xmpChunks) {\n    return Array.isArray(xmpChunks) && xmpChunks.length > 0;\n}\n\nfunction hasIccData(iccDataOffsets) {\n    return Array.isArray(iccDataOffsets) && iccDataOffsets.length > 0;\n}\n\nfunction hasPngFileData(pngFileDataOffset) {\n    return pngFileDataOffset !== undefined;\n}\n","import { Buffer } from 'buffer';\n\nexport async function toBufferByBlob(blob: Blob): Promise<ArrayBuffer> {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => {\n      reader.onload = null;\n      reader.onerror = null;\n      try {\n        const buffer = Buffer.from(reader.result);\n        resolve(buffer);\n      } catch (err) {\n        reject(err);\n      }\n    };\n    reader.onerror = (evt: any) => {\n      reader.onload = null;\n      reader.onerror = null;\n      reject(evt.error);\n    };\n    reader.readAsArrayBuffer(blob);\n  });\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringFromDataView} from './utils.js';\nimport Constants from './constants.js';\n\nexport default {\n    isJpegFile,\n    findJpegOffsets\n};\n\nconst MIN_JPEG_DATA_BUFFER_LENGTH = 2;\nconst JPEG_ID = 0xffd8;\nconst JPEG_ID_SIZE = 2;\nconst APP_ID_OFFSET = 4;\nconst APP_MARKER_SIZE = 2;\nconst TIFF_HEADER_OFFSET = 10; // From start of APP1 marker.\nconst IPTC_DATA_OFFSET = 18; // From start of APP13 marker.\nconst XMP_DATA_OFFSET = 33; // From start of APP1 marker.\nconst XMP_EXTENDED_DATA_OFFSET = 79; // From start of APP1 marker including GUID, total length, and offset.\nconst APP2_ICC_DATA_OFFSET = 18; // From start of APP2 marker including marker and chunk/chunk total numbers.\n\nconst APP2_ICC_IDENTIFIER = 'ICC_PROFILE\\0';\nconst ICC_CHUNK_NUMBER_OFFSET = APP_ID_OFFSET + APP2_ICC_IDENTIFIER.length;\nconst ICC_TOTAL_CHUNKS_OFFSET = ICC_CHUNK_NUMBER_OFFSET + 1;\n\nconst SOF0_MARKER = 0xffc0;\nconst SOF2_MARKER = 0xffc2;\nconst DHT_MARKER = 0xffc4;\nconst DQT_MARKER = 0xffdb;\nconst DRI_MARKER = 0xffdd;\nconst SOS_MARKER = 0xffda;\n\nconst APP0_MARKER = 0xffe0;\nconst APP1_MARKER = 0xffe1;\nconst APP2_MARKER = 0xffe2;\nconst APP13_MARKER = 0xffed;\nconst APP15_MARKER = 0xffef;\nconst COMMENT_MARKER = 0xfffe;\n\nconst APP1_EXIF_IDENTIFIER = 'Exif';\nconst APP1_XMP_IDENTIFIER = 'http://ns.adobe.com/xap/1.0/\\x00';\nconst APP1_XMP_EXTENDED_IDENTIFIER = 'http://ns.adobe.com/xmp/extension/\\x00';\nconst APP13_IPTC_IDENTIFIER = 'Photoshop 3.0';\n\nfunction isJpegFile(dataView) {\n    return (dataView.byteLength >= MIN_JPEG_DATA_BUFFER_LENGTH) && (dataView.getUint16(0) === JPEG_ID);\n}\n\nfunction findJpegOffsets(dataView) {\n    let appMarkerPosition = JPEG_ID_SIZE;\n    let fieldLength;\n    let sof0DataOffset;\n    let sof2DataOffset;\n    let tiffHeaderOffset;\n    let iptcDataOffset;\n    let xmpChunks;\n    let iccChunks;\n\n    while (appMarkerPosition + APP_ID_OFFSET + 5 <= dataView.byteLength) {\n        if (Constants.USE_FILE && isSOF0Marker(dataView, appMarkerPosition)) {\n            sof0DataOffset = appMarkerPosition + APP_MARKER_SIZE;\n        } else if (Constants.USE_FILE && isSOF2Marker(dataView, appMarkerPosition)) {\n            sof2DataOffset = appMarkerPosition + APP_MARKER_SIZE;\n        } else if (Constants.USE_EXIF && isApp1ExifMarker(dataView, appMarkerPosition)) {\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n            tiffHeaderOffset = appMarkerPosition + TIFF_HEADER_OFFSET;\n        } else if (Constants.USE_XMP && isApp1XmpMarker(dataView, appMarkerPosition)) {\n            if (!xmpChunks) {\n                xmpChunks = [];\n            }\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n            xmpChunks.push(getXmpChunkDetails(appMarkerPosition, fieldLength));\n        } else if (Constants.USE_XMP && isApp1ExtendedXmpMarker(dataView, appMarkerPosition)) {\n            if (!xmpChunks) {\n                xmpChunks = [];\n            }\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n            xmpChunks.push(getExtendedXmpChunkDetails(appMarkerPosition, fieldLength));\n        } else if (Constants.USE_IPTC && isApp13PhotoshopMarker(dataView, appMarkerPosition)) {\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n            iptcDataOffset = appMarkerPosition + IPTC_DATA_OFFSET;\n        } else if (Constants.USE_ICC && isApp2ICCMarker(dataView, appMarkerPosition)) {\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n            const iccDataOffset = appMarkerPosition + APP2_ICC_DATA_OFFSET;\n            const iccDataLength = fieldLength - (APP2_ICC_DATA_OFFSET - APP_MARKER_SIZE);\n\n            const iccChunkNumber = dataView.getUint8(appMarkerPosition + ICC_CHUNK_NUMBER_OFFSET);\n            const iccChunksTotal = dataView.getUint8(appMarkerPosition + ICC_TOTAL_CHUNKS_OFFSET);\n            if (!iccChunks) {\n                iccChunks = [];\n            }\n            iccChunks.push({offset: iccDataOffset, length: iccDataLength, chunkNumber: iccChunkNumber, chunksTotal: iccChunksTotal});\n        } else if (isAppMarker(dataView, appMarkerPosition)) {\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n        } else {\n            break;\n        }\n        appMarkerPosition += APP_MARKER_SIZE + fieldLength;\n    }\n\n    return {\n        hasAppMarkers: appMarkerPosition > JPEG_ID_SIZE,\n        fileDataOffset: sof0DataOffset || sof2DataOffset,\n        tiffHeaderOffset,\n        iptcDataOffset,\n        xmpChunks,\n        iccChunks\n    };\n}\n\nfunction isSOF0Marker(dataView, appMarkerPosition) {\n    return (dataView.getUint16(appMarkerPosition) === SOF0_MARKER);\n}\n\nfunction isSOF2Marker(dataView, appMarkerPosition) {\n    return (dataView.getUint16(appMarkerPosition) === SOF2_MARKER);\n}\n\nfunction isApp2ICCMarker(dataView, appMarkerPosition) {\n    const markerIdLength = APP2_ICC_IDENTIFIER.length;\n\n    return (dataView.getUint16(appMarkerPosition) === APP2_MARKER)\n        && (getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP2_ICC_IDENTIFIER);\n}\n\nfunction isApp1ExifMarker(dataView, appMarkerPosition) {\n    const markerIdLength = APP1_EXIF_IDENTIFIER.length;\n\n    return (dataView.getUint16(appMarkerPosition) === APP1_MARKER)\n        && (getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP1_EXIF_IDENTIFIER)\n        && (dataView.getUint8(appMarkerPosition + APP_ID_OFFSET + markerIdLength) === 0x00);\n}\n\nfunction isApp1XmpMarker(dataView, appMarkerPosition) {\n    return (dataView.getUint16(appMarkerPosition) === APP1_MARKER)\n        && isXmpIdentifier(dataView, appMarkerPosition);\n}\n\nfunction isXmpIdentifier(dataView, appMarkerPosition) {\n    const markerIdLength = APP1_XMP_IDENTIFIER.length;\n    return getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP1_XMP_IDENTIFIER;\n}\n\nfunction isApp1ExtendedXmpMarker(dataView, appMarkerPosition) {\n    return (dataView.getUint16(appMarkerPosition) === APP1_MARKER)\n        && isExtendedXmpIdentifier(dataView, appMarkerPosition);\n}\n\nfunction isExtendedXmpIdentifier(dataView, appMarkerPosition) {\n    const markerIdLength = APP1_XMP_EXTENDED_IDENTIFIER.length;\n    return getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP1_XMP_EXTENDED_IDENTIFIER;\n}\n\nfunction getXmpChunkDetails(appMarkerPosition, fieldLength) {\n    return {\n        dataOffset: appMarkerPosition + XMP_DATA_OFFSET,\n        length: fieldLength - (XMP_DATA_OFFSET - APP_MARKER_SIZE)\n    };\n}\n\nfunction getExtendedXmpChunkDetails(appMarkerPosition, fieldLength) {\n    return {\n        dataOffset: appMarkerPosition + XMP_EXTENDED_DATA_OFFSET,\n        length: fieldLength - (XMP_EXTENDED_DATA_OFFSET - APP_MARKER_SIZE)\n    };\n}\n\nfunction isApp13PhotoshopMarker(dataView, appMarkerPosition) {\n    const markerIdLength = APP13_IPTC_IDENTIFIER.length;\n\n    return (dataView.getUint16(appMarkerPosition) === APP13_MARKER)\n        && (getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP13_IPTC_IDENTIFIER)\n        && (dataView.getUint8(appMarkerPosition + APP_ID_OFFSET + markerIdLength) === 0x00);\n}\n\nfunction isAppMarker(dataView, appMarkerPosition) {\n    const appMarker = dataView.getUint16(appMarkerPosition);\n    return ((appMarker >= APP0_MARKER) && (appMarker <= APP15_MARKER))\n        || (appMarker === COMMENT_MARKER)\n        || (appMarker === SOF0_MARKER)\n        || (appMarker === SOF2_MARKER)\n        || (appMarker === DHT_MARKER)\n        || (appMarker === DQT_MARKER)\n        || (appMarker === DRI_MARKER)\n        || (appMarker === SOS_MARKER);\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RoutingModule } from '~/dev/app/pages/demo/demo.routing';\nimport { SharedModule } from '~/dev/app/shared/shared.module';\nimport { ExampleCommonModule } from '~/dev/app/modules/example/common/common.module';\nimport { ReadStreamComponent } from './read-stream/read-stream.component';\nimport { BlobImageComponent } from './blob-image/blob-image.component';\n\n@NgModule({\n  imports: [CommonModule, RoutingModule, SharedModule, ExampleCommonModule],\n  declarations: [ReadStreamComponent, BlobImageComponent],\n})\nexport class PageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ReadStreamComponent } from './read-stream/read-stream.component';\nimport { BlobImageComponent } from './blob-image/blob-image.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    children: [\n      {\n        path: 'read-stream',\n        component: ReadStreamComponent,\n      },\n      {\n        path: 'blob-image',\n        component: BlobImageComponent,\n      },\n      {\n        path: '**',\n        component: ReadStreamComponent,\n      },\n    ],\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RoutingModule {}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport Types from './types.js';\n\nexport default {\n    read\n};\n\nfunction read(dataView, fileDataOffset) {\n    const length = getLength(dataView, fileDataOffset);\n    const numberOfColorComponents = getNumberOfColorComponents(dataView, fileDataOffset, length);\n    return {\n        'Bits Per Sample': getDataPrecision(dataView, fileDataOffset, length),\n        'Image Height': getImageHeight(dataView, fileDataOffset, length),\n        'Image Width': getImageWidth(dataView, fileDataOffset, length),\n        'Color Components': numberOfColorComponents,\n        'Subsampling': numberOfColorComponents && getSubsampling(dataView, fileDataOffset, numberOfColorComponents.value, length)\n    };\n}\n\nfunction getLength(dataView, fileDataOffset) {\n    return Types.getShortAt(dataView, fileDataOffset);\n}\n\nfunction getDataPrecision(dataView, fileDataOffset, length) {\n    const OFFSET = 2;\n    const SIZE = 1;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: '' + value\n    };\n}\n\nfunction getImageHeight(dataView, fileDataOffset, length) {\n    const OFFSET = 3;\n    const SIZE = 2;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const value = Types.getShortAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: `${value}px`\n    };\n}\n\nfunction getImageWidth(dataView, fileDataOffset, length) {\n    const OFFSET = 5;\n    const SIZE = 2;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const value = Types.getShortAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: `${value}px`\n    };\n}\n\nfunction getNumberOfColorComponents(dataView, fileDataOffset, length) {\n    const OFFSET = 7;\n    const SIZE = 1;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: '' + value\n    };\n}\n\nfunction getSubsampling(dataView, fileDataOffset, numberOfColorComponents, length) {\n    const OFFSET = 8;\n    const SIZE = 3 * numberOfColorComponents;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const components = [];\n\n    for (let i = 0; i < numberOfColorComponents; i++) {\n        const componentOffset = fileDataOffset + OFFSET + i * 3;\n        components.push([\n            Types.getByteAt(dataView, componentOffset),\n            Types.getByteAt(dataView, componentOffset + 1),\n            Types.getByteAt(dataView, componentOffset + 2)\n        ]);\n    }\n\n    return {\n        value: components,\n        description: components.length > 1 ? getComponentIds(components) + getSamplingType(components) : ''\n    };\n}\n\nfunction getComponentIds(components) {\n    const ids = {\n        0x01: 'Y',\n        0x02: 'Cb',\n        0x03: 'Cr',\n        0x04: 'I',\n        0x05: 'Q',\n    };\n\n    return components.map((compontent) => ids[compontent[0]]).join('');\n}\n\nfunction getSamplingType(components) {\n    const types = {\n        0x11: '4:4:4 (1 1)',\n        0x12: '4:4:0 (1 2)',\n        0x14: '4:4:1 (1 4)',\n        0x21: '4:2:2 (2 1)',\n        0x22: '4:2:0 (2 2)',\n        0x24: '4:2:1 (2 4)',\n        0x41: '4:1:1 (4 1)',\n        0x42: '4:1:0 (4 2)'\n    };\n\n    if (components.length === 0 || components[0][1] === undefined || types[components[0][1]] === undefined) {\n        return '';\n    }\n\n    return types[components[0][1]];\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringValue, getEncodedString} from './tag-names-utils.js';\nimport TagNamesCommon from './tag-names-common.js';\n\nexport default {\n    0x829a: {\n        'name': 'ExposureTime',\n        'description': (value) => {\n            if (value[0] !== 0) {\n                return `1/${Math.round(value[1] / value[0])}`;\n            }\n            return `0/${value[1]}`;\n        }\n    },\n    0x829d: {\n        'name': 'FNumber',\n        'description': (value) => `f/${value[0] / value[1]}`\n    },\n    0x8822: {\n        'name': 'ExposureProgram',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Undefined';\n            } else if (value === 1) {\n                return 'Manual';\n            } else if (value === 2) {\n                return 'Normal program';\n            } else if (value === 3) {\n                return 'Aperture priority';\n            } else if (value === 4) {\n                return 'Shutter priority';\n            } else if (value === 5) {\n                return 'Creative program';\n            } else if (value === 6) {\n                return 'Action program';\n            } else if (value === 7) {\n                return 'Portrait mode';\n            } else if (value === 8) {\n                return 'Landscape mode';\n            } else if (value === 9) {\n                return 'Bulb';\n            }\n            return 'Unknown';\n        }\n    },\n    0x8824: 'SpectralSensitivity',\n    0x8827: 'ISOSpeedRatings',\n    0x8828: {\n        'name': 'OECF',\n        'description': () => '[Raw OECF table data]'\n    },\n    0x882a: 'TimeZoneOffset',\n    0x882b: 'SelfTimerMode',\n    0x8830: {\n        name: 'SensitivityType',\n        description: (value) => ({\n            1: 'Standard Output Sensitivity',\n            2: 'Recommended Exposure Index',\n            3: 'ISO Speed',\n            4: 'Standard Output Sensitivity and Recommended Exposure Index',\n            5: 'Standard Output Sensitivity and ISO Speed',\n            6: 'Recommended Exposure Index and ISO Speed',\n            7: 'Standard Output Sensitivity, Recommended Exposure Index and ISO Speed'\n        })[value] || 'Unknown'\n    },\n    0x8831: 'StandardOutputSensitivity',\n    0x8832: 'RecommendedExposureIndex',\n    0x8833: 'ISOSpeed',\n    0x8834: 'ISOSpeedLatitudeyyy',\n    0x8835: 'ISOSpeedLatitudezzz',\n    0x9000: {\n        'name': 'ExifVersion',\n        'description': (value) => getStringValue(value)\n    },\n    0x9003: 'DateTimeOriginal',\n    0x9004: 'DateTimeDigitized',\n    0x9009: 'GooglePlusUploadCode',\n    0x9010: 'OffsetTime',\n    0x9011: 'OffsetTimeOriginal',\n    0x9012: 'OffsetTimeDigitized',\n    0x9101: {\n        'name': 'ComponentsConfiguration',\n        'description': (value) => {\n            return value.map((character) => {\n                if (character === 0x31) {\n                    return 'Y';\n                } else if (character === 0x32) {\n                    return 'Cb';\n                } else if (character === 0x33) {\n                    return 'Cr';\n                } else if (character === 0x34) {\n                    return 'R';\n                } else if (character === 0x35) {\n                    return 'G';\n                } else if (character === 0x36) {\n                    return 'B';\n                }\n            }).join('');\n        }\n    },\n    0x9102: 'CompressedBitsPerPixel',\n    0x9201: {\n        'name': 'ShutterSpeedValue',\n        'description': (value) => {\n            return `1/${Math.round(Math.pow(2, value[0] / value[1]))}`;\n        }\n    },\n    0x9202: {\n        'name': 'ApertureValue',\n        'description': (value) => {\n            return Math.pow(Math.sqrt(2), value[0] / value[1]).toFixed(2);\n        }\n    },\n    0x9203: 'BrightnessValue',\n    0x9204: 'ExposureBiasValue',\n    0x9205: {\n        'name': 'MaxApertureValue',\n        'description': (value) => {\n            return Math.pow(Math.sqrt(2), value[0] / value[1]).toFixed(2);\n        }\n    },\n    0x9206: {\n        'name': 'SubjectDistance',\n        'description': (value) => (value[0] / value[1]) + ' m'\n    },\n    0x9207: {\n        'name': 'MeteringMode',\n        'description': (value) => {\n            if (value === 1) {\n                return 'Average';\n            } else if (value === 2) {\n                return 'CenterWeightedAverage';\n            } else if (value === 3) {\n                return 'Spot';\n            } else if (value === 4) {\n                return 'MultiSpot';\n            } else if (value === 5) {\n                return 'Pattern';\n            } else if (value === 6) {\n                return 'Partial';\n            } else if (value === 255) {\n                return 'Other';\n            }\n            return 'Unknown';\n        }\n    },\n    0x9208: {\n        'name': 'LightSource',\n        description: TagNamesCommon['LightSource']\n    },\n    0x9209: {\n        'name': 'Flash',\n        'description': (value) => {\n            if (value === 0x00) {\n                return 'Flash did not fire';\n            } else if (value === 0x01) {\n                return 'Flash fired';\n            } else if (value === 0x05) {\n                return 'Strobe return light not detected';\n            } else if (value === 0x07) {\n                return 'Strobe return light detected';\n            } else if (value === 0x09) {\n                return 'Flash fired, compulsory flash mode';\n            } else if (value === 0x0d) {\n                return 'Flash fired, compulsory flash mode, return light not detected';\n            } else if (value === 0x0f) {\n                return 'Flash fired, compulsory flash mode, return light detected';\n            } else if (value === 0x10) {\n                return 'Flash did not fire, compulsory flash mode';\n            } else if (value === 0x18) {\n                return 'Flash did not fire, auto mode';\n            } else if (value === 0x19) {\n                return 'Flash fired, auto mode';\n            } else if (value === 0x1d) {\n                return 'Flash fired, auto mode, return light not detected';\n            } else if (value === 0x1f) {\n                return 'Flash fired, auto mode, return light detected';\n            } else if (value === 0x20) {\n                return 'No flash function';\n            } else if (value === 0x41) {\n                return 'Flash fired, red-eye reduction mode';\n            } else if (value === 0x45) {\n                return 'Flash fired, red-eye reduction mode, return light not detected';\n            } else if (value === 0x47) {\n                return 'Flash fired, red-eye reduction mode, return light detected';\n            } else if (value === 0x49) {\n                return 'Flash fired, compulsory flash mode, red-eye reduction mode';\n            } else if (value === 0x4d) {\n                return 'Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected';\n            } else if (value === 0x4f) {\n                return 'Flash fired, compulsory flash mode, red-eye reduction mode, return light detected';\n            } else if (value === 0x59) {\n                return 'Flash fired, auto mode, red-eye reduction mode';\n            } else if (value === 0x5d) {\n                return 'Flash fired, auto mode, return light not detected, red-eye reduction mode';\n            } else if (value === 0x5f) {\n                return 'Flash fired, auto mode, return light detected, red-eye reduction mode';\n            }\n            return 'Unknown';\n        }\n    },\n    0x920a: {\n        'name': 'FocalLength',\n        'description': (value) => (value[0] / value[1]) + ' mm'\n    },\n    0x9211: 'ImageNumber',\n    0x9212: {\n        name: 'SecurityClassification',\n        description: (value) => ({\n            'C': 'Confidential',\n            'R': 'Restricted',\n            'S': 'Secret',\n            'T': 'Top Secret',\n            'U': 'Unclassified'\n        })[value] || 'Unknown'\n    },\n    0x9213: 'ImageHistory',\n    0x9214: {\n        'name': 'SubjectArea',\n        'description': (value) => {\n            if (value.length === 2) {\n                return `Location; X: ${value[0]}, Y: ${value[1]}`;\n            } else if (value.length === 3) {\n                return `Circle; X: ${value[0]}, Y: ${value[1]}, diameter: ${value[2]}`;\n            } else if (value.length === 4) {\n                return `Rectangle; X: ${value[0]}, Y: ${value[1]}, width: ${value[2]}, height: ${value[3]}`;\n            }\n            return 'Unknown';\n        }\n    },\n    0x927c: {\n        'name': 'MakerNote',\n        'description': () => '[Raw maker note data]'\n    },\n    0x9286: {\n        'name': 'UserComment',\n        'description': getEncodedString\n    },\n    0x9290: 'SubSecTime',\n    0x9291: 'SubSecTimeOriginal',\n    0x9292: 'SubSecTimeDigitized',\n    0x9400: {\n        'name': 'AmbientTemperature',\n        'description': (value) => (value[0] / value[1]) + ' °C'\n    },\n    0x9401: {\n        'name': 'Humidity',\n        'description': (value) => (value[0] / value[1]) + ' %'\n    },\n    0x9402: {\n        'name': 'Pressure',\n        'description': (value) => (value[0] / value[1]) + ' hPa'\n    },\n    0x9403: {\n        'name': 'WaterDepth',\n        'description': (value) => (value[0] / value[1]) + ' m'\n    },\n    0x9404: {\n        'name': 'Acceleration',\n        'description': (value) => (value[0] / value[1]) + ' mGal'\n    },\n    0x9405: {\n        'name': 'CameraElevationAngle',\n        'description': (value) => (value[0] / value[1]) + ' °'\n    },\n    0xa000: {\n        'name': 'FlashpixVersion',\n        'description': (value) => value.map((charCode) => String.fromCharCode(charCode)).join('')\n    },\n    0xa001: {\n        'name': 'ColorSpace',\n        'description': (value) => {\n            if (value === 1) {\n                return 'sRGB';\n            } else if (value === 0xffff) {\n                return 'Uncalibrated';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa002: 'PixelXDimension',\n    0xa003: 'PixelYDimension',\n    0xa004: 'RelatedSoundFile',\n    0xa005: 'Interoperability IFD Pointer',\n    0xa20b: 'FlashEnergy',\n    0xa20c: {\n        'name': 'SpatialFrequencyResponse',\n        'description': () => '[Raw SFR table data]'\n    },\n    0xa20e: 'FocalPlaneXResolution',\n    0xa20f: 'FocalPlaneYResolution',\n    0xa210: {\n        'name': 'FocalPlaneResolutionUnit',\n        'description': (value) => {\n            if (value === 2) {\n                return 'inches';\n            } else if (value === 3) {\n                return 'centimeters';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa214: {\n        'name': 'SubjectLocation',\n        'description': ([x, y]) => `X: ${x}, Y: ${y}`\n    },\n    0xa215: 'ExposureIndex',\n    0xa217: {\n        'name': 'SensingMethod',\n        'description': (value) => {\n            if (value === 1) {\n                return 'Undefined';\n            } else if (value === 2) {\n                return 'One-chip color area sensor';\n            } else if (value === 3) {\n                return 'Two-chip color area sensor';\n            } else if (value === 4) {\n                return 'Three-chip color area sensor';\n            } else if (value === 5) {\n                return 'Color sequential area sensor';\n            } else if (value === 7) {\n                return 'Trilinear sensor';\n            } else if (value === 8) {\n                return 'Color sequential linear sensor';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa300: {\n        'name': 'FileSource',\n        'description': (value) => {\n            if (value === 3) {\n                return 'DSC';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa301: {\n        'name': 'SceneType',\n        'description': (value) => {\n            if (value === 1) {\n                return 'A directly photographed image';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa302: {\n        'name': 'CFAPattern',\n        'description': () => '[Raw CFA pattern table data]'\n    },\n    0xa401: {\n        'name': 'CustomRendered',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Normal process';\n            } else if (value === 1) {\n                return 'Custom process';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa402: {\n        'name': 'ExposureMode',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Auto exposure';\n            } else if (value === 1) {\n                return 'Manual exposure';\n            } else if (value === 2) {\n                return 'Auto bracket';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa403: {\n        'name': 'WhiteBalance',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Auto white balance';\n            } else if (value === 1) {\n                return 'Manual white balance';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa404: {\n        'name': 'DigitalZoomRatio',\n        'description': (value) => {\n            if (value[0] === 0) {\n                return 'Digital zoom was not used';\n            }\n            return '' + (value[0] / value[1]);\n        }\n    },\n    0xa405: {\n        'name': 'FocalLengthIn35mmFilm',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Unknown';\n            }\n            return value;\n        }\n    },\n    0xa406: {\n        'name': 'SceneCaptureType',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Standard';\n            } else if (value === 1) {\n                return 'Landscape';\n            } else if (value === 2) {\n                return 'Portrait';\n            } else if (value === 3) {\n                return 'Night scene';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa407: {\n        'name': 'GainControl',\n        'description': (value) => {\n            if (value === 0) {\n                return 'None';\n            } else if (value === 1) {\n                return 'Low gain up';\n            } else if (value === 2) {\n                return 'High gain up';\n            } else if (value === 3) {\n                return 'Low gain down';\n            } else if (value === 4) {\n                return 'High gain down';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa408: {\n        'name': 'Contrast',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Normal';\n            } else if (value === 1) {\n                return 'Soft';\n            } else if (value === 2) {\n                return 'Hard';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa409: {\n        'name': 'Saturation',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Normal';\n            } else if (value === 1) {\n                return 'Low saturation';\n            } else if (value === 2) {\n                return 'High saturation';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa40a: {\n        'name': 'Sharpness',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Normal';\n            } else if (value === 1) {\n                return 'Soft';\n            } else if (value === 2) {\n                return 'Hard';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa40b: {\n        'name': 'DeviceSettingDescription',\n        'description': () => '[Raw device settings table data]'\n    },\n    0xa40c: {\n        'name': 'SubjectDistanceRange',\n        'description': (value) => {\n            if (value === 1) {\n                return 'Macro';\n            } else if (value === 2) {\n                return 'Close view';\n            } else if (value === 3) {\n                return 'Distant view';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa420: 'ImageUniqueID',\n    0xa430: 'CameraOwnerName',\n    0xa431: 'BodySerialNumber',\n    0xa432: {\n        'name': 'LensSpecification',\n        'description': (value) => {\n            const focalLengths = `${value[0][0] / value[0][1]}-${value[1][0] / value[1][1]} mm`;\n            if (value[3][1] === 0) {\n                return `${focalLengths} f/?`;\n            }\n            return `${focalLengths} f/${1 / ((value[2][1] / value[2][1]) / (value[3][0] / value[3][1]))}`;\n        }\n    },\n    0xa433: 'LensMake',\n    0xa434: 'LensModel',\n    0xa435: 'LensSerialNumber',\n    0xa460: {\n        name: 'CompositeImage',\n        description: (value) => ({\n            1: 'Not a Composite Image',\n            2: 'General Composite Image',\n            3: 'Composite Image Captured While Shooting',\n        })[value] || 'Unknown'\n    },\n    0xa461: 'SourceImageNumberOfCompositeImage',\n    0xa462: 'SourceExposureTimesOfCompositeImage',\n    0xa500: 'Gamma',\n    0xea1c: 'Padding',\n    0xea1d: 'OffsetSchema',\n    0xfde8: 'OwnerName',\n    0xfde9: 'SerialNumber',\n    0xfdea: 'Lens',\n    0xfe4c: 'RawFile',\n    0xfe4d: 'Converter',\n    0xfe4e: 'WhiteBalance',\n    0xfe51: 'Exposure',\n    0xfe52: 'Shadows',\n    0xfe53: 'Brightness',\n    0xfe54: 'Contrast',\n    0xfe55: 'Saturation',\n    0xfe56: 'Sharpness',\n    0xfe57: 'Smoothness',\n    0xfe58: 'MoireFilter'\n};\n","export default \"<div>\\n  <mat-form-field>\\n    <mat-label>chunk size</mat-label>\\n    <mat-select [(ngModel)]=\\\"testChunk\\\">\\n      <mat-option *ngFor=\\\"let chunk of optionChunks\\\" [value]=\\\"chunk.value\\\">{{\\n        chunk.label\\n      }}</mat-option>\\n    </mat-select>\\n  </mat-form-field>\\n  <mat-form-field>\\n    <mat-label>response type</mat-label>\\n    <mat-select [(ngModel)]=\\\"testResponseType\\\">\\n      <mat-option *ngFor=\\\"let chunk of optionResponseTypes\\\" [value]=\\\"chunk.value\\\">{{\\n        chunk.label\\n      }}</mat-option>\\n    </mat-select>\\n  </mat-form-field>\\n</div>\\n\\n<div>\\n  <input type=\\\"file\\\" (change)=\\\"onFileChange($event)\\\" />\\n</div>\\n\\n<hr class=\\\"partition\\\" />\\n\\n<div class=\\\"print-stack\\\">\\n  <div class=\\\"stack-opt\\\">\\n    <button mat-raised-button color=\\\"warn\\\" [disabled]=\\\"!reader\\\" (click)=\\\"onFileAbort($event)\\\">\\n      abort\\n    </button>\\n    <div class=\\\"spacer\\\"></div>\\n    <div class=\\\"stack-count\\\">read count: {{ changeStackCount }}</div>\\n  </div>\\n  <div class=\\\"stack-list\\\">\\n    <div *ngFor=\\\"let fileEvent of changeStack\\\" class=\\\"stack-item\\\">\\n      <div class=\\\"aside\\\">\\n        {{ fileEvent.type }}\\n      </div>\\n      <div *ngIf=\\\"fileEvent.state\\\" class=\\\"bside\\\">\\n        <span class=\\\"label\\\">\\n          <span class=\\\"dt\\\">readed</span>\\n          <span class=\\\"dd\\\">{{ fileEvent.state.readed }}</span>\\n        </span>\\n        <span class=\\\"label\\\">\\n          <span class=\\\"dt\\\">total</span>\\n          <span class=\\\"dd\\\">{{ fileEvent.state.total }}</span>\\n        </span>\\n        <span class=\\\"label\\\">\\n          <span class=\\\"dt\\\">percent</span>\\n          <span class=\\\"dd\\\">{{ (fileEvent.state.readed / fileEvent.state.total).toFixed(2) }}</span>\\n        </span>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\";","import * as ExifReader from 'exifreader';\nimport { toBufferByBlob } from '../utils/toBuffer';\nimport { ResizeType, ResizeConfig, ResizeResult, DrawBound } from './types';\n\ninterface ParseMaxSize {\n  maxWidth: number;\n  maxHeight: number;\n}\n\ninterface ParseMetadata {\n  sw: number;\n  sh: number;\n  orientation?: number;\n}\n\n/**\n * Blob 이미지 리사이즈 용\n * Blob -> Canvas&Image resize -> Blob.\n * @class BlobImageResize\n */\nexport class BlobImageResize {\n  /**\n   * @param {Blob} blob 변경할 원본 Blob\n   * @param {ResizeConfig} [config={}] 리사이징 옵션\n   */\n  constructor(blob: Blob, config: ResizeConfig = {}) {\n    this.blob = blob;\n    const {\n      expectWidth = 2000,\n      expectHeight = 2000,\n      quality = 0.9,\n      resizeType = ResizeType.SCALE,\n      expectContentType,\n      fillBgColor,\n      applyOrientation = false,\n    } = config;\n    this.quality = quality;\n    this.maxWidth = expectWidth;\n    this.maxHeight = expectHeight;\n    this.resizeType = resizeType;\n    this.forceContentType = expectContentType;\n    this.fillBgColor = fillBgColor;\n    this.applyOrientation = applyOrientation;\n  }\n\n  // 리사이징 대상 Blob\n  protected blob: Blob;\n  // 리사이징 대상 Blob 의 URL\n  protected blobURL: string;\n  // 리사이징 대상 Blob 을 로드할 이미지\n  protected domImage: HTMLImageElement;\n  // 리사이징 대상 이미지를 그려낼 캔버스\n  protected domCanvas: HTMLCanvasElement;\n  protected domCanvasContext: CanvasRenderingContext2D;\n  // 캔버스에서 만들어낼 이미지 퀄리티\n  protected quality: number;\n  // contentType 강제 지정\n  protected forceContentType: string;\n  // 리사이징 최대 사이즈\n  protected maxWidth: number;\n  protected maxHeight: number;\n  // 캔버스 배경 컬러\n  protected fillBgColor: string;\n  // 리사이징 할 때 캔버스에 그려낼 사이즈 타입\n  protected resizeType: ResizeType;\n  // 리사이징 완료된 Blob\n  protected resizeBlob: Blob;\n  // orientation 적용 여부\n  protected applyOrientation: boolean;\n  protected detectedOrientation: number;\n  // 응답용 promize\n  protected promise: Promise<ResizeResult>;\n  protected promiseResolve: (value: ResizeResult) => void;\n  protected promiseReject: (reason?: any) => void;\n\n  /**\n   * 리사이징 타입 - SCALE 형\n   * 정해진 expect 사이즈를 최대 사이즈로 비율에 맞춤. 원본이 작은 경우 늘리지 않음.\n   * @param {number} sw\n   * @param {number} sh\n   * @returns {DrawBound}\n   */\n  getResizeToScale(sw: number, sh: number): DrawBound {\n    const { maxWidth, maxHeight } = this.getMaxSize(sw, sh);\n    const dx: number = 0;\n    const dy: number = 0;\n    let dw: number = 0;\n    let dh: number = 0;\n    const isLandscape: boolean = sh <= sw;\n    if (isLandscape) {\n      dw = Math.min(maxWidth, sw);\n      dh = Math.floor((dw / sw) * sh);\n    } else {\n      dh = Math.min(maxHeight, sh);\n      dw = Math.floor((dh / sh) * sw);\n    }\n    return { dx, dy, dw, dh, mw: dw, mh: dh };\n  }\n\n  /**\n   * 리사이징 타입 - SCALE 형\n   * 정해진 expect 사이즈를 최대 사이즈로 비율에 맞춤. 원본이 작은 경우 비율에 맞춰서 늘림.\n   * @param {number} sw\n   * @param {number} sh\n   * @returns {DrawBound}\n   */\n  getResizeToScaleStretch(sw: number, sh: number): DrawBound {\n    const { maxWidth, maxHeight } = this.getMaxSize(sw, sh);\n    const dx: number = 0;\n    const dy: number = 0;\n    let dw: number = 0;\n    let dh: number = 0;\n    let contentRatio: number = 1;\n    const isLandscape: boolean = sh <= sw;\n    if (isLandscape) {\n      contentRatio = sw / sh;\n      contentRatio = 1 < contentRatio ? contentRatio : 1;\n      dw = maxWidth * contentRatio;\n      dh = Math.floor((dw / sw) * sh);\n    } else {\n      contentRatio = sh / sw;\n      contentRatio = 1 < contentRatio ? contentRatio : 1;\n      dh = maxHeight * contentRatio;\n      dw = Math.floor((dh / sh) * sw);\n    }\n    return { dx, dy, dw, dh, mw: dw, mh: dh };\n  }\n\n  /**\n   * 리사이징 타입 - COVER 형\n   * 정해진 expect 사이즈에 빈 여백 없이 맞춤. 원본이 작은 경우 늘리지 않으며, cover 처리가 가능한 최대 사이즈로 맞춤.\n   * @param {number} sw\n   * @param {number} sh\n   * @returns {DrawBound}\n   */\n  getResizeToCover(sw: number, sh: number): DrawBound {\n    const { maxWidth, maxHeight } = this.getMaxSize(sw, sh);\n    const min = Math.min(sw, sh, maxWidth, maxHeight);\n    const mw = Math.min(min, sw, maxWidth);\n    const mh = Math.min(min, sh, maxHeight);\n    let dx: number = 0;\n    let dy: number = 0;\n    let dw: number = 0;\n    let dh: number = 0;\n    let expectRatio: number = mw / mh;\n    let contentRatio: number = sw / sh;\n    if (expectRatio < contentRatio) {\n      dh = mh;\n      dw = mh * contentRatio;\n    } else {\n      dw = mw;\n      dh = mw / contentRatio;\n    }\n    dx = (mw - dw) * 0.5;\n    dy = (mh - dh) * 0.5;\n    return { dx, dy, dw, dh, mw, mh };\n  }\n\n  /**\n   * 리사이징 타입 - COVER 형\n   * 정해진 expect 사이즈에 빈 여백 없이 맞춤. 원본이 작은 경우 늘림.\n   * @param {number} sw\n   * @param {number} sh\n   * @returns {DrawBound}\n   */\n  getResizeToCoverStretch(sw: number, sh: number): DrawBound {\n    const { maxWidth, maxHeight } = this.getMaxSize(sw, sh);\n    let dx: number = 0;\n    let dy: number = 0;\n    let dw: number = 0;\n    let dh: number = 0;\n    let expectRatio: number = maxWidth / maxHeight;\n    let contentRatio: number = sw / sh;\n    if (expectRatio < contentRatio) {\n      dh = maxHeight;\n      dw = maxHeight * contentRatio;\n    } else {\n      dw = maxWidth;\n      dh = maxWidth / contentRatio;\n    }\n    dx = (maxWidth - dw) * 0.5;\n    dy = (maxHeight - dh) * 0.5;\n    return { dx, dy, dw, dh, mw: maxWidth, mh: maxHeight };\n  }\n\n  /**\n   * 리사이징 타입 - Fixed 형\n   * 정해진 expect 사이즈에 맞춤.\n   * @param {number} sw\n   * @param {number} sh\n   * @returns {DrawBound}\n   */\n  getResizeToFixed(sw: number, sh: number): DrawBound {\n    const { maxWidth, maxHeight } = this.getMaxSize(sw, sh);\n    let dw: number = maxWidth;\n    let dh: number = maxHeight;\n    return {\n      dx: 0,\n      dy: 0,\n      dw: dw,\n      dh: dh,\n      mw: dw,\n      mh: dh,\n    };\n  }\n\n  /**\n   * 이미지 사이즈와 옵션 조합으로 리사이징 가능한 최대 넓이, 높이 반환\n   * @protected\n   * @param {number} sw\n   * @param {number} sh\n   * @returns {ParseMaxSize}\n   */\n  protected getMaxSize(sw: number, sh: number): ParseMaxSize {\n    let maxWidth = this.maxWidth;\n    let maxHeight = this.maxHeight;\n    if (this.maxWidth <= 0 && this.maxHeight <= 0) {\n      maxWidth = sw;\n      maxHeight = sh;\n    } else if (this.maxWidth <= 0) {\n      if (this.resizeType === ResizeType.SCALE_STRETCH) {\n        maxWidth = sw <= sh ? sw * (this.maxHeight / sh) : this.maxHeight;\n      } else if (this.resizeType === ResizeType.FIXED) {\n        maxWidth = sw * (this.maxHeight / sh);\n      } else {\n        maxWidth = maxHeight;\n      }\n    } else if (this.maxHeight <= 0) {\n      if (this.resizeType === ResizeType.SCALE_STRETCH) {\n        maxHeight = sh <= sw ? sh * (this.maxWidth / sw) : this.maxWidth;\n      } else if (this.resizeType === ResizeType.FIXED) {\n        maxHeight = sh * (this.maxWidth / sw);\n      } else {\n        maxHeight = maxWidth;\n      }\n    }\n    return {\n      maxWidth: maxWidth,\n      maxHeight: maxHeight,\n    };\n  }\n\n  /**\n   * 이미지 로드 완료\n   * @protected\n   */\n  protected onImageLoaded() {\n    URL.revokeObjectURL(this.blobURL);\n    const imageWidth = this.domImage.naturalWidth;\n    const imageHeight = this.domImage.naturalHeight;\n    this.draw(imageWidth, imageHeight);\n  }\n\n  async toBufferByBlob(blob: Blob) {\n    return await toBufferByBlob(blob);\n  }\n\n  /**\n   * 이미지 orientation 등 설정 정보에 따라 그려져야할 사이즈, 방향 등 반환\n   * @protected\n   * @param {number} imageWidth\n   * @param {number} imageHeight\n   * @returns {Promise<ParseMetadata>}\n   */\n  protected async parseDrawMetadata(\n    imageWidth: number,\n    imageHeight: number\n  ): Promise<ParseMetadata> {\n    let sw = imageWidth;\n    let sh = imageHeight;\n    let orientation = 0;\n    if (this.applyOrientation === true) {\n      try {\n        // const buffer = await this.blob.arrayBuffer();\n        const buffer = await this.toBufferByBlob(this.blob);\n        const result = ExifReader.load(buffer);\n        if (result.Orientation && result.Orientation.value) {\n          orientation = result.Orientation.value;\n        }\n      } catch (err) {\n        console.error(err);\n      }\n      if (4 < orientation) {\n        sw = imageHeight;\n        sh = imageWidth;\n      }\n    }\n    return { sw, sh, orientation };\n  }\n\n  /**\n   * 이미지가 그려져야할 영역 정보 반환\n   * @protected\n   * @param {number} sw\n   * @param {number} sh\n   * @return {DrawBound}\n   */\n  protected parseDrawBound(sw: number, sh: number): DrawBound {\n    let drawBound: DrawBound;\n    switch (this.resizeType) {\n      case ResizeType.COVER:\n        drawBound = this.getResizeToCover(sw, sh);\n        break;\n      case ResizeType.COVER_STRETCH:\n        drawBound = this.getResizeToCoverStretch(sw, sh);\n        break;\n      case ResizeType.SCALE_STRETCH:\n        drawBound = this.getResizeToScaleStretch(sw, sh);\n        break;\n      case ResizeType.SCALE:\n        drawBound = this.getResizeToScale(sw, sh);\n        break;\n      default:\n        drawBound = this.getResizeToFixed(sw, sh);\n        break;\n    }\n    return drawBound;\n  }\n\n  /**\n   * 그리기\n   * @protected\n   * @param {number} imageWidth\n   * @param {number} imageHeight\n   * @returns {Promise<void>}\n   */\n  protected async draw(imageWidth: number, imageHeight: number): Promise<void> {\n    const { sw, sh, orientation } = await this.parseDrawMetadata(imageWidth, imageHeight);\n    const { dx, dy, dw, dh, mw, mh } = this.parseDrawBound(sw, sh);\n    const tx = dw + dx * 2;\n    const ty = dh + dy * 2;\n    const contentType = this.forceContentType || this.blob.type;\n    const canvas = this.domCanvas;\n    const context = this.domCanvasContext;\n    canvas.width = mw;\n    canvas.height = mh;\n\n    if (this.fillBgColor) {\n      context.fillStyle = this.fillBgColor;\n      context.fillRect(0, 0, mw, mh);\n    }\n    switch (orientation) {\n      case 2:\n        context.translate(tx, 0);\n        context.scale(-1, 1);\n        break;\n      case 3:\n        context.translate(tx, ty);\n        context.rotate(Math.PI);\n        break;\n      case 4:\n        context.translate(0, ty);\n        context.scale(1, -1);\n        break;\n      case 5:\n        context.rotate(Math.PI * 0.5);\n        context.scale(1, -1);\n        break;\n      case 6:\n        context.rotate(Math.PI * 0.5);\n        context.translate(0, -tx);\n        break;\n      case 7:\n        context.rotate(Math.PI * 0.5);\n        context.translate(ty, -tx);\n        context.scale(-1, 1);\n        break;\n      case 8:\n        context.rotate(Math.PI * -0.5);\n        context.translate(-ty, 0);\n        break;\n    }\n    if (4 < orientation) {\n      context.drawImage(this.domImage, 0, 0, sh, sw, dy, dx, dh, dw);\n    } else {\n      context.drawImage(this.domImage, 0, 0, sw, sh, dx, dy, dw, dh);\n    }\n\n    this.detectedOrientation = orientation;\n    // 그리기 완료 (type 이 jpeg 인 경우만 quality 적용이 됨)\n    canvas.toBlob(this.onResized.bind(this), contentType, this.quality);\n  }\n\n  /**\n   * 이미지 로드 오류\n   * @protected\n   */\n  protected onImageError() {\n    URL.revokeObjectURL(this.blobURL);\n    this.promiseReject({\n      ...this.getState(),\n      error: new Error('image load error'),\n    });\n  }\n\n  /**\n   * 이미지 리사이징 완료\n   * @protected\n   * @param {Blob} resizeBlob\n   */\n  protected onResized(resizeBlob: Blob) {\n    this.resizeBlob = resizeBlob;\n    this.promiseResolve(this.getState());\n  }\n\n  /**\n   * 리사이징 이미지 생성하기\n   * @returns {Promise<ResizeResult>}\n   */\n  create(): Promise<ResizeResult> {\n    this.domCanvas = document.createElement('canvas');\n    this.domCanvasContext = this.domCanvas.getContext('2d');\n    this.domImage = new Image();\n    this.domImage.onload = this.onImageLoaded.bind(this);\n    this.domImage.onerror = this.onImageError.bind(this);\n    this.promise = new Promise((resolve, reject) => {\n      this.promiseResolve = resolve;\n      this.promiseReject = reject;\n      try {\n        this.blobURL = URL.createObjectURL(this.blob);\n        this.domImage.src = this.blobURL;\n      } catch (err) {\n        this.promiseReject({\n          ...this.getState(),\n          error: err,\n        });\n      }\n    });\n    return this.promise;\n  }\n\n  getState(): ResizeResult {\n    const blob = this.resizeBlob || null;\n    const { width = 0, height = 0 } = this.domCanvas || {};\n    const orientation = this.detectedOrientation || 0;\n    return {\n      blob: blob,\n      width: blob ? width : 0,\n      height: blob ? height : 0,\n      orientation,\n    };\n  }\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport default {\n    USE_FILE: true,\n    USE_PNG_FILE: true,\n    USE_EXIF: true,\n    USE_IPTC: true,\n    USE_XMP: true,\n    USE_ICC: true,\n    USE_THUMBNAIL: true,\n    USE_TIFF: true,\n    USE_JPEG: true,\n    USE_PNG: true,\n    USE_HEIC: true,\n    USE_WEBP: true\n};\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","export * from './types';\nexport * from './BlobImageResize';\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringFromDataView} from './utils.js';\nimport Constants from './constants.js';\n\nexport default {\n    isPngFile,\n    findPngOffsets\n};\n\nconst PNG_ID = '\\x89\\x50\\x4e\\x47\\x0d\\x0a\\x1a\\x0a';\nconst PNG_CHUNK_LENGTH_SIZE = 4;\nconst PNG_CHUNK_TYPE_SIZE = 4;\nconst PNG_CHUNK_LENGTH_OFFSET = 0;\nconst PNG_CHUNK_TYPE_OFFSET = PNG_CHUNK_LENGTH_SIZE;\nconst PNG_CHUNK_DATA_OFFSET = PNG_CHUNK_LENGTH_SIZE + PNG_CHUNK_TYPE_SIZE;\nconst PNG_XMP_PREFIX = 'XML:com.adobe.xmp\\x00';\n\nfunction isPngFile(dataView) {\n    return getStringFromDataView(dataView, 0, PNG_ID.length) === PNG_ID;\n}\n\nfunction findPngOffsets(dataView) {\n    const PNG_CRC_SIZE = 4;\n\n    const offsets = {\n        hasAppMarkers: false\n    };\n\n    let offset = PNG_ID.length;\n\n    while (offset + PNG_CHUNK_LENGTH_SIZE + PNG_CHUNK_TYPE_SIZE <= dataView.byteLength) {\n        if (Constants.USE_PNG_FILE && isPngImageHeaderChunk(dataView, offset)) {\n            offsets.hasAppMarkers = true;\n            offsets.pngHeaderOffset = offset + PNG_CHUNK_DATA_OFFSET;\n        } else if (Constants.USE_XMP && isPngXmpChunk(dataView, offset)) {\n            const dataOffset = getPngXmpDataOffset(dataView, offset);\n            if (dataOffset !== undefined) {\n                offsets.hasAppMarkers = true;\n                offsets.xmpChunks = [{\n                    dataOffset,\n                    length: dataView.getUint32(offset + PNG_CHUNK_LENGTH_OFFSET) - (dataOffset - (offset + PNG_CHUNK_DATA_OFFSET))\n                }];\n            }\n        }\n\n        offset += dataView.getUint32(offset + PNG_CHUNK_LENGTH_OFFSET)\n            + PNG_CHUNK_LENGTH_SIZE\n            + PNG_CHUNK_TYPE_SIZE\n            + PNG_CRC_SIZE;\n    }\n\n    return offsets;\n}\n\nfunction isPngImageHeaderChunk(dataView, offset) {\n    const PNG_CHUNK_TYPE_IMAGE_HEADER = 'IHDR';\n    return getStringFromDataView(dataView, offset + PNG_CHUNK_TYPE_OFFSET, PNG_CHUNK_TYPE_SIZE) === PNG_CHUNK_TYPE_IMAGE_HEADER;\n}\n\nfunction isPngXmpChunk(dataView, offset) {\n    const PNG_CHUNK_TYPE_INTERNATIONAL_TEXT = 'iTXt';\n    return (getStringFromDataView(dataView, offset + PNG_CHUNK_TYPE_OFFSET, PNG_CHUNK_TYPE_SIZE) === PNG_CHUNK_TYPE_INTERNATIONAL_TEXT)\n        && (getStringFromDataView(dataView, offset + PNG_CHUNK_DATA_OFFSET, PNG_XMP_PREFIX.length) === PNG_XMP_PREFIX);\n}\n\nfunction getPngXmpDataOffset(dataView, offset) {\n    const COMPRESSION_FLAG_SIZE = 1;\n    const COMPRESSION_METHOD_SIZE = 1;\n\n    offset += PNG_CHUNK_DATA_OFFSET + PNG_XMP_PREFIX.length + COMPRESSION_FLAG_SIZE + COMPRESSION_METHOD_SIZE;\n\n    let numberOfNullSeparators = 0;\n    while (numberOfNullSeparators < 2 && offset < dataView.byteLength) {\n        if (dataView.getUint8(offset) === 0x00) {\n            numberOfNullSeparators++;\n        }\n        offset++;\n    }\n    if (numberOfNullSeparators < 2) {\n        return undefined;\n    }\n    return offset;\n}\n","/**\n * 리사이즈 타입\n *  - SCALE: 이미지 비율 유지, 원본이 예상 크기 보다 작은 경우 늘리지 않음.\n *  - SCALE_STRETCH: 이미지 비율 유지, 원본이 예상 크기 보다 작은 경우 작은것을 기준으로 늘림.\n *  - COVER: 이미지 넘치면 잘라냄, 원본이 예상 크기 보다 작은 경우 늘리지 않음.\n *  - COVER_STRETCH: 이미지 넘치면 잘라냄, 원본이 예상 크기 보다 작은 경우 늘림.\n * @export\n * @enum {number}\n */\nexport enum ResizeType {\n  SCALE,\n  SCALE_STRETCH,\n  COVER,\n  COVER_STRETCH,\n  FIXED,\n}\n\n/**\n * 리사이즈 옵션\n * @export\n * @interface ResizeConfig\n */\nexport interface ResizeConfig {\n  /**\n   * 리사이즈 예상 width\n   * @type {number}\n   */\n  expectWidth?: number;\n  /**\n   * 리사이즈 예상 height\n   * @type {number}\n   */\n  expectHeight?: number;\n  /**\n   * 이미지 품질 (jpeg type 이 아닌건 quality 적용이 되지 않음)\n   * @type {number}\n   */\n  quality?: number;\n  /**\n   * canvas 에 그려질 contentType 을 강제하려는 경우의 값, 지정하지 않으면 읽어낸 값으로 지정\n   * @type {string}\n   */\n  expectContentType?: string;\n  /**\n   * canvas 의 기본 배경 컬러 지정\n   * @type {string}\n   */\n  fillBgColor?: string;\n  /**\n   * 리사이즈 타입\n   * @type {ResizeType}\n   */\n  resizeType?: ResizeType;\n\n  /**\n   * exif orientation 정보가 있는 경우 적용 여부\n   * @type {boolean}\n   */\n  applyOrientation?: boolean;\n}\n\n/**\n * 리사이즈 결과\n * @export\n * @interface ResizeResult\n */\nexport interface ResizeResult {\n  /**\n   * 리사이즈 된 Blob\n   * @type {Blob}\n   */\n  blob: Blob;\n  /**\n   * 리사이즈 된 width 사이즈\n   * @type {number}\n   */\n  width: number;\n  /**\n   * 리사이즈 된 height 사이즈\n   * @type {number}\n   */\n  height: number;\n  /**\n   * allowOrientation 적용시 exif 에서 찾아낸 orientation 값\n   * @type {number}\n   */\n  orientation?: number;\n  /**\n   * 오류가 있는 경우\n   * @type {*}\n   * @memberof ResizeResult\n   */\n  error?: any;\n}\n\n/**\n * 리사이즈 계산 정보\n * @interface DrawBound\n */\nexport interface DrawBound {\n  dx: number;\n  dy: number;\n  dw: number;\n  dh: number;\n  mw: number;\n  mh: number;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\nimport {iccTags, iccProfile} from './icc-tag-names.js';\nimport {getStringFromDataView, getUnicodeStringFromDataView} from './utils.js';\n\nexport default {\n    read\n};\n\nconst PROFILE_HEADER_LENGTH = 84;\nconst ICC_TAG_COUNT_OFFSET = 128;\nconst ICC_SIGNATURE = 'acsp';\nconst TAG_TYPE_DESC = 'desc';\nconst TAG_TYPE_MULTI_LOCALIZED_UNICODE_TYPE = 'mluc';\nconst TAG_TYPE_TEXT = 'text';\nconst TAG_TYPE_SIGNATURE = 'sig ';\nconst TAG_TABLE_SINGLE_TAG_DATA = 12;\n\n// ICC profile data can be longer than application segment max length of ~64k.\n// so it can be split into multiple APP2 segments. Each segment includes\n// total chunk count and chunk number.\n// Here we read all chunks into single continious array of bytes.\nfunction read(dataView, iccData) {\n    try {\n        const totalIccProfileLength = iccData.reduce((sum, icc) => sum + icc.length, 0);\n\n        const iccBinaryData = new Uint8Array(totalIccProfileLength);\n        let offset = 0;\n        const buffer = getBuffer(dataView);\n\n        for (let chunkNumber = 1; chunkNumber <= iccData.length; chunkNumber++) {\n            const iccDataChunk = iccData.find((x) => x.chunkNumber === chunkNumber);\n            if (!iccDataChunk) {\n                throw new Error(`ICC chunk ${chunkNumber} not found`);\n            }\n\n            const data = buffer.slice(iccDataChunk.offset, iccDataChunk.offset + iccDataChunk.length);\n            const chunkData = new Uint8Array(data);\n\n            iccBinaryData.set(chunkData, offset);\n            offset += chunkData.length;\n        }\n\n        return parseTags(new DataView(iccBinaryData.buffer));\n    } catch (error) {\n        return {};\n    }\n}\n\nfunction getBuffer(dataView) {\n    if (Array.isArray(dataView)) {\n        return (new DataView(Uint8Array.from(dataView).buffer)).buffer;\n    }\n    return dataView.buffer;\n}\n\nfunction iccDoesNotHaveTagCount(buffer) {\n    return buffer.length < (ICC_TAG_COUNT_OFFSET + 4);\n}\n\nfunction hasTagsData(buffer, tagHeaderOffset) {\n    return buffer.length < tagHeaderOffset + TAG_TABLE_SINGLE_TAG_DATA;\n}\n\nexport function parseTags(dataView) {\n    const buffer = dataView.buffer;\n\n    const length = dataView.getUint32();\n    if (dataView.byteLength !== length) {\n        throw new Error('ICC profile length not matching');\n    }\n\n    if (dataView.length < PROFILE_HEADER_LENGTH) {\n        throw new Error('ICC profile too short');\n    }\n\n    const tags = {};\n\n    const iccProfileKeys = Object.keys(iccProfile);\n    for (let i = 0; i < iccProfileKeys.length; i++) {\n        const offset = iccProfileKeys[i];\n        const profileEntry = iccProfile[offset];\n        const value = profileEntry.value(dataView, parseInt(offset, 10));\n        let description = value;\n        if (profileEntry.description) {\n            description = profileEntry.description(value);\n        }\n\n        tags[profileEntry.name] = {\n            value,\n            description\n        };\n    }\n\n    const signature = sliceToString(buffer.slice(36, 40));\n    if (signature !== ICC_SIGNATURE) {\n        throw new Error('ICC profile: missing signature');\n    }\n\n    /* ICC data is incomplete but we have header parsed so lets return it */\n    if (iccDoesNotHaveTagCount(buffer)) {\n        return tags;\n    }\n\n    const tagCount = dataView.getUint32(128);\n    let tagHeaderOffset = 132;\n\n    for (let i = 0; i < tagCount; i++) {\n        if (hasTagsData(buffer, tagHeaderOffset)) {\n            // Tags are corrupted (offset too far), return what we parsed until now\n            return tags;\n        }\n        const tagSignature = getStringFromDataView(dataView, tagHeaderOffset, 4);\n        const tagOffset = dataView.getUint32(tagHeaderOffset + 4);\n        const tagSize = dataView.getUint32(tagHeaderOffset + 8);\n\n        if (tagOffset > buffer.length) {\n            // Tag data is invalid, lets return what we managed to parse\n            return tags;\n        }\n        const tagType = getStringFromDataView(dataView, tagOffset, 4);\n\n        if (tagType === TAG_TYPE_DESC) {\n            const tagValueSize = dataView.getUint32(tagOffset + 8);\n            if (tagValueSize > tagSize) {\n                // Tag data is invalid, lets return what we managed to parse\n                return tags;\n            }\n\n            const val = sliceToString(buffer.slice(tagOffset + 12, tagOffset + tagValueSize + 11));\n            addTag(tags, tagSignature, val);\n        } else if (tagType === TAG_TYPE_MULTI_LOCALIZED_UNICODE_TYPE) {\n            const numRecords = dataView.getUint32(tagOffset + 8);\n            const recordSize = dataView.getUint32(tagOffset + 12);\n            let offset = tagOffset + 16;\n            const val = [];\n            for (let recordNum = 0; recordNum < numRecords; recordNum++) {\n                const languageCode = getStringFromDataView(dataView, offset + 0, 2);\n                const countryCode = getStringFromDataView(dataView, offset + 2, 2);\n                const textLength = dataView.getUint32(offset + 4);\n                const textOffset = dataView.getUint32(offset + 8);\n\n                const text = getUnicodeStringFromDataView(dataView, tagOffset + textOffset, textLength);\n                val.push({languageCode, countryCode, text});\n                offset += recordSize;\n            }\n            if (numRecords === 1) {\n                addTag(tags, tagSignature, val[0].text);\n            } else {\n                const valObj = {};\n                for (let valIndex = 0; valIndex < val.length; valIndex++) {\n                    valObj[`${val[valIndex].languageCode}-${val[valIndex].countryCode}`] = val[valIndex].text;\n                }\n                addTag(tags, tagSignature, valObj);\n            }\n        } else if (tagType === TAG_TYPE_TEXT) {\n            const val = sliceToString(buffer.slice(tagOffset + 8, tagOffset + tagSize - 7));\n            addTag(tags, tagSignature, val);\n        } else if (tagType === TAG_TYPE_SIGNATURE) {\n            const val = sliceToString(buffer.slice(tagOffset + 8, tagOffset + 12));\n            addTag(tags, tagSignature, val);\n        }\n        tagHeaderOffset = tagHeaderOffset + 12;\n    }\n\n    return tags;\n}\n\nfunction sliceToString(slice) {\n    return String.fromCharCode.apply(null, new Uint8Array(slice));\n}\n\nfunction addTag(tags, tagSignature, value) {\n    if (iccTags[tagSignature]) {\n        tags[iccTags[tagSignature].name] = {value, description: value};\n    } else {\n        tags[tagSignature] = {value, description: value};\n    }\n}\n","import { Subject, Observable } from 'rxjs';\nimport {\n  FileReadEventType,\n  FileReadEvent,\n  FileReadState,\n  FileReadConfig,\n  FileReadResponseType,\n} from './types';\n\n/**\n * 파일 스트림 읽기.\n * FileReader 사용시 한번에 못 읽는 용량 끊어서 읽기 용.\n * @class FileReadStream\n */\nexport class FileReadStream {\n  /**\n   * @param {File} file FileReader 로 읽을 파일\n   * @param {FileReadConfig} [config={}] 스트림 옵션\n   */\n  constructor(file: File, config: FileReadConfig = {}) {\n    this.readFile = file;\n    this.reader = new FileReader();\n    this.reader.onload = this.onReaderLoaded.bind(this);\n    this.reader.onerror = this.onReaderError.bind(this);\n    this.subjectState = new Subject();\n    const { chunkSize = 1024 * 1024 * 10, responseType = FileReadResponseType.BLOB } = config;\n    this.readChunkSize = chunkSize;\n    this.responseType = responseType;\n  }\n\n  // 변경사항 알리미 @see https://rxjs-dev.firebaseapp.com\n  protected subjectState: Subject<FileReadEvent>;\n  // 파일 리더\n  protected reader: FileReader;\n  // 읽을 파일\n  protected readFile: File;\n  // 읽기 시작 여부\n  protected readStarted: boolean = false;\n  // 1회 읽을량\n  protected readChunkSize: number;\n  // 현재 읽기 offset\n  protected readOffset: number = 0;\n  // 현재 읽어야할 offset\n  protected readOffsetNext: number = 0;\n  // 현재 읽은량\n  protected readCurrent: number = 0;\n  // 현재 취소 상태인지 확인용\n  protected readStateAbort: boolean = false;\n  // 읽은 버퍼\n  protected buffers: ArrayBuffer[] = [];\n  // 응답시 파일 타입\n  protected responseType: FileReadResponseType;\n  // subjectState 로 진행(완료) 상태를 받을 수 있지만, 편의용 async/await 도 제공\n  protected readPromise: Promise<FileReadEvent>;\n  protected readPromiseResolve: (value: FileReadEvent) => void;\n  protected readPromiseReject: (reason?: any) => void;\n\n  /**\n   * 파일 읽기 1회 완료\n   * @protected\n   * @param {Event} evt\n   */\n  protected onReaderLoaded(evt: Event) {\n    this.readCurrent = this.readOffsetNext;\n    this.readOffset += this.readChunkSize;\n    this.buffers.push(this.reader.result as ArrayBuffer);\n    this.stateChanged();\n    this.next();\n  }\n\n  /**\n   * 파일 읽기 1회 오류\n   * @protected\n   * @param {Event} evt\n   */\n  protected onReaderError(evt: Event) {\n    this.resultReject(new Error('file reader onerror event'));\n  }\n\n  /**\n   * 다음 구간 읽기\n   * @protected\n   */\n  protected next() {\n    if (this.readStateAbort) {\n      return;\n    }\n    try {\n      const maxSize = this.readFile.size;\n      if (maxSize <= this.readOffset) {\n        this.resultResolve();\n        return;\n      }\n      let expectNext = this.readOffset + this.readChunkSize;\n      if (maxSize <= expectNext) expectNext = maxSize;\n      this.readOffsetNext = expectNext;\n      const sliceBlob = this.readFile.slice(this.readOffset, this.readOffsetNext);\n      this.reader.readAsArrayBuffer(sliceBlob);\n    } catch (err) {\n      this.onReaderError(err);\n    }\n  }\n\n  /**\n   * state 변경 시 알림\n   * @protected\n   */\n  protected stateChanged() {\n    this.subjectState.next({\n      type: FileReadEventType.CHANGE,\n      state: this.getState(),\n    });\n  }\n\n  /**\n   * 완료 시 알림\n   * @protected\n   */\n  protected resultResolve() {\n    const result: FileReadEvent = {\n      type: FileReadEventType.RESOLVE,\n      state: this.getState(),\n    };\n    this.reader.onload = null;\n    this.reader.onerror = null;\n    this.readPromiseResolve(result);\n    this.subjectState.next(result);\n  }\n\n  /**\n   * 실패 시 알림\n   * @protected\n   * @param {*} reason\n   */\n  protected resultReject(reason: any, type: FileReadEventType = FileReadEventType.REJECT) {\n    const result: FileReadEvent = {\n      type,\n      state: null,\n      error: reason,\n    };\n    this.reader.onload = null;\n    this.reader.onerror = null;\n    this.readPromiseReject(result);\n    this.subjectState.next(result);\n  }\n\n  /**\n   * 읽기 시작\n   * @returns {Promise<FileReadEvent>}\n   */\n  start(): Promise<FileReadEvent> {\n    if (this.readStarted) return;\n    this.readStarted = true;\n    this.readPromise = new Promise((resolve, reject) => {\n      this.readPromiseResolve = resolve;\n      this.readPromiseReject = reject;\n    });\n    this.next();\n    return this.readPromise;\n  }\n\n  /**\n   * 상태변경 옵저버\n   * @returns {Observable<FileReadEvent>}\n   */\n  observeState(): Observable<FileReadEvent> {\n    return this.subjectState.asObservable();\n  }\n\n  /**\n   * 현재 상태\n   * @returns {FileReadState}\n   */\n  getState(): FileReadState {\n    const { name = null, type = null, size = 0, lastModified = Date.now() } = this.readFile || {};\n    const state: FileReadState = {\n      fileName: name,\n      fileType: type,\n      fileSize: size,\n      fileLastModified: lastModified,\n      total: size,\n      readed: this.readCurrent,\n      responseType: this.responseType,\n      chunkSize: this.readChunkSize,\n    };\n    switch (this.responseType) {\n      case FileReadResponseType.BLOB:\n        state.blob = new Blob(this.buffers, { type });\n        break;\n      case FileReadResponseType.BUFFER:\n        state.buffers = this.buffers;\n        break;\n    }\n    return state;\n  }\n\n  /**\n   * 파일 읽기 중단\n   */\n  abort(): void {\n    this.readStateAbort = true;\n    if (this.reader) {\n      this.reader.abort();\n      this.reader.onload = null;\n      this.reader.onerror = null;\n      this.resultReject(new Error('file reader abort event'), FileReadEventType.ABORT);\n    }\n  }\n\n  /**\n   * 파기\n   */\n  destroy() {\n    if (this.reader) {\n      this.reader.abort();\n      this.reader.onload = null;\n      this.reader.onerror = null;\n      this.reader = null;\n    }\n    this.readFile = null;\n  }\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport Constants from './constants.js';\nimport Tiff from './image-header-tiff.js';\nimport Jpeg from './image-header-jpeg.js';\nimport Png from './image-header-png.js';\nimport Heic from './image-header-heic.js';\nimport Webp from './image-header-webp.js';\n\nexport default {\n    parseAppMarkers\n};\n\nfunction parseAppMarkers(dataView) {\n    if (Constants.USE_TIFF && Tiff.isTiffFile(dataView)) {\n        return Tiff.findTiffOffsets();\n    }\n\n    if (Constants.USE_JPEG && Jpeg.isJpegFile(dataView)) {\n        return Jpeg.findJpegOffsets(dataView);\n    }\n\n    if (Constants.USE_PNG && Png.isPngFile(dataView)) {\n        return Png.findPngOffsets(dataView);\n    }\n\n    if (Constants.USE_HEIC && Heic.isHeicFile(dataView)) {\n        return Heic.findHeicOffsets(dataView);\n    }\n\n    if (Constants.USE_WEBP && Webp.isWebpFile(dataView)) {\n        return Webp.findOffsets(dataView);\n    }\n\n    throw new Error('Invalid image format');\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringFromDataView} from './utils.js';\nimport Constants from './constants.js';\n\nexport default {\n    isHeicFile,\n    findHeicOffsets\n};\n\nfunction isHeicFile(dataView) {\n    const HEIC_ID = 'ftyp';\n    const HEIC_ID_OFFSET = 4;\n    const HEIC_MAJOR_BRANDS = ['heic', 'heix', 'hevc', 'hevx', 'heim', 'heis', 'hevm', 'hevs', 'mif1'];\n    const HEIC_MAJOR_BRAND_LENGTH = 4;\n\n    const heicMajorBrand = getStringFromDataView(dataView, HEIC_ID_OFFSET + HEIC_ID.length, HEIC_MAJOR_BRAND_LENGTH);\n\n    return (getStringFromDataView(dataView, HEIC_ID_OFFSET, HEIC_ID.length) === HEIC_ID)\n        && (HEIC_MAJOR_BRANDS.indexOf(heicMajorBrand) !== -1);\n}\n\nfunction findHeicOffsets(dataView) {\n    if (Constants.USE_EXIF || Constants.USE_ICC) {\n        const {offset: metaOffset, length: metaLength} = findMetaAtom(dataView);\n        if (metaOffset === undefined) {\n            return {hasAppMarkers: false};\n        }\n\n        const metaEndOffset = Math.min(metaOffset + metaLength, dataView.byteLength);\n        const {exifItemOffset, ilocOffset, colrOffset} = findMetaItems(dataView, metaOffset, metaEndOffset);\n\n        const exifOffset = findExifOffset(dataView, exifItemOffset, ilocOffset, metaEndOffset);\n        const iccChunks = findIccChunks(dataView, colrOffset, metaEndOffset);\n        return {\n            hasAppMarkers: (exifOffset !== undefined) || (iccChunks !== undefined),\n            tiffHeaderOffset: exifOffset,\n            iccChunks\n        };\n    }\n\n    return {hasAppMarkers: false};\n}\n\nfunction findMetaAtom(dataView) {\n    const ATOM_LENGTH_SIZE = 4;\n    const ATOM_TYPE_SIZE = 4;\n    const ATOM_MIN_LENGTH = 8;\n    const ATOM_TYPE_OFFSET = 4;\n\n    let offset = 0;\n\n    while (offset + ATOM_LENGTH_SIZE + ATOM_TYPE_SIZE <= dataView.byteLength) {\n        const atomLength = getAtomLength(dataView, offset);\n        if (atomLength >= ATOM_MIN_LENGTH) {\n            const atomType = getStringFromDataView(dataView, offset + ATOM_TYPE_OFFSET, ATOM_TYPE_SIZE);\n            if (atomType === 'meta') {\n                return {\n                    offset,\n                    length: atomLength\n                };\n            }\n        }\n\n        offset += atomLength;\n    }\n\n    return {\n        offset: undefined,\n        length: 0\n    };\n}\n\nfunction getAtomLength(dataView, offset) {\n    const ATOM_EXTENDED_SIZE_LOW_OFFSET = 12;\n\n    const atomLength = dataView.getUint32(offset);\n    if (extendsToEndOfFile(atomLength)) {\n        return dataView.byteLength - offset;\n    }\n    if (hasExtendedSize(atomLength)) {\n        if (hasEmptyHighBits(dataView, offset)) {\n            // It's a bit tricky to handle 64 bit numbers in JavaScript. Let's\n            // wait until there are real-world examples where it is necessary.\n            return dataView.getUint32(offset + ATOM_EXTENDED_SIZE_LOW_OFFSET);\n        }\n    }\n\n    return atomLength;\n}\n\nfunction extendsToEndOfFile(atomLength) {\n    return atomLength === 0;\n}\n\nfunction hasExtendedSize(atomLength) {\n    return atomLength === 1;\n}\n\nfunction hasEmptyHighBits(dataView, offset) {\n    const ATOM_EXTENDED_SIZE_OFFSET = 8;\n    return dataView.getUint32(offset + ATOM_EXTENDED_SIZE_OFFSET) === 0;\n}\n\nfunction findMetaItems(dataView, offset, metaEndOffset) {\n    const STRING_SIZE = 4;\n    const ITEM_INDEX_REL_OFFSET = -4;\n    const offsets = {\n        ilocOffset: undefined,\n        exifItemOffset: undefined,\n        colrOffset: undefined\n    };\n\n    while ((offset + STRING_SIZE <= metaEndOffset)\n        && (!offsets.ilocOffset || !offsets.exifItemOffset || !offsets.colrOffset)) {\n        const itemName = getStringFromDataView(dataView, offset, STRING_SIZE);\n        if (Constants.USE_EXIF && (itemName === 'iloc')) {\n            offsets.ilocOffset = offset;\n        } else if (Constants.USE_EXIF && (itemName === 'Exif')) {\n            offsets.exifItemOffset = offset + ITEM_INDEX_REL_OFFSET;\n        } else if (Constants.USE_ICC && (itemName === 'colr')) {\n            offsets.colrOffset = offset + ITEM_INDEX_REL_OFFSET;\n        }\n\n        offset++;\n    }\n\n    return offsets;\n}\n\nfunction findExifOffset(dataView, exifItemOffset, offset, metaEndOffset) {\n    const EXIF_ITEM_OFFSET_SIZE = 2;\n    const ILOC_DATA_OFFSET = 12;\n    const EXIF_POINTER_OFFSET = 8;\n    const EXIF_POINTER_SIZE = 4;\n    const EXIF_PREFIX_LENGTH_OFFSET = 4;\n    const ILOC_ITEM_SIZE = 16;\n\n    if (!offset || !exifItemOffset || (exifItemOffset + EXIF_ITEM_OFFSET_SIZE > metaEndOffset)) {\n        return undefined;\n    }\n\n    const exifItemIndex = dataView.getUint16(exifItemOffset);\n    offset += ILOC_DATA_OFFSET;\n\n    while (offset + ILOC_ITEM_SIZE <= metaEndOffset) {\n        const itemIndex = dataView.getUint16(offset);\n        if (itemIndex === exifItemIndex) {\n            const exifPointer = dataView.getUint32(offset + EXIF_POINTER_OFFSET);\n            if (exifPointer + EXIF_POINTER_SIZE <= dataView.byteLength) {\n                const exifOffset = dataView.getUint32(exifPointer);\n                const prefixLength = exifOffset + EXIF_PREFIX_LENGTH_OFFSET;\n                return exifPointer + prefixLength;\n            }\n        }\n        offset += ILOC_ITEM_SIZE;\n    }\n\n    return undefined;\n}\n\nfunction findIccChunks(dataView, offset, metaEndOffset) {\n    const ITEM_TYPE_OFFSET = 8;\n    const ITEM_TYPE_SIZE = 4;\n    const ITEM_CONTENT_OFFSET = 12;\n\n    if (!offset || (offset + ITEM_CONTENT_OFFSET > metaEndOffset)) {\n        return undefined;\n    }\n\n    const colorType = getStringFromDataView(dataView, offset + ITEM_TYPE_OFFSET, ITEM_TYPE_SIZE);\n    if ((colorType !== 'prof') && (colorType !== 'rICC')) {\n        return undefined;\n    }\n\n    return [{\n        offset: offset + ITEM_CONTENT_OFFSET,\n        length: getAtomLength(dataView, offset) - ITEM_CONTENT_OFFSET,\n        chunkNumber: 1,\n        chunksTotal: 1\n    }];\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport Types from './types.js';\n\nexport default {\n    read\n};\n\nfunction read(dataView, fileDataOffset) {\n    return {\n        'Image Width': getImageWidth(dataView, fileDataOffset),\n        'Image Height': getImageHeight(dataView, fileDataOffset),\n        'Bit Depth': getBitDepth(dataView, fileDataOffset),\n        'Color Type': getColorType(dataView, fileDataOffset),\n        'Compression': getCompression(dataView, fileDataOffset),\n        'Filter': getFilter(dataView, fileDataOffset),\n        'Interlace': getInterlace(dataView, fileDataOffset)\n    };\n}\n\nfunction getImageWidth(dataView, fileDataOffset) {\n    const OFFSET = 0;\n    const SIZE = 4;\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getLongAt(dataView, fileDataOffset);\n    return {\n        value,\n        description: `${value}px`\n    };\n}\n\nfunction getImageHeight(dataView, fileDataOffset) {\n    const OFFSET = 4;\n    const SIZE = 4;\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getLongAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: `${value}px`\n    };\n}\n\nfunction getBitDepth(dataView, fileDataOffset) {\n    const OFFSET = 8;\n    const SIZE = 1;\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: `${value}`\n    };\n}\n\nfunction getColorType(dataView, fileDataOffset) {\n    const OFFSET = 9;\n    const SIZE = 1;\n    const COLOR_TYPES = {\n        0: 'Grayscale',\n        2: 'RGB',\n        3: 'Palette',\n        4: 'Grayscale with Alpha',\n        6: 'RGB with Alpha'\n    };\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: COLOR_TYPES[value] || 'Unknown'\n    };\n}\n\nfunction getCompression(dataView, fileDataOffset) {\n    const OFFSET = 10;\n    const SIZE = 1;\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: value === 0 ? 'Deflate/Inflate' : 'Unknown'\n    };\n}\n\nfunction getFilter(dataView, fileDataOffset) {\n    const OFFSET = 11;\n    const SIZE = 1;\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: value === 0 ? 'Adaptive' : 'Unknown'\n    };\n}\n\nfunction getInterlace(dataView, fileDataOffset) {\n    const OFFSET = 12;\n    const SIZE = 1;\n    const INTERLACE_TYPES = {\n        0: 'Noninterlaced',\n        1: 'Adam7 Interlace'\n    };\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: INTERLACE_TYPES[value] || 'Unknown'\n    };\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport TagNamesCommon from './tag-names-common.js';\n\nexport default {\n    0x000b: 'ProcessingSoftware',\n    0x00fe: {\n        name: 'SubfileType',\n        description: (value) => ({\n            0x0: 'Full-resolution image',\n            0x1: 'Reduced-resolution image',\n            0x2: 'Single page of multi-page image',\n            0x3: 'Single page of multi-page reduced-resolution image',\n            0x4: 'Transparency mask',\n            0x5: 'Transparency mask of reduced-resolution image',\n            0x6: 'Transparency mask of multi-page image',\n            0x7: 'Transparency mask of reduced-resolution multi-page image',\n            0x10001: 'Alternate reduced-resolution image',\n            0xffffffff: 'Invalid'\n        })[value] || 'Unknown'\n    },\n    0x00ff: {\n        name: 'OldSubfileType',\n        description: (value) => ({\n            0: 'Full-resolution image',\n            1: 'Reduced-resolution image',\n            2: 'Single page of multi-page image'\n        })[value] || 'Unknown'\n    },\n    0x0100: 'ImageWidth',\n    0x0101: 'ImageLength',\n    0x0102: 'BitsPerSample',\n    0x0103: 'Compression',\n    0x0106: 'PhotometricInterpretation',\n    0x0107: {\n        name: 'Thresholding',\n        description: (value) => ({\n            1: 'No dithering or halftoning',\n            2: 'Ordered dither or halfton',\n            3: 'Randomized dither'\n        })[value] || 'Unknown'\n    },\n    0x0108: 'CellWidth',\n    0x0109: 'CellLength',\n    0x010a: {\n        name: 'FillOrder',\n        description: (value) => ({\n            1: 'Normal',\n            2: 'Reversed'\n        })[value] || 'Unknown'\n    },\n    0x010d: 'DocumentName',\n    0x010e: 'ImageDescription',\n    0x010f: 'Make',\n    0x0110: 'Model',\n    0x0111: 'StripOffsets',\n    0x0112: {\n        name: 'Orientation',\n        description: (value) => {\n            if (value === 1) {\n                return 'top-left';\n            }\n            if (value === 2) {\n                return 'top-right';\n            }\n            if (value === 3) {\n                return 'bottom-right';\n            }\n            if (value === 4) {\n                return 'bottom-left';\n            }\n            if (value === 5) {\n                return 'left-top';\n            }\n            if (value === 6) {\n                return 'right-top';\n            }\n            if (value === 7) {\n                return 'right-bottom';\n            }\n            if (value === 8) {\n                return 'left-bottom';\n            }\n            return 'Undefined';\n        }\n    },\n    0x0115: 'SamplesPerPixel',\n    0x0116: 'RowsPerStrip',\n    0x0117: 'StripByteCounts',\n    0x0118: 'MinSampleValue',\n    0x0119: 'MaxSampleValue',\n    0x011a: {\n        'name': 'XResolution',\n        'description': (value) => {\n            return '' + Math.round(value[0] / value[1]);\n        }\n    },\n    0x011b: {\n        'name': 'YResolution',\n        'description': (value) => {\n            return '' + Math.round(value[0] / value[1]);\n        }\n    },\n    0x011c: 'PlanarConfiguration',\n    0x011d: 'PageName',\n    0x011e: {\n        'name': 'XPosition',\n        'description': (value) => {\n            return '' + Math.round(value[0] / value[1]);\n        }\n    },\n    0x011f: {\n        'name': 'YPosition',\n        'description': (value) => {\n            return '' + Math.round(value[0] / value[1]);\n        }\n    },\n    0x0122: {\n        name: 'GrayResponseUnit',\n        description: (value) => ({\n            1: '0.1',\n            2: '0.001',\n            3: '0.0001',\n            4: '1e-05',\n            5: '1e-06'\n        })[value] || 'Unknown'\n    },\n    0x0128: {\n        name: 'ResolutionUnit',\n        description: (value) => {\n            if (value === 2) {\n                return 'inches';\n            }\n            if (value === 3) {\n                return 'centimeters';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0129: 'PageNumber',\n    0x012d: 'TransferFunction',\n    0x0131: 'Software',\n    0x0132: 'DateTime',\n    0x013b: 'Artist',\n    0x013c: 'HostComputer',\n    0x013d: 'Predictor',\n    0x013e: {\n        'name': 'WhitePoint',\n        'description': (values) => {\n            return values.map((value) => `${value[0]}/${value[1]}`).join(', ');\n        }\n    },\n    0x013f: {\n        'name': 'PrimaryChromaticities',\n        'description': (values) => {\n            return values.map((value) => `${value[0]}/${value[1]}`).join(', ');\n        }\n    },\n    0x0141: 'HalftoneHints',\n    0x0142: 'TileWidth',\n    0x0143: 'TileLength',\n    0x014a: 'A100DataOffset',\n    0x014c: {\n        name: 'InkSet',\n        description: (value) => ({\n            1: 'CMYK',\n            2: 'Not CMYK'\n        })[value] || 'Unknown'\n    },\n    0x0151: 'TargetPrinter',\n    0x0152: {\n        name: 'ExtraSamples',\n        description: (value) => ({\n            0: 'Unspecified',\n            1: 'Associated Alpha',\n            2: 'Unassociated Alpha',\n        })[value] || 'Unknown'\n    },\n    0x0153: {\n        name: 'SampleFormat',\n        description: (value) => {\n            const formats = {\n                1: 'Unsigned',\n                2: 'Signed',\n                3: 'Float',\n                4: 'Undefined',\n                5: 'Complex int',\n                6: 'Complex float',\n            };\n            if (!Array.isArray(value)) {\n                return 'Unknown';\n            }\n            return value.map((sample) => formats[sample] || 'Unknown').join(', ');\n        }\n    },\n    0x0201: 'JPEGInterchangeFormat',\n    0x0202: 'JPEGInterchangeFormatLength',\n    0x0211: {\n        'name': 'YCbCrCoefficients',\n        'description': (values) => {\n            return values.map((value) => '' + value[0] / value[1]).join('/');\n        }\n    },\n    0x0212: 'YCbCrSubSampling',\n    0x0213: {\n        name: 'YCbCrPositioning',\n        description: (value) => {\n            if (value === 1) {\n                return 'centered';\n            }\n            if (value === 2) {\n                return 'co-sited';\n            }\n            return 'undefined ' + value;\n        }\n    },\n    0x0214: {\n        'name': 'ReferenceBlackWhite',\n        'description': (values) => {\n            return values.map((value) => '' + value[0] / value[1]).join(', ');\n        }\n    },\n    0x02bc: 'ApplicationNotes',\n    0x4746: 'Rating',\n    0x4749: 'RatingPercent',\n    0x8298: {\n        name: 'Copyright',\n        description: (value) => value.join('; ')\n    },\n    0x830e: 'PixelScale',\n    0x83bb: 'IPTC-NAA',\n    0x8480: 'IntergraphMatrix',\n    0x8482: 'ModelTiePoint',\n    0x8546: 'SEMInfo',\n    0x85d8: 'ModelTransform',\n    0x8649: 'PhotoshopSettings',\n    0x8769: 'Exif IFD Pointer',\n    0x8773: 'ICC_Profile',\n    0x87af: 'GeoTiffDirectory',\n    0x87b0: 'GeoTiffDoubleParams',\n    0x87b1: 'GeoTiffAsciiParams',\n    0x8825: 'GPS Info IFD Pointer',\n    0x9c9b: 'XPTitle',\n    0x9c9c: 'XPComment',\n    0x9c9d: 'XPAuthor',\n    0x9c9e: 'XPKeywords',\n    0x9c9f: 'XPSubject',\n    0xa480: 'GDALMetadata',\n    0xa481: 'GDALNoData',\n    0xc4a5: 'PrintIM',\n    0xc613: 'DNGBackwardVersion',\n    0xc614: 'UniqueCameraModel',\n    0xc615: 'LocalizedCameraModel',\n    0xc621: 'ColorMatrix1',\n    0xc622: 'ColorMatrix2',\n    0xc623: 'CameraCalibration1',\n    0xc624: 'CameraCalibration2',\n    0xc625: 'ReductionMatrix1',\n    0xc626: 'ReductionMatrix2',\n    0xc627: 'AnalogBalance',\n    0xc628: 'AsShotNeutral',\n    0xc629: 'AsShotWhiteXY',\n    0xc62a: 'BaselineExposure',\n    0xc62b: 'BaselineNoise',\n    0xc62c: 'BaselineSharpness',\n    0xc62e: 'LinearResponseLimit',\n    0xc62f: 'CameraSerialNumber',\n    0xc630: 'DNGLensInfo',\n    0xc633: 'ShadowScale',\n    0xc635: {\n        name: 'MakerNoteSafety',\n        description: (value) => ({\n            0: 'Unsafe',\n            1: 'Safe'\n        })[value] || 'Unknown'\n    },\n    0xc65a: {\n        name: 'CalibrationIlluminant1',\n        description: TagNamesCommon['LightSource']\n    },\n    0xc65b: {\n        name: 'CalibrationIlluminant2',\n        description: TagNamesCommon['LightSource']\n    },\n    0xc65d: 'RawDataUniqueID',\n    0xc68b: 'OriginalRawFileName',\n    0xc68c: 'OriginalRawFileData',\n    0xc68f: 'AsShotICCProfile',\n    0xc690: 'AsShotPreProfileMatrix',\n    0xc691: 'CurrentICCProfile',\n    0xc692: 'CurrentPreProfileMatrix',\n    0xc6bf: 'ColorimetricReference',\n    0xc6c5: 'SRawType',\n    0xc6d2: 'PanasonicTitle',\n    0xc6d3: 'PanasonicTitle2',\n    0xc6f3: 'CameraCalibrationSig',\n    0xc6f4: 'ProfileCalibrationSig',\n    0xc6f5: 'ProfileIFD',\n    0xc6f6: 'AsShotProfileName',\n    0xc6f8: 'ProfileName',\n    0xc6f9: 'ProfileHueSatMapDims',\n    0xc6fa: 'ProfileHueSatMapData1',\n    0xc6fb: 'ProfileHueSatMapData2',\n    0xc6fc: 'ProfileToneCurve',\n    0xc6fd: {\n        name: 'ProfileEmbedPolicy',\n        description: (value) => ({\n            0: 'Allow Copying',\n            1: 'Embed if Used',\n            2: 'Never Embed',\n            3: 'No Restrictions'\n        })[value] || 'Unknown'\n    },\n    0xc6fe: 'ProfileCopyright',\n    0xc714: 'ForwardMatrix1',\n    0xc715: 'ForwardMatrix2',\n    0xc716: 'PreviewApplicationName',\n    0xc717: 'PreviewApplicationVersion',\n    0xc718: 'PreviewSettingsName',\n    0xc719: 'PreviewSettingsDigest',\n    0xc71a: {\n        name: 'PreviewColorSpace',\n        description: (value) => ({\n            1: 'Gray Gamma 2.2',\n            2: 'sRGB',\n            3: 'Adobe RGB',\n            4: 'ProPhoto RGB'\n        })[value] || 'Unknown'\n    },\n    0xc71b: 'PreviewDateTime',\n    0xc71c: 'RawImageDigest',\n    0xc71d: 'OriginalRawFileDigest',\n    0xc725: 'ProfileLookTableDims',\n    0xc726: 'ProfileLookTableData',\n    0xc763: 'TimeCodes',\n    0xc764: 'FrameRate',\n    0xc772: 'TStop',\n    0xc789: 'ReelName',\n    0xc791: 'OriginalDefaultFinalSize',\n    0xc792: 'OriginalBestQualitySize',\n    0xc793: 'OriginalDefaultCropSize',\n    0xc7a1: 'CameraLabel',\n    0xc7a3: {\n        name: 'ProfileHueSatMapEncoding',\n        description: (value) => ({\n            0: 'Linear',\n            1: 'sRGB'\n        })[value] || 'Unknown'\n    },\n    0xc7a4: {\n        name: 'ProfileLookTableEncoding',\n        description: (value) => ({\n            0: 'Linear',\n            1: 'sRGB'\n        })[value] || 'Unknown'\n    },\n    0xc7a5: 'BaselineExposureOffset',\n    0xc7a6: {\n        name: 'DefaultBlackRender',\n        description: (value) => ({\n            0: 'Auto',\n            1: 'None'\n        })[value] || 'Unknown'\n    },\n    0xc7a7: 'NewRawImageDigest',\n    0xc7a8: 'RawToPreviewGain'\n};\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringValue} from './tag-names-utils.js';\n\nexport default {\n    0x0001: 'InteroperabilityIndex',\n    0x0002: {\n        name: 'InteroperabilityVersion',\n        description: (value) => getStringValue(value)\n    },\n    0x1000: 'RelatedImageFileFormat',\n    0x1001: 'RelatedImageWidth',\n    0x1002: 'RelatedImageHeight'\n};\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport default {\n    get\n};\n\nfunction get() {\n    if (typeof TextDecoder !== 'undefined') {\n        return TextDecoder;\n    }\n\n    return undefined;\n}\n","/**\n * dependencies\n * - rxjs: https://rxjs-dev.firebaseapp.com\n */\n\nexport * from './types';\nexport * from './FileReadStream';\n","/**\n * 스트림 이벤트 타입\n *  - CHANGE: 변경사항이 있음\n *  - RESOLVE: 완료\n *  - REJECT: 오류\n * @export\n * @enum {string}\n */\nexport enum FileReadEventType {\n  CHANGE = 'CHANGE',\n  RESOLVE = 'RESOLVE',\n  REJECT = 'REJECT',\n  ABORT = 'ABORT',\n}\n\n/**\n * 스트림 이벤트\n * @export\n * @interface FileReadEvent\n */\nexport interface FileReadEvent {\n  /**\n   * 이벤트 타입명\n   * @type {FileReadEventType}\n   */\n  type: FileReadEventType;\n  /**\n   * 스트림 상태\n   * @type {FileReadState}\n   */\n  state: FileReadState;\n  /**\n   * 오류\n   * @type {*}\n   */\n  error?: any;\n}\n\n/**\n * 스트림 상태 정보\n * @export\n * @interface FileReadState\n */\nexport interface FileReadState {\n  /**\n   * 파일명\n   * @type {string}\n   */\n  fileName: string;\n  /**\n   * 파일의 (Mime)타입\n   * @type {string}\n   */\n  fileType: string;\n  /**\n   * 파일의 용량\n   * @type {number}\n   */\n  fileSize: number;\n  /**\n   * 파일의 마지막 수정시간\n   * @type {number}\n   */\n  fileLastModified: number;\n  /**\n   * 읽어들인 용량\n   * @type {number}\n   */\n  readed: number;\n  /**\n   * 읽어내야할 용량(파일 용량)\n   * @type {number}\n   */\n  total: number;\n  /**\n   * 1회 읽기시 읽어들일 용량\n   * @type {number}\n   */\n  chunkSize: number;\n  /**\n   * 읽기 완료 후 반환 타입\n   * @type {FileReadResponseType}\n   */\n  responseType: FileReadResponseType;\n  /**\n   * responseType 이 BUFFER 인 경우 반환하는 ArrayBuffer[]\n   * @type {ArrayBuffer[]}\n   */\n  buffers?: ArrayBuffer[];\n  /**\n   * responseType 이 BLOB 인 경우 반환하는 Blob\n   * @type {Blob}\n   */\n  blob?: Blob;\n}\n\n/**\n * 스트림 옵션\n * @export\n * @interface FileReadConfig\n */\nexport interface FileReadConfig {\n  /**\n   * 1회에 읽어들일 용량\n   * @type {number}\n   */\n  chunkSize?: number;\n  /**\n   * 읽기 완료 후 반환 타입\n   * @type {FileReadResponseType}\n   */\n  responseType?: FileReadResponseType;\n}\n\n/**\n * 스트립 상태 정보 중 완료시 파일 타입.\n *  - BUFFER: ArrayBuffer[] 타입\n *  - BLOB: Blob 타입\n * @export\n * @enum {string}\n */\nexport enum FileReadResponseType {\n  BUFFER = 'BUFFER',\n  BLOB = 'BLOB',\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport IptcTagNames from './iptc-tag-names.js';\nimport TagDecoder from './tag-decoder.js';\n\nconst BYTES_8BIM = 0x3842494d;\nconst BYTES_8BIM_SIZE = 4;\nconst RESOURCE_BLOCK_HEADER_SIZE = BYTES_8BIM_SIZE + 8;\nconst NAA_RESOURCE_BLOCK_TYPE = 0x0404;\nconst TAG_HEADER_SIZE = 5;\n\nexport default {\n    read\n};\n\nfunction read(dataView, dataOffset) {\n    try {\n        if (Array.isArray(dataView)) {\n            return parseTags(new DataView(Uint8Array.from(dataView).buffer), {size: dataView.length}, 0);\n        }\n        const {naaBlock, dataOffset: newDataOffset} = getNaaResourceBlock(dataView, dataOffset);\n        return parseTags(dataView, naaBlock, newDataOffset);\n    } catch (error) {\n        return {};\n    }\n}\n\nfunction getNaaResourceBlock(dataView, dataOffset) {\n    while (dataOffset + RESOURCE_BLOCK_HEADER_SIZE <= dataView.byteLength) {\n        const resourceBlock = getResourceBlock(dataView, dataOffset);\n        if (isNaaResourceBlock(resourceBlock)) {\n            return {naaBlock: resourceBlock, dataOffset: dataOffset + RESOURCE_BLOCK_HEADER_SIZE};\n        }\n        dataOffset += RESOURCE_BLOCK_HEADER_SIZE + resourceBlock.size + getBlockPadding(resourceBlock);\n    }\n    throw new Error('No IPTC NAA resource block.');\n}\n\nfunction getResourceBlock(dataView, dataOffset) {\n    const RESOURCE_BLOCK_SIZE_OFFSET = 10;\n\n    if (dataView.getUint32(dataOffset, false) !== BYTES_8BIM) {\n        throw new Error('Not an IPTC resource block.');\n    }\n\n    return {\n        type: dataView.getUint16(dataOffset + BYTES_8BIM_SIZE),\n        size: dataView.getUint16(dataOffset + RESOURCE_BLOCK_SIZE_OFFSET)\n    };\n}\n\nfunction isNaaResourceBlock(resourceBlock) {\n    return resourceBlock.type === NAA_RESOURCE_BLOCK_TYPE;\n}\n\nfunction getBlockPadding(resourceBlock) {\n    if (resourceBlock.size % 2 !== 0) {\n        return 1;\n    }\n    return 0;\n}\n\nfunction parseTags(dataView, naaBlock, dataOffset) {\n    const tags = {};\n    let encoding = undefined;\n\n    const endOfBlockOffset = dataOffset + naaBlock['size'];\n\n    while ((dataOffset < endOfBlockOffset) && (dataOffset < dataView.byteLength)) {\n        const {tag, tagSize} = readTag(dataView, dataOffset, tags, encoding);\n\n        if (tag === null) {\n            break;\n        }\n\n        if ('encoding' in tag) {\n            encoding = tag.encoding;\n        }\n\n        if ((tags[tag.name] === undefined) || (tag['repeatable'] === undefined)) {\n            tags[tag.name] = {\n                id: tag.id,\n                value: tag.value,\n                description: tag.description\n            };\n        } else {\n            if (!(tags[tag.name] instanceof Array)) {\n                tags[tag.name] = [{\n                    id: tags[tag.name].id,\n                    value: tags[tag.name].value,\n                    description: tags[tag.name].description\n                }];\n            }\n            tags[tag.name].push({\n                id: tag.id,\n                value: tag.value,\n                description: tag.description\n            });\n        }\n\n        dataOffset += TAG_HEADER_SIZE + tagSize;\n    }\n\n    return tags;\n}\n\nfunction readTag(dataView, dataOffset, tags, encoding) {\n    const TAG_CODE_OFFSET = 1;\n    const TAG_SIZE_OFFSET = 3;\n\n    if (leadByteIsMissing(dataView, dataOffset)) {\n        return {tag: null, tagSize: 0};\n    }\n\n    const tagCode = dataView.getUint16(dataOffset + TAG_CODE_OFFSET);\n    const tagSize = dataView.getUint16(dataOffset + TAG_SIZE_OFFSET);\n    const tagValue = getTagValue(dataView, dataOffset + TAG_HEADER_SIZE, tagSize);\n\n    const tag = {\n        id: tagCode,\n        name: getTagName(IptcTagNames['iptc'][tagCode], tagCode, tagValue),\n        value: tagValue,\n        description: getTagDescription(IptcTagNames['iptc'][tagCode], tagValue, tags, encoding)\n    };\n    if (tagIsRepeatable(tagCode)) {\n        tag['repeatable'] = true;\n    }\n    if (tagContainsEncoding(tagCode)) {\n        tag['encoding'] = IptcTagNames['iptc'][tagCode]['encoding_name'](tagValue);\n    }\n\n    return {tag, tagSize};\n}\n\nfunction leadByteIsMissing(dataView, dataOffset) {\n    const TAG_LEAD_BYTE = 0x1c;\n    return dataView.getUint8(dataOffset) !== TAG_LEAD_BYTE;\n}\n\nfunction getTagValue(dataView, offset, size) {\n    const value = [];\n\n    for (let valueIndex = 0; valueIndex < size; valueIndex++) {\n        value.push(dataView.getUint8(offset + valueIndex));\n    }\n\n    return value;\n}\n\nfunction getTagName(tag, tagCode, tagValue) {\n    if (!tag) {\n        return `undefined-${tagCode}`;\n    }\n    if (tagIsName(tag)) {\n        return tag;\n    }\n    if (hasDynamicName(tag)) {\n        return tag['name'](tagValue);\n    }\n    return tag['name'];\n}\n\nfunction tagIsName(tag) {\n    return typeof tag === 'string';\n}\n\nfunction hasDynamicName(tag) {\n    return typeof (tag['name']) === 'function';\n}\n\nfunction getTagDescription(tag, tagValue, tags, encoding) {\n    if (hasDescriptionProperty(tag)) {\n        try {\n            return tag['description'](tagValue, tags);\n        } catch (error) {\n            // Fall through to next handler.\n        }\n    }\n    if (tagValueIsText(tag, tagValue)) {\n        return TagDecoder.decode(encoding, tagValue);\n    }\n    return tagValue;\n}\n\nfunction tagValueIsText(tag, tagValue) {\n    return tag && tagValue instanceof Array;\n}\n\nfunction hasDescriptionProperty(tag) {\n    return tag && tag['description'] !== undefined;\n}\n\nfunction tagIsRepeatable(tagCode) {\n    return IptcTagNames['iptc'][tagCode] && IptcTagNames['iptc'][tagCode]['repeatable'];\n}\n\nfunction tagContainsEncoding(tagCode) {\n    return IptcTagNames['iptc'][tagCode] && IptcTagNames['iptc'][tagCode]['encoding_name'] !== undefined;\n}\n","export default \".file-wrap {\\n  padding: 30px 0;\\n}\\n\\n.my-desc {\\n  padding: 7px 10px 7px 22px;\\n  color: #666666;\\n  font-size: 14px;\\n  line-height: 1.45;\\n}\\n\\n.my-desc .item {\\n  padding: 3px 0;\\n  list-style: outside square;\\n}\\n\\n.fm-box-wrap {\\n  display: flex;\\n  flex-wrap: wrap;\\n}\\n\\n.fm-box-wrap .fm-box {\\n  flex: 1;\\n  margin: 5px;\\n  padding: 10px 15px;\\n  min-width: 240px;\\n  width: 25%;\\n  border-radius: 5px;\\n  box-sizing: border-box;\\n  background-color: #f7f7f7;\\n}\\n\\n.fm-box-wrap .fm-box .label {\\n  display: block;\\n  font-size: 14px;\\n  color: #666666;\\n}\\n\\n.fm-box-wrap .fm-box .box {\\n  margin-top: 5px;\\n  padding: 5px 0;\\n}\\n\\n.fm-box-wrap .fm-input {\\n  display: block;\\n  padding: 0 10px;\\n  width: 100%;\\n  height: 32px;\\n  font-size: 16px;\\n  box-sizing: border-box;\\n  border-radius: 0;\\n  border: none;\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\\n  background: none;\\n  -webkit-appearance: none;\\n     -moz-appearance: none;\\n          appearance: none;\\n}\\n\\n.demo-wrap {\\n  display: flex;\\n  flex-wrap: wrap;\\n}\\n\\n.demo-wrap .demo-item {\\n  padding: 10px;\\n  width: 50%;\\n  min-width: 280px;\\n  box-sizing: border-box;\\n}\\n\\n.demo-wrap .demo-item .panel-info {\\n  padding: 10px 10px;\\n  font-size: 14px;\\n  box-sizing: border-box;\\n}\\n\\n.demo-wrap .demo-item .panel-info .tit {\\n  display: block;\\n  padding-bottom: 5px;\\n  font-size: 16px;\\n  font-style: normal;\\n  font-weight: bold;\\n}\\n\\n.demo-wrap .demo-item .panel-info .dl {\\n  display: flex;\\n  padding: 5px 0;\\n  align-items: center;\\n}\\n\\n.demo-wrap .demo-item .panel-info .dl .dt {\\n  width: 50px;\\n  color: #999999;\\n}\\n\\n.demo-wrap .demo-item .panel-info .dl .dd {\\n  color: #000000;\\n}\\n\\n.demo-wrap .demo-item .panel-canvas {\\n  position: relative;\\n  padding-bottom: 100%;\\n  box-sizing: border-box;\\n}\\n\\n.demo-wrap .demo-item .panel-canvas .draw-area {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  overflow: auto;\\n  box-sizing: border-box;\\n  border: 1px dashed #000000;\\n  background-color: #f9f9f9;\\n  background-image: linear-gradient(45deg, #d9d9d9 25%, transparent 25%, transparent 75%, #d9d9d9 75%, #d9d9d9), linear-gradient(45deg, #d9d9d9 25%, transparent 25%, transparent 75%, #d9d9d9 75%, #d9d9d9);\\n  background-size: 20px 20px;\\n  background-position: 0 0, 10px 10px;\\n}\\n\\n.demo-wrap .demo-item .panel-canvas .draw-area > canvas {\\n  display: block;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2Jsb2ItaW1hZ2UuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFBO0FBQ0Y7O0FBQ0E7RUFDRSwwQkFBQTtFQUNBLGNBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7QUFFRjs7QUFERTtFQUNFLGNBQUE7RUFDQSwwQkFBQTtBQUdKOztBQUFBO0VBQ0UsYUFBQTtFQUNBLGVBQUE7QUFHRjs7QUFGRTtFQUNFLE9BQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLFVBQUE7RUFDQSxrQkFBQTtFQUNBLHNCQUFBO0VBQ0EseUJBQUE7QUFJSjs7QUFISTtFQUNFLGNBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtBQUtOOztBQUhJO0VBQ0UsZUFBQTtFQUNBLGNBQUE7QUFLTjs7QUFGRTtFQUNFLGNBQUE7RUFDQSxlQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0VBQ0Esc0JBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7RUFDQSwyQ0FBQTtFQUNBLGdCQUFBO0VBQ0Esd0JBQUE7S0FBQSxxQkFBQTtVQUFBLGdCQUFBO0FBSUo7O0FBREE7RUFDRSxhQUFBO0VBQ0EsZUFBQTtBQUlGOztBQUhFO0VBQ0UsYUFBQTtFQUNBLFVBQUE7RUFDQSxnQkFBQTtFQUNBLHNCQUFBO0FBS0o7O0FBSkk7RUFDRSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxzQkFBQTtBQU1OOztBQUxNO0VBQ0UsY0FBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7QUFPUjs7QUFMTTtFQUNFLGFBQUE7RUFDQSxjQUFBO0VBQ0EsbUJBQUE7QUFPUjs7QUFOUTtFQUNFLFdBQUE7RUFDQSxjQUFBO0FBUVY7O0FBTlE7RUFDRSxjQUFBO0FBUVY7O0FBSEk7RUFDRSxrQkFBQTtFQUNBLG9CQUFBO0VBQ0Esc0JBQUE7QUFLTjs7QUFKTTtFQUNFLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGNBQUE7RUFDQSxzQkFBQTtFQUNBLDBCQUFBO0VBQ0EseUJBQUE7RUFDQSwwTUFBQTtFQWdCQSwwQkFBQTtFQUNBLG1DQUFBO0FBVFI7O0FBVVE7RUFDRSxjQUFBO0FBUlYiLCJmaWxlIjoiYmxvYi1pbWFnZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5maWxlLXdyYXAge1xuICBwYWRkaW5nOiAzMHB4IDA7XG59XG4ubXktZGVzYyB7XG4gIHBhZGRpbmc6IDdweCAxMHB4IDdweCAyMnB4O1xuICBjb2xvcjogIzY2NjY2NjtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBsaW5lLWhlaWdodDogMS40NTtcbiAgLml0ZW0ge1xuICAgIHBhZGRpbmc6IDNweCAwO1xuICAgIGxpc3Qtc3R5bGU6IG91dHNpZGUgc3F1YXJlO1xuICB9XG59XG4uZm0tYm94LXdyYXAge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LXdyYXA6IHdyYXA7XG4gIC5mbS1ib3gge1xuICAgIGZsZXg6IDE7XG4gICAgbWFyZ2luOiA1cHg7XG4gICAgcGFkZGluZzogMTBweCAxNXB4O1xuICAgIG1pbi13aWR0aDogMjQwcHg7XG4gICAgd2lkdGg6IDI1JTtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmN2Y3O1xuICAgIC5sYWJlbCB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIGNvbG9yOiAjNjY2NjY2O1xuICAgIH1cbiAgICAuYm94IHtcbiAgICAgIG1hcmdpbi10b3A6IDVweDtcbiAgICAgIHBhZGRpbmc6IDVweCAwO1xuICAgIH1cbiAgfVxuICAuZm0taW5wdXQge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIHBhZGRpbmc6IDAgMTBweDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDMycHg7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgYm9yZGVyLXJhZGl1czogMDtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgIGFwcGVhcmFuY2U6IG5vbmU7XG4gIH1cbn1cbi5kZW1vLXdyYXAge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LXdyYXA6IHdyYXA7XG4gIC5kZW1vLWl0ZW0ge1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgd2lkdGg6IDUwJTtcbiAgICBtaW4td2lkdGg6IDI4MHB4O1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgLnBhbmVsLWluZm8ge1xuICAgICAgcGFkZGluZzogMTBweCAxMHB4O1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgIC50aXQge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDVweDtcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICBmb250LXN0eWxlOiBub3JtYWw7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgfVxuICAgICAgLmRsIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgcGFkZGluZzogNXB4IDA7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIC5kdCB7XG4gICAgICAgICAgd2lkdGg6IDUwcHg7XG4gICAgICAgICAgY29sb3I6ICM5OTk5OTk7XG4gICAgICAgIH1cbiAgICAgICAgLmRkIHtcbiAgICAgICAgICBjb2xvcjogIzAwMDAwMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC5wYW5lbC1jYW52YXMge1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgcGFkZGluZy1ib3R0b206IDEwMCU7XG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgLmRyYXctYXJlYSB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICBvdmVyZmxvdzogYXV0bztcbiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgICAgYm9yZGVyOiAxcHggZGFzaGVkICMwMDAwMDA7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7XG4gICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudChcbiAgICAgICAgICAgIDQ1ZGVnLFxuICAgICAgICAgICAgI2Q5ZDlkOSAyNSUsXG4gICAgICAgICAgICB0cmFuc3BhcmVudCAyNSUsXG4gICAgICAgICAgICB0cmFuc3BhcmVudCA3NSUsXG4gICAgICAgICAgICAjZDlkOWQ5IDc1JSxcbiAgICAgICAgICAgICNkOWQ5ZDlcbiAgICAgICAgICApLFxuICAgICAgICAgIGxpbmVhci1ncmFkaWVudChcbiAgICAgICAgICAgIDQ1ZGVnLFxuICAgICAgICAgICAgI2Q5ZDlkOSAyNSUsXG4gICAgICAgICAgICB0cmFuc3BhcmVudCAyNSUsXG4gICAgICAgICAgICB0cmFuc3BhcmVudCA3NSUsXG4gICAgICAgICAgICAjZDlkOWQ5IDc1JSxcbiAgICAgICAgICAgICNkOWQ5ZDlcbiAgICAgICAgICApO1xuICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IDIwcHggMjBweDtcbiAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAwLCAxMHB4IDEwcHg7XG4gICAgICAgID4gY2FudmFzIHtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIl19 */\";","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport default {\n    get\n};\n\nfunction get() {\n    if (typeof DOMParser !== 'undefined') {\n        return DOMParser;\n    }\n    try {\n        return eval('require')('xmldom').DOMParser; // This stops Webpack from replacing the require with a generic import and bundling the module.\n    } catch (error) {\n        return undefined;\n    }\n}\n","export default class DataView {\n    constructor(buffer) {\n        if (bufferTypeIsUnsupported(buffer)) {\n            throw new Error('DataView: Passed buffer type is unsupported.');\n        }\n\n        this.buffer = buffer;\n        this.byteLength = this.buffer.length;\n    }\n\n    getUint8(offset) {\n        return this.buffer.readUInt8(offset);\n    }\n\n    getUint16(offset, littleEndian) {\n        if (littleEndian) {\n            return this.buffer.readUInt16LE(offset);\n        }\n        return this.buffer.readUInt16BE(offset);\n    }\n\n    getUint32(offset, littleEndian) {\n        if (littleEndian) {\n            return this.buffer.readUInt32LE(offset);\n        }\n        return this.buffer.readUInt32BE(offset);\n    }\n\n    getInt32(offset, littleEndian) {\n        if (littleEndian) {\n            return this.buffer.readInt32LE(offset);\n        }\n        return this.buffer.readInt32BE(offset);\n    }\n}\n\nfunction bufferTypeIsUnsupported(buffer) {\n    return typeof buffer !== 'object'\n        || buffer.length === undefined\n        || buffer.readUInt8 === undefined\n        || buffer.readUInt16LE === undefined\n        || buffer.readUInt16BE === undefined\n        || buffer.readUInt32LE === undefined\n        || buffer.readUInt32BE === undefined\n        || buffer.readInt32LE === undefined\n        || buffer.readInt32BE === undefined;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport function getStringValue(value) {\n    return value.map((charCode) => String.fromCharCode(charCode)).join('');\n}\n\nexport function getEncodedString(value) {\n    if (value.length >= 8) {\n        const encoding = getStringValue(value.slice(0, 8));\n\n        if (encoding === 'ASCII\\x00\\x00\\x00') {\n            return getStringValue(value.slice(8));\n        } else if (encoding === 'JIS\\x00\\x00\\x00\\x00\\x00') {\n            return '[JIS encoded text]';\n        } else if (encoding === 'UNICODE\\x00') {\n            return '[Unicode encoded text]';\n        } else if (encoding === '\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00') {\n            return '[Undefined encoding]';\n        }\n    }\n\n    return 'Undefined';\n}\n\nexport function getCalculatedGpsValue(value) {\n    return (value[0][0] / value[0][1]) + (value[1][0] / value[1][1]) / 60 + (value[2][0] / value[2][1]) / 3600;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport Constants from './constants.js';\nimport {objectAssign} from './utils.js';\nimport ByteOrder from './byte-order.js';\nimport Types from './types.js';\nimport TagNames from './tag-names.js';\n\nconst EXIF_IFD_POINTER_KEY = 'Exif IFD Pointer';\nconst GPS_INFO_IFD_POINTER_KEY = 'GPS Info IFD Pointer';\nconst INTEROPERABILITY_IFD_POINTER_KEY = 'Interoperability IFD Pointer';\n\nconst getTagValueAt = {\n    1: Types.getByteAt,\n    2: Types.getAsciiAt,\n    3: Types.getShortAt,\n    4: Types.getLongAt,\n    5: Types.getRationalAt,\n    7: Types.getUndefinedAt,\n    9: Types.getSlongAt,\n    10: Types.getSrationalAt,\n    13: Types.getIfdPointerAt\n};\n\nexport default {\n    read\n};\n\nfunction read(dataView, tiffHeaderOffset) {\n    const byteOrder = ByteOrder.getByteOrder(dataView, tiffHeaderOffset);\n    let tags = read0thIfd(dataView, tiffHeaderOffset, byteOrder);\n    tags = readExifIfd(tags, dataView, tiffHeaderOffset, byteOrder);\n    tags = readGpsIfd(tags, dataView, tiffHeaderOffset, byteOrder);\n    tags = readInteroperabilityIfd(tags, dataView, tiffHeaderOffset, byteOrder);\n\n    return tags;\n}\n\nfunction read0thIfd(dataView, tiffHeaderOffset, byteOrder) {\n    return readIfd(dataView, '0th', tiffHeaderOffset, get0thIfdOffset(dataView, tiffHeaderOffset, byteOrder), byteOrder);\n}\n\nfunction get0thIfdOffset(dataView, tiffHeaderOffset, byteOrder) {\n    return tiffHeaderOffset + Types.getLongAt(dataView, tiffHeaderOffset + 4, byteOrder);\n}\n\nfunction readExifIfd(tags, dataView, tiffHeaderOffset, byteOrder) {\n    if (tags[EXIF_IFD_POINTER_KEY] !== undefined) {\n        return objectAssign(tags, readIfd(dataView, 'exif', tiffHeaderOffset, tiffHeaderOffset + tags[EXIF_IFD_POINTER_KEY].value, byteOrder));\n    }\n\n    return tags;\n}\n\nfunction readGpsIfd(tags, dataView, tiffHeaderOffset, byteOrder) {\n    if (tags[GPS_INFO_IFD_POINTER_KEY] !== undefined) {\n        return objectAssign(tags, readIfd(dataView, 'gps', tiffHeaderOffset, tiffHeaderOffset + tags[GPS_INFO_IFD_POINTER_KEY].value, byteOrder));\n    }\n\n    return tags;\n}\n\nfunction readInteroperabilityIfd(tags, dataView, tiffHeaderOffset, byteOrder) {\n    if (tags[INTEROPERABILITY_IFD_POINTER_KEY] !== undefined) {\n        return objectAssign(tags, readIfd(dataView, 'interoperability', tiffHeaderOffset, tiffHeaderOffset + tags[INTEROPERABILITY_IFD_POINTER_KEY].value, byteOrder));\n    }\n\n    return tags;\n}\n\nfunction readIfd(dataView, ifdType, tiffHeaderOffset, offset, byteOrder) {\n    const FIELD_COUNT_SIZE = Types.getTypeSize('SHORT');\n    const FIELD_SIZE = 12;\n\n    const tags = {};\n    const numberOfFields = getNumberOfFields(dataView, offset, byteOrder);\n\n    offset += FIELD_COUNT_SIZE;\n    for (let fieldIndex = 0; fieldIndex < numberOfFields; fieldIndex++) {\n        if (offset + FIELD_SIZE > dataView.byteLength) {\n            break;\n        }\n\n        const tag = readTag(dataView, ifdType, tiffHeaderOffset, offset, byteOrder);\n        if (tag !== undefined) {\n            tags[tag.name] = {\n                'id': tag.id,\n                'value': tag.value,\n                'description': tag.description\n            };\n        }\n\n        offset += FIELD_SIZE;\n    }\n\n    if (Constants.USE_THUMBNAIL && (offset < dataView.byteLength - Types.getTypeSize('LONG'))) {\n        const nextIfdOffset = Types.getLongAt(dataView, offset, byteOrder);\n        if (nextIfdOffset !== 0) {\n            tags['Thumbnail'] = readIfd(dataView, ifdType, tiffHeaderOffset, tiffHeaderOffset + nextIfdOffset, byteOrder);\n        }\n    }\n\n    return tags;\n}\n\nfunction getNumberOfFields(dataView, offset, byteOrder) {\n    if (offset + Types.getTypeSize('SHORT') <= dataView.byteLength) {\n        return Types.getShortAt(dataView, offset, byteOrder);\n    }\n    return 0;\n}\n\nfunction readTag(dataView, ifdType, tiffHeaderOffset, offset, byteOrder) {\n    const TAG_CODE_IPTC_NAA = 0x83bb;\n    const TAG_TYPE_OFFSET = Types.getTypeSize('SHORT');\n    const TAG_COUNT_OFFSET = TAG_TYPE_OFFSET + Types.getTypeSize('SHORT');\n    const TAG_VALUE_OFFSET = TAG_COUNT_OFFSET + Types.getTypeSize('LONG');\n\n    const tagCode = Types.getShortAt(dataView, offset, byteOrder);\n    const tagType = Types.getShortAt(dataView, offset + TAG_TYPE_OFFSET, byteOrder);\n    const tagCount = Types.getLongAt(dataView, offset + TAG_COUNT_OFFSET, byteOrder);\n    let tagValue;\n\n    if (Types.typeSizes[tagType] === undefined) {\n        return undefined;\n    }\n\n    if (tagValueFitsInOffsetSlot(tagType, tagCount)) {\n        tagValue = getTagValue(dataView, offset + TAG_VALUE_OFFSET, tagType, tagCount, byteOrder);\n    } else {\n        const tagValueOffset = Types.getLongAt(dataView, offset + TAG_VALUE_OFFSET, byteOrder);\n        if (tagValueFitsInDataView(dataView, tiffHeaderOffset, tagValueOffset, tagType, tagCount)) {\n            const forceByteType = tagCode === TAG_CODE_IPTC_NAA;\n            tagValue = getTagValue(dataView, tiffHeaderOffset + tagValueOffset, tagType, tagCount, byteOrder, forceByteType);\n        } else {\n            tagValue = '<faulty value>';\n        }\n    }\n\n    if (tagType === Types.tagTypes['ASCII']) {\n        tagValue = splitNullSeparatedAsciiString(tagValue);\n        tagValue = decodeAsciiValue(tagValue);\n    }\n\n    let tagName = `undefined-${tagCode}`;\n    let tagDescription = tagValue;\n\n    if (TagNames[ifdType][tagCode] !== undefined) {\n        if ((TagNames[ifdType][tagCode]['name'] !== undefined) && (TagNames[ifdType][tagCode]['description'] !== undefined)) {\n            tagName = TagNames[ifdType][tagCode]['name'];\n            try {\n                tagDescription = TagNames[ifdType][tagCode]['description'](tagValue);\n            } catch (error) {\n                tagDescription = getDescriptionFromTagValue(tagValue);\n            }\n        } else if ((tagType === Types.tagTypes['RATIONAL']) || (tagType === Types.tagTypes['SRATIONAL'])) {\n            tagName = TagNames[ifdType][tagCode];\n            tagDescription = '' + (tagValue[0] / tagValue[1]);\n        } else {\n            tagName = TagNames[ifdType][tagCode];\n            tagDescription = getDescriptionFromTagValue(tagValue);\n        }\n    }\n\n    return {\n        id: tagCode,\n        name: tagName,\n        value: tagValue,\n        description: tagDescription\n    };\n}\n\nfunction tagValueFitsInOffsetSlot(tagType, tagCount) {\n    return Types.typeSizes[tagType] * tagCount <= Types.getTypeSize('LONG');\n}\n\nfunction getTagValue(dataView, offset, type, count, byteOrder, forceByteType = false) {\n    let value = [];\n\n    if (forceByteType) {\n        count = count * Types.typeSizes[type];\n        type = Types.tagTypes['BYTE'];\n    }\n    for (let valueIndex = 0; valueIndex < count; valueIndex++) {\n        value.push(getTagValueAt[type](dataView, offset, byteOrder));\n        offset += Types.typeSizes[type];\n    }\n\n    if (type === Types.tagTypes['ASCII']) {\n        value = Types.getAsciiValue(value);\n    } else if (value.length === 1) {\n        value = value[0];\n    }\n\n    return value;\n}\n\nfunction tagValueFitsInDataView(dataView, tiffHeaderOffset, tagValueOffset, tagType, tagCount) {\n    return tiffHeaderOffset + tagValueOffset + Types.typeSizes[tagType] * tagCount <= dataView.byteLength;\n}\n\nfunction splitNullSeparatedAsciiString(string) {\n    const tagValue = [];\n    let i = 0;\n\n    for (let j = 0; j < string.length; j++) {\n        if (string[j] === '\\x00') {\n            i++;\n            continue;\n        }\n        if (tagValue[i] === undefined) {\n            tagValue[i] = '';\n        }\n        tagValue[i] += string[j];\n    }\n\n    return tagValue;\n}\n\nfunction decodeAsciiValue(asciiValue) {\n    try {\n        return asciiValue.map((value) => decodeURIComponent(escape(value)));\n    } catch (error) {\n        return asciiValue;\n    }\n}\n\nfunction getDescriptionFromTagValue(tagValue) {\n    if (tagValue instanceof Array) {\n        return tagValue.join(', ');\n    }\n    return tagValue;\n}\n","import { Component, OnInit, ElementRef, ViewChildren, QueryList } from '@angular/core';\nimport { BlobImageResize, ResizeType } from 'projects/packages/src/public-api';\n\ninterface Info {\n  title: string;\n  type: string;\n  size: number;\n  width: number;\n  height: number;\n}\n\n@Component({\n  selector: 'demo-blob-image',\n  templateUrl: './blob-image.component.html',\n  styleUrls: ['./blob-image.component.scss'],\n})\nexport class BlobImageComponent implements OnInit {\n  constructor() {}\n\n  infos: Info[];\n  optionWidths: { label: string; value: number }[];\n  optionHeights: { label: string; value: number }[];\n  optionQualities: { label: string; value: number }[];\n  testWidth: number = 200;\n  testHeight: number = 0;\n  testQuality: number = 0.9;\n  testContentType: string = '';\n  testFillBgColor: string = '';\n  testApplyOrientation: boolean = false;\n\n  @ViewChildren('demoCanvasRefs') demoCanvasRefs: QueryList<ElementRef<HTMLCanvasElement>>;\n  demoList: any[];\n\n  ngOnInit() {\n    this.optionWidths = Array.from(Array(10)).map((a, b) => {\n      const index = b; // + 1;\n      const size = 100 * index;\n      return { value: size, label: size.toString() };\n    });\n    this.optionHeights = Array.from(Array(10)).map((a, b) => {\n      const index = b; // + 1;\n      const size = 100 * index;\n      return { value: size, label: size.toString() };\n    });\n    this.optionQualities = Array.from(Array(10)).map((a, b) => {\n      const index = b + 1;\n      const size = parseFloat((0.1 * index).toFixed(1));\n      return { value: size, label: size.toString() };\n    });\n    this.demoList = [\n      { title: 'original', info: null, resizeType: null },\n      { title: 'resize - fixed', info: null, resizeType: ResizeType.FIXED },\n      { title: 'resize - scale', info: null, resizeType: ResizeType.SCALE },\n      { title: 'resize - scale stretch', info: null, resizeType: ResizeType.SCALE_STRETCH },\n      { title: 'resize - cover', info: null, resizeType: ResizeType.COVER },\n      { title: 'resize - cover stretch', info: null, resizeType: ResizeType.COVER_STRETCH },\n    ];\n  }\n\n  onFileChange(evt) {\n    const { files = [] } = (evt && evt.target) || {};\n    const file = files[0];\n    if (!file) return;\n    this.resizeStart(file);\n    evt.target.value = null;\n  }\n\n  async resizeStart(file: File) {\n    this.infos = [];\n    const originalBlob = new Blob([file], { type: file.type });\n    const len = this.demoList.length;\n    const refCanvasList = this.demoCanvasRefs.toArray();\n    for (let i = 0; i < len; i++) {\n      const demo = this.demoList[i];\n      const { nativeElement } = refCanvasList[i];\n      const info = await this.drawResizeDemo(nativeElement, originalBlob, demo.resizeType);\n      demo.info = {\n        ...info,\n        title: demo.title,\n      };\n    }\n  }\n\n  private async drawResizeDemo(canvas: HTMLCanvasElement, blob: Blob, resizeType: ResizeType) {\n    const expectWidth = this.testWidth;\n    const expectHeight = this.testHeight;\n    const expectContentType = this.testContentType || undefined;\n    const quality = this.testQuality;\n    const fillBgColor = this.testFillBgColor || undefined;\n    const applyOrientation = this.testApplyOrientation || false;\n    let resizeBlob: Blob = blob;\n    let resizeCanvas: HTMLCanvasElement;\n    let resizeWidth: number = 0;\n    let resizeHeight: number = 0;\n    if (ResizeType[resizeType]) {\n      const resizer = new BlobImageResize(blob, {\n        expectWidth,\n        expectHeight,\n        quality,\n        resizeType,\n        expectContentType,\n        fillBgColor,\n        applyOrientation,\n      });\n      const resizeResult = await resizer.create();\n      resizeBlob = resizeResult.blob;\n      resizeWidth = resizeResult.width;\n      resizeHeight = resizeResult.height;\n      resizeCanvas = await this.drawToCanvas(canvas, {\n        blob: resizeBlob,\n        width: resizeWidth,\n        height: resizeHeight,\n      });\n      console.log(resizeResult);\n    } else {\n      // original ...\n      resizeBlob = blob;\n      resizeCanvas = await this.drawToCanvas(canvas, {\n        blob: resizeBlob,\n        width: 0,\n        height: 0,\n      });\n    }\n    return Promise.resolve({\n      size: resizeBlob.size,\n      type: resizeBlob.type,\n      width: resizeCanvas.width,\n      height: resizeCanvas.height,\n    });\n  }\n\n  private async drawToCanvas(\n    canvas: HTMLCanvasElement,\n    draw: { blob: Blob; width: number; height: number }\n  ): Promise<HTMLCanvasElement> {\n    return new Promise((resolve) => {\n      const { blob, width, height } = draw;\n      const context = canvas.getContext('2d');\n      const image = new Image();\n      image.onload = () => {\n        canvas.width = width || image.naturalWidth;\n        canvas.height = height || image.naturalHeight;\n        context.drawImage(image, 0, 0);\n        URL.revokeObjectURL(image.src);\n        resolve(canvas);\n      };\n      image.onerror = () => {\n        console.error('image load error');\n        URL.revokeObjectURL(image.src);\n        resolve(canvas);\n      };\n      image.src = URL.createObjectURL(blob);\n    });\n  }\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\n/**\n * Thrown when no Exif metadata was found for the given image.\n *\n * @param {string} message The error message.\n */\nfunction MetadataMissingError(message) {\n    this.name = 'MetadataMissingError';\n    this.message = message || 'No Exif data';\n    this.stack = (new Error()).stack;\n}\n\nMetadataMissingError.prototype = new Error;\n\nexport default {\n    MetadataMissingError,\n};\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringFromDataView} from './utils.js';\n\nexport const iccTags = {\n    'desc': {\n        'name': 'ICC Description',\n    },\n    'cprt': {\n        'name': 'ICC Copyright',\n    },\n    'dmdd': {\n        'name': 'ICC Device Model Description',\n    },\n    'vued': {\n        'name': 'ICC Viewing Conditions Description',\n    },\n    'dmnd': {\n        'name': 'ICC Device Manufacturer for Display',\n    },\n    'tech': {\n        'name': 'Technology',\n    },\n};\n\nexport const iccProfile = {\n    4: {\n        'name': 'Preferred CMM type',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4),\n        'description': (value) => value !== null ? toCompany(value) : '',\n    },\n    8: {\n        'name': 'Profile Version',\n        'value': (dataView, offset) => {\n            return (dataView.getUint8(offset)).toString(10) + '.'\n            + (dataView.getUint8(offset + 1) >> 4).toString(10) + '.'\n            + (dataView.getUint8(offset + 1) % 16).toString(10);\n        }\n    },\n    12: {\n        'name': 'Profile/Device class',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4),\n        'description': (value) => {\n            switch (value.toLowerCase()) {\n                case 'scnr': return 'Input Device profile';\n                case 'mntr': return 'Display Device profile';\n                case 'prtr': return 'Output Device profile';\n                case 'link': return 'DeviceLink profile';\n                case 'abst': return 'Abstract profile';\n                case 'spac': return 'ColorSpace profile';\n                case 'nmcl': return 'NamedColor profile';\n                case 'cenc': return 'ColorEncodingSpace profile';\n                case 'mid ': return 'MultiplexIdentification profile';\n                case 'mlnk': return 'MultiplexLink profile';\n                case 'mvis': return 'MultiplexVisualization profile';\n                default: return value;\n            }\n        }\n    },\n    16: {\n        'name': 'Color Space',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4)\n    },\n    20: {\n        'name': 'Connection Space',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4)\n    },\n    24: {\n        'name': 'ICC Profile Date',\n        'value': (dataView, offset) => parseDate(dataView, offset).toISOString()\n    },\n    36: {\n        'name': 'ICC Signature',\n        'value': (dataView, offset) => sliceToString(dataView.buffer.slice(offset, offset + 4))\n    },\n    40: {\n        'name': 'Primary Platform',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4),\n        'description': (value) => toCompany(value)\n    },\n    48: {\n        'name': 'Device Manufacturer',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4),\n        'description': (value) => toCompany(value)\n    },\n    52: {\n        'name': 'Device Model Number',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4)\n    },\n    64: {\n        'name': 'Rendering Intent',\n        'value': (dataView, offset) => dataView.getUint32(offset),\n        'description': (value) => {\n            switch (value) {\n                case 0: return 'Perceptual';\n                case 1: return 'Relative Colorimetric';\n                case 2: return 'Saturation';\n                case 3: return 'Absolute Colorimetric';\n                default: return value;\n            }\n        }\n    },\n\n    80: {\n        'name': 'Profile Creator',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4)\n    },\n};\n\nfunction parseDate(dataView, offset) {\n    const year = dataView.getUint16(offset);\n    const month = dataView.getUint16(offset + 2) - 1;\n    const day = dataView.getUint16(offset + 4);\n    const hours = dataView.getUint16(offset + 6);\n    const minutes = dataView.getUint16(offset + 8);\n    const seconds = dataView.getUint16(offset + 10);\n    return new Date(Date.UTC(year, month, day, hours, minutes, seconds));\n}\n\nfunction sliceToString(slice) {\n    return String.fromCharCode.apply(null, new Uint8Array(slice));\n}\n\nfunction toCompany(value) {\n    switch (value.toLowerCase()) {\n        case 'appl': return 'Apple';\n        case 'adbe': return 'Adobe';\n        case 'msft': return 'Microsoft';\n        case 'sunw': return 'Sun Microsystems';\n        case 'sgi': return 'Silicon Graphics';\n        case 'tgnt': return 'Taligent';\n        default: return value;\n    }\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport ByteOrder from './byte-order.js';\nimport Constants from './constants.js';\n\nexport default {\n    isTiffFile,\n    findTiffOffsets\n};\n\nfunction isTiffFile(dataView) {\n    const MIN_TIFF_DATA_BUFFER_LENGTH = 4;\n\n    return (dataView.byteLength >= MIN_TIFF_DATA_BUFFER_LENGTH) && hasTiffMarker(dataView);\n}\n\nfunction hasTiffMarker(dataView) {\n    const TIFF_ID = 0x2a;\n    const TIFF_ID_OFFSET = 2;\n\n    const littleEndian = dataView.getUint16(0) === ByteOrder.LITTLE_ENDIAN;\n    return dataView.getUint16(TIFF_ID_OFFSET, littleEndian) === TIFF_ID;\n}\n\nfunction findTiffOffsets() {\n    const TIFF_FILE_HEADER_OFFSET = 0;\n\n    if (Constants.USE_EXIF) {\n        return {\n            hasAppMarkers: true,\n            tiffHeaderOffset: TIFF_FILE_HEADER_OFFSET\n        };\n    }\n    return {};\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {objectAssign} from './utils.js';\nimport TagNames0thIfd from './tag-names-0th-ifd.js';\nimport TagNamesExifIfd from './tag-names-exif-ifd.js';\nimport TagNamesGpsIfd from './tag-names-gps-ifd.js';\nimport TagNamesInteroperabilityIfd from './tag-names-interoperability-ifd.js';\n\nconst tagNames0thExifIfds = objectAssign({}, TagNames0thIfd, TagNamesExifIfd);\n\nexport default {\n    '0th': tagNames0thExifIfds,\n    'exif': tagNames0thExifIfds,\n    'gps': TagNamesGpsIfd,\n    'interoperability': TagNamesInteroperabilityIfd\n};\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport TextDecoder from './text-decoder.js';\n\nconst TAG_HEADER_SIZE = 5;\n\nexport default {\n    decode,\n    TAG_HEADER_SIZE\n};\n\nfunction decode(encoding, tagValue) {\n    const Decoder = TextDecoder.get();\n    if ((typeof Decoder !== 'undefined') && (encoding !== undefined)) {\n        try {\n            return new Decoder(encoding).decode(Uint8Array.from(tagValue));\n        } catch (error) {\n            // Pass through and fall back to ASCII decoding.\n        }\n    }\n\n    const stringValue = tagValue.map((charCode) => String.fromCharCode(charCode)).join('');\n    return decodeAsciiValue(stringValue);\n}\n\nfunction decodeAsciiValue(asciiValue) {\n    try {\n        return decodeURIComponent(escape(asciiValue));\n    } catch (error) {\n        return asciiValue;\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport {\n  FileReadStream,\n  FileReadEventType,\n  FileReadEvent,\n  FileReadResponseType,\n} from 'projects/packages/src/public-api';\n\n@Component({\n  selector: 'demo-read-stream',\n  templateUrl: './read-stream.component.html',\n  styleUrls: ['./read-stream.component.scss'],\n})\nexport class ReadStreamComponent implements OnInit {\n  constructor() {}\n\n  reader: FileReadStream;\n  optionChunks = [];\n  optionResponseTypes = [];\n  testChunk = 1024;\n  testResponseType = FileReadResponseType.BLOB;\n  changeStack: FileReadEvent[] = [];\n  changeStackCount: number = 0;\n  changeStackDisplayMax: number = 50;\n\n  ngOnInit() {\n    this.optionResponseTypes = [\n      { label: 'BLOB', value: FileReadResponseType.BLOB },\n      { label: 'BUFFER', value: FileReadResponseType.BUFFER },\n    ];\n    this.optionChunks = Array.from(Array(8)).map((a, b) => {\n      const index = b + 1;\n      const byte = Math.pow(index * index * 32, 2);\n      const kb = byte / 1024;\n      const mb = kb / 1024;\n      const label = mb < 1 ? `${kb}kb` : `${mb.toFixed(2)}mb`;\n      return {\n        value: byte,\n        label,\n      };\n    });\n    this.testChunk = this.optionChunks[1].value;\n  }\n\n  onFileChange(evt) {\n    const { files = [] } = (evt && evt.target) || {};\n    const file = files[0];\n    if (!file) return;\n    this.readStart(file);\n    evt.target.value = null;\n  }\n\n  onFileAbort() {\n    if (this.reader) {\n      this.reader.abort();\n      this.reader.destroy();\n      this.reader = null;\n    }\n  }\n\n  readStart(file: File) {\n    this.changeStack = [];\n    this.changeStackCount = 0;\n    if (this.reader) {\n      this.reader.destroy();\n      this.reader = null;\n    }\n    this.reader = new FileReadStream(file, {\n      chunkSize: this.testChunk,\n      responseType: this.testResponseType,\n    });\n    this.reader.observeState().subscribe((evt) => {\n      const { type, state } = evt;\n      this.changeStackCount++;\n      this.changeStack.push({ type, state });\n      if (this.changeStackDisplayMax < this.changeStack.length) {\n        this.changeStack.shift();\n      }\n      switch (type) {\n        case FileReadEventType.RESOLVE:\n        case FileReadEventType.REJECT:\n          console.log(state);\n          this.reader.destroy();\n          this.reader = null;\n          break;\n      }\n    });\n    this.reader.start().catch((err) => console.log(err));\n  }\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nconst LITTLE_ENDIAN = 0x4949;\nconst BIG_ENDIAN = 0x4d4d;\n\nexport default {\n    BIG_ENDIAN,\n    LITTLE_ENDIAN,\n    getByteOrder\n};\n\nfunction getByteOrder(dataView, tiffHeaderOffset) {\n    if (dataView.getUint16(tiffHeaderOffset) === LITTLE_ENDIAN) {\n        return LITTLE_ENDIAN;\n    } else if (dataView.getUint16(tiffHeaderOffset) === BIG_ENDIAN) {\n        return BIG_ENDIAN;\n    }\n    throw new Error('Illegal byte order value. Faulty image.');\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport default {\n    'tiff:Orientation'(value) {\n        if (value === '1') {\n            return 'Horizontal (normal)';\n        }\n        if (value === '2') {\n            return 'Mirror horizontal';\n        }\n        if (value === '3') {\n            return 'Rotate 180';\n        }\n        if (value === '4') {\n            return 'Mirror vertical';\n        }\n        if (value === '5') {\n            return 'Mirror horizontal and rotate 270 CW';\n        }\n        if (value === '6') {\n            return 'Rotate 90 CW';\n        }\n        if (value === '7') {\n            return 'Mirror horizontal and rotate 90 CW';\n        }\n        if (value === '8') {\n            return 'Rotate 270 CW';\n        }\n        return value;\n    },\n    'exif:GPSLatitude': calculateGPSValue,\n    'exif:GPSLongitude': calculateGPSValue\n};\n\nfunction calculateGPSValue(value) {\n    const [degreesString, minutesString] = value.split(',');\n    if ((degreesString !== undefined) && (minutesString !== undefined)) {\n        const degrees = parseFloat(degreesString);\n        const minutes = parseFloat(minutesString);\n        const ref = minutesString.charAt(minutesString.length - 1);\n        if ((!Number.isNaN(degrees)) && (!Number.isNaN(minutes))) {\n            return '' + (degrees + minutes / 60) + ref;\n        }\n    }\n    return value;\n}\n","export * from \"./read-stream\";\nexport * from \"./blob-image\";\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {deferInit} from './utils.js';\n\n// https://exiftool.org/TagNames/EXIF.html#Compression\nconst COMPRESSION_JPEG = [6, 7, 99];\n\nexport default {\n    get,\n};\n\nfunction get(dataView, thumbnailTags, tiffHeaderOffset) {\n    if (hasJpegThumbnail(thumbnailTags)) {\n        thumbnailTags.type = 'image/jpeg';\n        const offset = tiffHeaderOffset + thumbnailTags.JPEGInterchangeFormat.value;\n        thumbnailTags.image = dataView.buffer.slice(offset, offset + thumbnailTags.JPEGInterchangeFormatLength.value);\n        deferInit(thumbnailTags, 'base64', function () {\n            return getBase64Image(this.image);\n        });\n    }\n\n    // There is a small possibility of thumbnails in TIFF format but they are\n    // not stored as a self-contained image file and would be much more\n    // difficult to extract.\n    // https://exiftool.org/forum/index.php?topic=3273.msg14778#msg14778\n\n    return thumbnailTags;\n}\n\nfunction hasJpegThumbnail(tags) {\n    return tags && ((tags.Compression === undefined) || (COMPRESSION_JPEG.includes(tags.Compression.value)))\n        && tags.JPEGInterchangeFormat && tags.JPEGInterchangeFormat.value\n        && tags.JPEGInterchangeFormatLength && tags.JPEGInterchangeFormatLength.value;\n}\n\nfunction getBase64Image(image) {\n    if (typeof btoa !== 'undefined') {\n        // IE11- does not implement reduce on the Uint8Array prototype.\n        return btoa(Array.prototype.reduce.call(new Uint8Array(image), (data, byte) => data + String.fromCharCode(byte), ''));\n    }\n    if (typeof Buffer === 'undefined') {\n        return undefined;\n    }\n    if (typeof Buffer.from !== undefined) { // eslint-disable-line no-undef\n        return Buffer.from(image).toString('base64'); // eslint-disable-line no-undef\n    }\n    return (new Buffer(image)).toString('base64'); // eslint-disable-line no-undef\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport ByteOrder from './byte-order.js';\n\nconst typeSizes = {\n    1: 1, // BYTE\n    2: 1, // ASCII\n    3: 2, // SHORT\n    4: 4, // LONG\n    5: 8, // RATIONAL\n    7: 1, // UNDEFINED\n    9: 4, // SLONG\n    10: 8, // SRATIONAL\n    13: 4 // IFD\n};\n\nconst tagTypes = {\n    'BYTE': 1,\n    'ASCII': 2,\n    'SHORT': 3,\n    'LONG': 4,\n    'RATIONAL': 5,\n    'UNDEFINED': 7,\n    'SLONG': 9,\n    'SRATIONAL': 10,\n    'IFD': 13\n};\n\nexport default {\n    getAsciiValue,\n    getByteAt,\n    getAsciiAt,\n    getShortAt,\n    getLongAt,\n    getRationalAt,\n    getUndefinedAt,\n    getSlongAt,\n    getSrationalAt,\n    getIfdPointerAt,\n    typeSizes,\n    tagTypes,\n    getTypeSize\n};\n\nfunction getAsciiValue(charArray) {\n    return charArray.map((charCode) => String.fromCharCode(charCode));\n}\n\nfunction getByteAt(dataView, offset) {\n    return dataView.getUint8(offset);\n}\n\nfunction getAsciiAt(dataView, offset) {\n    return dataView.getUint8(offset);\n}\n\nfunction getShortAt(dataView, offset, byteOrder) {\n    return dataView.getUint16(offset, byteOrder === ByteOrder.LITTLE_ENDIAN);\n}\n\nfunction getLongAt(dataView, offset, byteOrder) {\n    return dataView.getUint32(offset, byteOrder === ByteOrder.LITTLE_ENDIAN);\n}\n\nfunction getRationalAt(dataView, offset, byteOrder) {\n    return [getLongAt(dataView, offset, byteOrder), getLongAt(dataView, offset + 4, byteOrder)];\n}\n\nfunction getUndefinedAt(dataView, offset) {\n    return getByteAt(dataView, offset);\n}\n\nfunction getSlongAt(dataView, offset, byteOrder) {\n    return dataView.getInt32(offset, byteOrder === ByteOrder.LITTLE_ENDIAN);\n}\n\nfunction getSrationalAt(dataView, offset, byteOrder) {\n    return [getSlongAt(dataView, offset, byteOrder), getSlongAt(dataView, offset + 4, byteOrder)];\n}\n\nfunction getIfdPointerAt(dataView, offset, byteOrder) {\n    return getLongAt(dataView, offset, byteOrder);\n}\n\nfunction getTypeSize(typeName) {\n    if (tagTypes[typeName] === undefined) {\n        throw new Error('No such type found.');\n    }\n\n    return typeSizes[tagTypes[typeName]];\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n  imports: [CommonModule],\n  // exports: [SampleActorComponent],\n  // declarations: [SampleActorComponent],\n})\nexport class ExampleCommonModule {}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport function getStringFromDataView(dataView, offset, length) {\n    const chars = [];\n    for (let i = 0; i < length && offset + i < dataView.byteLength; i++) {\n        chars.push(dataView.getUint8(offset + i));\n    }\n    return getStringValueFromArray(chars);\n}\n\nexport function getUnicodeStringFromDataView(dataView, offset, length) {\n    const chars = [];\n    for (let i = 0; i < length && offset + i < dataView.byteLength; i += 2) {\n        chars.push(dataView.getUint16(offset + i));\n    }\n    return getStringValueFromArray(chars);\n}\n\nexport function getStringValueFromArray(charArray) {\n    return charArray.map((charCode) => String.fromCharCode(charCode)).join('');\n}\n\nexport function getCharacterArray(string) {\n    return string.split('').map((character) => character.charCodeAt(0));\n}\n\nexport function objectAssign() {\n    for (let i = 1; i < arguments.length; i++) {\n        for (const property in arguments[i]) {\n            arguments[0][property] = arguments[i][property];\n        }\n    }\n\n    return arguments[0];\n}\n\nexport function deferInit(object, key, initializer) {\n    let initialized = false;\n    Object.defineProperty(object, key, {\n        get() {\n            if (!initialized) {\n                initialized = true;\n                Object.defineProperty(object, key, {\n                    configurable: true,\n                    enumerable: true,\n                    value: initializer.apply(object),\n                    writable: true\n                });\n            }\n            return object[key];\n        },\n        configurable: true,\n        enumerable: true\n    });\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringFromDataView} from './utils.js';\nimport Constants from './constants.js';\n\nexport default {\n    isWebpFile,\n    findOffsets\n};\n\nfunction isWebpFile(dataView) {\n    const RIFF_ID_OFFSET = 0;\n    const RIFF_ID = 'RIFF';\n    const WEBP_MARKER_OFFSET = 8;\n    const WEBP_MARKER = 'WEBP';\n\n    return getStringFromDataView(dataView, RIFF_ID_OFFSET, RIFF_ID.length) === RIFF_ID\n        && getStringFromDataView(dataView, WEBP_MARKER_OFFSET, WEBP_MARKER.length) === WEBP_MARKER;\n}\n\nfunction findOffsets(dataView) {\n    const SUB_CHUNK_START_OFFSET = 12;\n    const CHUNK_SIZE_OFFSET = 4;\n    const EXIF_IDENTIFIER = 'Exif\\x00\\x00';\n    const CHUNK_HEADER_SIZE = 8;\n\n    let offset = SUB_CHUNK_START_OFFSET;\n    let hasAppMarkers = false;\n    let tiffHeaderOffset;\n    let xmpChunks;\n    let iccChunks;\n\n    while (offset + CHUNK_HEADER_SIZE < dataView.byteLength) {\n        const chunkId = getStringFromDataView(dataView, offset, 4);\n        const chunkSize = dataView.getUint32(offset + CHUNK_SIZE_OFFSET, true);\n\n        if (Constants.USE_EXIF && (chunkId === 'EXIF')) {\n            hasAppMarkers = true;\n            if (getStringFromDataView(dataView, offset + CHUNK_HEADER_SIZE, EXIF_IDENTIFIER.length) === EXIF_IDENTIFIER) {\n                tiffHeaderOffset = offset + CHUNK_HEADER_SIZE + EXIF_IDENTIFIER.length;\n            } else {\n                tiffHeaderOffset = offset + CHUNK_HEADER_SIZE;\n            }\n        } else if (Constants.USE_XMP && (chunkId === 'XMP ')) {\n            hasAppMarkers = true;\n            xmpChunks = [{\n                dataOffset: offset + CHUNK_HEADER_SIZE,\n                length: chunkSize\n            }];\n        } else if (Constants.USE_ICC && (chunkId === 'ICCP')) {\n            hasAppMarkers = true;\n            iccChunks = [{\n                offset: offset + CHUNK_HEADER_SIZE,\n                length: chunkSize,\n                chunkNumber: 1,\n                chunksTotal: 1\n            }];\n        }\n\n        offset += CHUNK_HEADER_SIZE + (chunkSize % 2 === 0 ? chunkSize : chunkSize + 1);\n    }\n\n    return {\n        hasAppMarkers,\n        tiffHeaderOffset,\n        xmpChunks,\n        iccChunks\n    };\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringValue} from './tag-names-utils.js';\n\nexport default {\n    'iptc': {\n        0x0100: {\n            'name': 'Model Version',\n            'description': (value) => {\n                return ((value[0] << 8) + value[1]).toString();\n            }\n        },\n        0x0105: {\n            'name': 'Destination',\n            'repeatable': true\n        },\n        0x0114: {\n            'name': 'File Format',\n            'description': (value) => {\n                return ((value[0] << 8) + value[1]).toString();\n            }\n        },\n        0x0116: {\n            'name': 'File Format Version',\n            'description': (value) => {\n                return ((value[0] << 8) + value[1]).toString();\n            }\n        },\n        0x011e: 'Service Identifier',\n        0x0128: 'Envelope Number',\n        0x0132: 'Product ID',\n        0x013c: 'Envelope Priority',\n        0x0146: {\n            'name': 'Date Sent',\n            'description': getCreationDate\n        },\n        0x0150: {\n            'name': 'Time Sent',\n            'description': getCreationTime\n        },\n        0x015a: {\n            'name': 'Coded Character Set',\n            'description': getEncodingName,\n            'encoding_name': getEncodingName,\n        },\n        0x0164: 'UNO',\n        0x0178: {\n            'name': 'ARM Identifier',\n            'description': (value) => {\n                return ((value[0] << 8) + value[1]).toString();\n            }\n        },\n        0x017a: {\n            'name': 'ARM Version',\n            'description': (value) => {\n                return ((value[0] << 8) + value[1]).toString();\n            }\n        },\n        0x0200: {\n            'name': 'Record Version',\n            'description': (value) => {\n                return ((value[0] << 8) + value[1]).toString();\n            }\n        },\n        0x0203: 'Object Type Reference',\n        0x0204: 'Object Attribute Reference',\n        0x0205: 'Object Name',\n        0x0207: 'Edit Status',\n        0x0208: {\n            'name': 'Editorial Update',\n            'description': (value) => {\n                if (getStringValue(value) === '01') {\n                    return 'Additional Language';\n                }\n                return 'Unknown';\n            }\n        },\n        0x020a: 'Urgency',\n        0x020c: {\n            'name': 'Subject Reference',\n            'repeatable': true,\n            'description': (value) => {\n                const parts = getStringValue(value).split(':');\n                return parts[2] + (parts[3] ? '/' + parts[3] : '') + (parts[4] ? '/' + parts[4] : '');\n            }\n        },\n        0x020f: 'Category',\n        0x0214: {\n            'name': 'Supplemental Category',\n            'repeatable': true\n        },\n        0x0216: 'Fixture Identifier',\n        0x0219: {\n            'name': 'Keywords',\n            'repeatable': true\n        },\n        0x021a: {\n            'name': 'Content Location Code',\n            'repeatable': true\n        },\n        0x021b: {\n            'name': 'Content Location Name',\n            'repeatable': true\n        },\n        0x021e: 'Release Date',\n        0x0223: 'Release Time',\n        0x0225: 'Expiration Date',\n        0x0226: 'Expiration Time',\n        0x0228: 'Special Instructions',\n        0x022a: {\n            'name': 'Action Advised',\n            'description': (value) => {\n                const string = getStringValue(value);\n                if (string === '01') {\n                    return 'Object Kill';\n                } else if (string === '02') {\n                    return 'Object Replace';\n                } else if (string === '03') {\n                    return 'Object Append';\n                } else if (string === '04') {\n                    return 'Object Reference';\n                }\n                return 'Unknown';\n            }\n        },\n        0x022d: {\n            'name': 'Reference Service',\n            'repeatable': true\n        },\n        0x022f: {\n            'name': 'Reference Date',\n            'repeatable': true\n        },\n        0x0232: {\n            'name': 'Reference Number',\n            'repeatable': true\n        },\n        0x0237: {\n            'name': 'Date Created',\n            'description': getCreationDate\n        },\n        0x023c: {\n            'name': 'Time Created',\n            'description': getCreationTime\n        },\n        0x023e: {\n            'name': 'Digital Creation Date',\n            'description': getCreationDate\n        },\n        0x023f: {\n            'name': 'Digital Creation Time',\n            'description': getCreationTime\n        },\n        0x0241: 'Originating Program',\n        0x0246: 'Program Version',\n        0x024b: {\n            'name': 'Object Cycle',\n            'description': (value) => {\n                const string = getStringValue(value);\n                if (string === 'a') {\n                    return 'morning';\n                } else if (string === 'p') {\n                    return 'evening';\n                } else if (string === 'b') {\n                    return 'both';\n                }\n                return 'Unknown';\n            }\n        },\n        0x0250: {\n            'name': 'By-line',\n            'repeatable': true\n        },\n        0x0255: {\n            'name': 'By-line Title',\n            'repeatable': true\n        },\n        0x025a: 'City',\n        0x025c: 'Sub-location',\n        0x025f: 'Province/State',\n        0x0264: 'Country/Primary Location Code',\n        0x0265: 'Country/Primary Location Name',\n        0x0267: 'Original Transmission Reference',\n        0x0269: 'Headline',\n        0x026e: 'Credit',\n        0x0273: 'Source',\n        0x0274: 'Copyright Notice',\n        0x0276: {\n            'name': 'Contact',\n            'repeatable': true\n        },\n        0x0278: 'Caption/Abstract',\n        0x027a: {\n            'name': 'Writer/Editor',\n            'repeatable': true\n        },\n        0x027d: {\n            'name': 'Rasterized Caption',\n            'description': (value) => value\n        },\n        0x0282: 'Image Type',\n        0x0283: {\n            'name': 'Image Orientation',\n            'description': (value) => {\n                const string = getStringValue(value);\n                if (string === 'P') {\n                    return 'Portrait';\n                } else if (string === 'L') {\n                    return 'Landscape';\n                } else if (string === 'S') {\n                    return 'Square';\n                }\n                return 'Unknown';\n            }\n        },\n        0x0287: 'Language Identifier',\n        0x0296: {\n            'name': 'Audio Type',\n            'description': (value) => {\n                const stringValue = getStringValue(value);\n                const character0 = stringValue.charAt(0);\n                const character1 = stringValue.charAt(1);\n                let description = '';\n\n                if (character0 === '1') {\n                    description += 'Mono';\n                } else if (character0 === '2') {\n                    description += 'Stereo';\n                }\n\n                if (character1 === 'A') {\n                    description += ', actuality';\n                } else if (character1 === 'C') {\n                    description += ', question and answer session';\n                } else if (character1 === 'M') {\n                    description += ', music, transmitted by itself';\n                } else if (character1 === 'Q') {\n                    description += ', response to a question';\n                } else if (character1 === 'R') {\n                    description += ', raw sound';\n                } else if (character1 === 'S') {\n                    description += ', scener';\n                } else if (character1 === 'V') {\n                    description += ', voicer';\n                } else if (character1 === 'W') {\n                    description += ', wrap';\n                }\n\n                if (description !== '') {\n                    return description;\n                }\n                return stringValue;\n            }\n        },\n        0x0297: {\n            'name': 'Audio Sampling Rate',\n            'description': (value) => parseInt(getStringValue(value), 10) + ' Hz'\n        },\n        0x0298: {\n            'name': 'Audio Sampling Resolution',\n            'description': (value) => {\n                const bits = parseInt(getStringValue(value), 10);\n                return bits + (bits === 1 ? ' bit' : ' bits');\n            }\n        },\n        0x0299: {\n            'name': 'Audio Duration',\n            'description': (value) => {\n                const duration = getStringValue(value);\n                if (duration.length >= 6) {\n                    return duration.substr(0, 2) + ':' + duration.substr(2, 2) + ':' + duration.substr(4, 2);\n                }\n                return duration;\n            }\n        },\n        0x029a: 'Audio Outcue',\n        0x02ba: 'Short Document ID',\n        0x02bb: 'Unique Document ID',\n        0x02bc: 'Owner ID',\n        0x02c8: {\n            'name': (value) => {\n                if (value.length === 2) {\n                    return 'ObjectData Preview File Format';\n                }\n                return 'Record 2 destination';\n            },\n            'description': (value) => {\n                if (value.length === 2) {\n                    const intValue = (value[0] << 8) + value[1];\n                    if (intValue === 0) {\n                        return 'No ObjectData';\n                    } else if (intValue === 1) {\n                        return 'IPTC-NAA Digital Newsphoto Parameter Record';\n                    } else if (intValue === 2) {\n                        return 'IPTC7901 Recommended Message Format';\n                    } else if (intValue === 3) {\n                        return 'Tagged Image File Format (Adobe/Aldus Image data)';\n                    } else if (intValue === 4) {\n                        return 'Illustrator (Adobe Graphics data)';\n                    } else if (intValue === 5) {\n                        return 'AppleSingle (Apple Computer Inc)';\n                    } else if (intValue === 6) {\n                        return 'NAA 89-3 (ANPA 1312)';\n                    } else if (intValue === 7) {\n                        return 'MacBinary II';\n                    } else if (intValue === 8) {\n                        return 'IPTC Unstructured Character Oriented File Format (UCOFF)';\n                    } else if (intValue === 9) {\n                        return 'United Press International ANPA 1312 variant';\n                    } else if (intValue === 10) {\n                        return 'United Press International Down-Load Message';\n                    } else if (intValue === 11) {\n                        return 'JPEG File Interchange (JFIF)';\n                    } else if (intValue === 12) {\n                        return 'Photo-CD Image-Pac (Eastman Kodak)';\n                    } else if (intValue === 13) {\n                        return 'Microsoft Bit Mapped Graphics File [*.BMP]';\n                    } else if (intValue === 14) {\n                        return 'Digital Audio File [*.WAV] (Microsoft & Creative Labs)';\n                    } else if (intValue === 15) {\n                        return 'Audio plus Moving Video [*.AVI] (Microsoft)';\n                    } else if (intValue === 16) {\n                        return 'PC DOS/Windows Executable Files [*.COM][*.EXE]';\n                    } else if (intValue === 17) {\n                        return 'Compressed Binary File [*.ZIP] (PKWare Inc)';\n                    } else if (intValue === 18) {\n                        return 'Audio Interchange File Format AIFF (Apple Computer Inc)';\n                    } else if (intValue === 19) {\n                        return 'RIFF Wave (Microsoft Corporation)';\n                    } else if (intValue === 20) {\n                        return 'Freehand (Macromedia/Aldus)';\n                    } else if (intValue === 21) {\n                        return 'Hypertext Markup Language \"HTML\" (The Internet Society)';\n                    } else if (intValue === 22) {\n                        return 'MPEG 2 Audio Layer 2 (Musicom), ISO/IEC';\n                    } else if (intValue === 23) {\n                        return 'MPEG 2 Audio Layer 3, ISO/IEC';\n                    } else if (intValue === 24) {\n                        return 'Portable Document File (*.PDF) Adobe';\n                    } else if (intValue === 25) {\n                        return 'News Industry Text Format (NITF)';\n                    } else if (intValue === 26) {\n                        return 'Tape Archive (*.TAR)';\n                    } else if (intValue === 27) {\n                        return 'Tidningarnas Telegrambyrå NITF version (TTNITF DTD)';\n                    } else if (intValue === 28) {\n                        return 'Ritzaus Bureau NITF version (RBNITF DTD)';\n                    } else if (intValue === 29) {\n                        return 'Corel Draw [*.CDR]';\n                    }\n                    return `Unknown format ${intValue}`;\n                }\n                return getStringValue(value);\n            }\n        },\n        0x02c9: {\n            'name': 'ObjectData Preview File Format Version',\n            'description': (value, tags) => {\n                // Format ID, Version ID, Version Description\n                const formatVersions = {\n                    '00': {'00': '1'},\n                    '01': {'01': '1', '02': '2', '03': '3', '04': '4'},\n                    '02': {'04': '4'},\n                    '03': {'01': '5.0', '02': '6.0'},\n                    '04': {'01': '1.40'},\n                    '05': {'01': '2'},\n                    '06': {'01': '1'},\n                    '11': {'01': '1.02'},\n                    '20': {'01': '3.1', '02': '4.0', '03': '5.0', '04': '5.5'},\n                    '21': {'02': '2.0'}\n                };\n                const stringValue = getStringValue(value);\n\n                if (tags['ObjectData Preview File Format']) {\n                    const objectDataPreviewFileFormat = getStringValue(tags['ObjectData Preview File Format'].value);\n                    if (formatVersions[objectDataPreviewFileFormat]\n                        && formatVersions[objectDataPreviewFileFormat][stringValue]) {\n                        return formatVersions[objectDataPreviewFileFormat][stringValue];\n                    }\n                }\n\n                return stringValue;\n            }\n        },\n        0x02ca: 'ObjectData Preview Data',\n        0x070a: {\n            'name': 'Size Mode',\n            'description': (value) => {\n                return (value[0]).toString();\n            }\n        },\n        0x0714: {\n            'name': 'Max Subfile Size',\n            'description': (value) => {\n                let n = 0;\n                for (let i = 0; i < value.length; i++) {\n                    n = (n << 8) + value[i];\n                }\n                return n.toString();\n            }\n        },\n        0x075a: {\n            'name': 'ObjectData Size Announced',\n            'description': (value) => {\n                let n = 0;\n                for (let i = 0; i < value.length; i++) {\n                    n = (n << 8) + value[i];\n                }\n                return n.toString();\n            }\n        },\n        0x075f: {\n            'name': 'Maximum ObjectData Size',\n            'description': (value) => {\n                let n = 0;\n                for (let i = 0; i < value.length; i++) {\n                    n = (n << 8) + value[i];\n                }\n                return n.toString();\n            }\n        }\n    }\n};\n\nfunction getCreationDate(value) {\n    const date = getStringValue(value);\n\n    if (date.length >= 8) {\n        return date.substr(0, 4) + '-' + date.substr(4, 2) + '-' + date.substr(6, 2);\n    }\n\n    return date;\n}\n\nfunction getCreationTime(value) {\n    const time = getStringValue(value);\n    let parsedTime = time;\n\n    if (time.length >= 6) {\n        parsedTime = time.substr(0, 2) + ':' + time.substr(2, 2) + ':' + time.substr(4, 2);\n        if (time.length === 11) {\n            parsedTime += time.substr(6, 1) + time.substr(7, 2) + ':' + time.substr(9, 2);\n        }\n    }\n\n    return parsedTime;\n}\n\nfunction getEncodingName(value) {\n    const string = getStringValue(value);\n    if (string === '\\x1b%G') {\n        return 'UTF-8';\n    } else if (string === '\\x1b%5') {\n        return 'Windows-1252';\n    } else if (string === '\\x1b%/G') {\n        return 'UTF-8 Level 1';\n    } else if (string === '\\x1b%/H') {\n        return 'UTF-8 Level 2';\n    } else if (string === '\\x1b%/I') {\n        return 'UTF-8 Level 3';\n    } else if (string === '\\x1B/A') {\n        return 'ISO-8859-1';\n    } else if (string === '\\x1B/B') {\n        return 'ISO-8859-2';\n    } else if (string === '\\x1B/C') {\n        return 'ISO-8859-3';\n    } else if (string === '\\x1B/D') {\n        return 'ISO-8859-4';\n    } else if (string === '\\x1B/@') {\n        return 'ISO-8859-5';\n    } else if (string === '\\x1B/G') {\n        return 'ISO-8859-6';\n    } else if (string === '\\x1B/F') {\n        return 'ISO-8859-7';\n    } else if (string === '\\x1B/H') {\n        return 'ISO-8859-8';\n    }\n    return 'Unknown';\n}\n","export default \".partition {\\n  display: block;\\n  margin: 30px 0;\\n  padding: 0;\\n  height: 1px;\\n  border: none;\\n  background-color: #eeeeee;\\n}\\n\\n.print-stack .stack-opt {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.print-stack .stack-opt .spacer {\\n  flex: 1;\\n}\\n\\n.print-stack .stack-count {\\n  padding: 5px 0;\\n  text-align: right;\\n  font-size: 14px;\\n}\\n\\n.print-stack .stack-list {\\n  display: block;\\n  margin-top: 5px;\\n  height: 400px;\\n  overflow: auto;\\n  border: 1px solid #999999;\\n}\\n\\n.print-stack .stack-item {\\n  display: flex;\\n  align-items: center;\\n  margin: 3px;\\n  padding: 5px;\\n  font-size: 14px;\\n  border: 1px solid #cccccc;\\n  box-sizing: border-box;\\n}\\n\\n.print-stack .stack-item .aside {\\n  width: 90px;\\n}\\n\\n.print-stack .stack-item .bside {\\n  flex: 1;\\n  display: flex;\\n  flex-wrap: wrap;\\n}\\n\\n.print-stack .stack-item .label {\\n  flex: 1;\\n}\\n\\n.print-stack .stack-item .label .dt {\\n  display: block;\\n  font-size: 12px;\\n  color: #888888;\\n}\\n\\n.print-stack .stack-item .label .dd {\\n  display: block;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3JlYWQtc3RyZWFtLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBQTtFQUNBLGNBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSx5QkFBQTtBQUNGOztBQUdFO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0FBQUo7O0FBQ0k7RUFDRSxPQUFBO0FBQ047O0FBRUU7RUFDRSxjQUFBO0VBQ0EsaUJBQUE7RUFDQSxlQUFBO0FBQUo7O0FBRUU7RUFDRSxjQUFBO0VBQ0EsZUFBQTtFQUNBLGFBQUE7RUFDQSxjQUFBO0VBQ0EseUJBQUE7QUFBSjs7QUFFRTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtFQUNBLHlCQUFBO0VBQ0Esc0JBQUE7QUFBSjs7QUFFSTtFQUNFLFdBQUE7QUFBTjs7QUFFSTtFQUNFLE9BQUE7RUFDQSxhQUFBO0VBQ0EsZUFBQTtBQUFOOztBQUVJO0VBQ0UsT0FBQTtBQUFOOztBQUNNO0VBQ0UsY0FBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0FBQ1I7O0FBQ007RUFDRSxjQUFBO0FBQ1IiLCJmaWxlIjoicmVhZC1zdHJlYW0uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucGFydGl0aW9uIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbjogMzBweCAwO1xuICBwYWRkaW5nOiAwO1xuICBoZWlnaHQ6IDFweDtcbiAgYm9yZGVyOiBub25lO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlZWVlO1xufVxuXG4ucHJpbnQtc3RhY2sge1xuICAuc3RhY2stb3B0IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgLnNwYWNlciB7XG4gICAgICBmbGV4OiAxO1xuICAgIH1cbiAgfVxuICAuc3RhY2stY291bnQge1xuICAgIHBhZGRpbmc6IDVweCAwO1xuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgfVxuICAuc3RhY2stbGlzdCB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgbWFyZ2luLXRvcDogNXB4O1xuICAgIGhlaWdodDogNDAwcHg7XG4gICAgb3ZlcmZsb3c6IGF1dG87XG4gICAgYm9yZGVyOiAxcHggc29saWQgIzk5OTk5OTtcbiAgfVxuICAuc3RhY2staXRlbSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIG1hcmdpbjogM3B4O1xuICAgIHBhZGRpbmc6IDVweDtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjY2NjYztcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuXG4gICAgLmFzaWRlIHtcbiAgICAgIHdpZHRoOiA5MHB4O1xuICAgIH1cbiAgICAuYnNpZGUge1xuICAgICAgZmxleDogMTtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgfVxuICAgIC5sYWJlbCB7XG4gICAgICBmbGV4OiAxO1xuICAgICAgLmR0IHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgY29sb3I6ICM4ODg4ODg7XG4gICAgICB9XG4gICAgICAuZGQge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdfQ== */\";","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringFromDataView, objectAssign} from './utils.js';\nimport XmpTagNames from './xmp-tag-names.js';\nimport DOMParser from './dom-parser.js';\n\nexport default {\n    read\n};\n\nfunction read(dataView, chunks) {\n    if (typeof dataView === 'string') {\n        return readTags({}, dataView);\n    }\n    return extractCompleteChunks(dataView, chunks).reduce(readTags, {});\n}\n\n// The first chunk is always the regular XMP document. Then there is something\n// called extended XMP. The extended XMP is also a single XMP document but it\n// can be divided into multiple chunks that need to be combined into one.\nfunction extractCompleteChunks(dataView, chunks) {\n    if (chunks.length === 0) {\n        return [];\n    }\n\n    const completeChunks = [combineChunks(dataView, chunks.slice(0, 1))];\n    if (chunks.length > 1) {\n        completeChunks.push(combineChunks(dataView, chunks.slice(1)));\n    }\n\n    return completeChunks;\n}\n\nfunction combineChunks(dataView, chunks) {\n    const totalLength = chunks.reduce((size, chunk) => size + chunk.length, 0);\n    const combinedChunks = new Uint8Array(totalLength);\n    let offset = 0;\n\n    for (let i = 0; i < chunks.length; i++) {\n        const chunk = chunks[i];\n        const slice = dataView.buffer.slice(chunk.dataOffset, chunk.dataOffset + chunk.length);\n        combinedChunks.set(new Uint8Array(slice), offset);\n        offset += chunk.length;\n    }\n\n    return new DataView(combinedChunks.buffer);\n}\n\nfunction readTags(tags, chunkDataView) {\n    try {\n        const doc = getDocument(chunkDataView);\n        const rdf = getRDF(doc);\n\n        return objectAssign(tags, parseXMPObject(convertToObject(rdf, true)));\n    } catch (error) {\n        return tags;\n    }\n}\n\nfunction getDocument(chunkDataView) {\n    const Parser = DOMParser.get();\n    if (!Parser) {\n        console.warn('Warning: DOMParser is not available. It is needed to be able to parse XMP tags.'); // eslint-disable-line no-console\n        throw new Error();\n    }\n\n    const domParser = new Parser();\n    const xmlString = typeof chunkDataView === 'string' ? chunkDataView : getStringFromDataView(chunkDataView, 0, chunkDataView.byteLength);\n    const doc = domParser.parseFromString(trimXmlSource(xmlString), 'application/xml');\n\n    if (doc.documentElement.nodeName === 'parsererror') {\n        throw new Error(doc.documentElement.textContent);\n    }\n\n    return doc;\n}\n\nfunction trimXmlSource(xmlSource) {\n    return xmlSource.replace(/^.+(<\\?xpacket begin)/, '$1').replace(/(<\\?xpacket end=\".*\"\\?>).+$/, '$1');\n}\n\nfunction getRDF(node) {\n    for (let i = 0; i < node.childNodes.length; i++) {\n        if (node.childNodes[i].tagName === 'x:xmpmeta') {\n            return getRDF(node.childNodes[i]);\n        }\n        if (node.childNodes[i].tagName === 'rdf:RDF') {\n            return node.childNodes[i];\n        }\n    }\n\n    throw new Error();\n}\n\nfunction convertToObject(node, isTopNode = false) {\n    const childNodes = getChildNodes(node);\n\n    if (hasTextOnlyContent(childNodes)) {\n        if (isTopNode) {\n            return {};\n        }\n        return getTextValue(childNodes[0]);\n    }\n\n    return getElementsFromNodes(childNodes);\n}\n\nfunction getChildNodes(node) {\n    const elements = [];\n\n    for (let i = 0; i < node.childNodes.length; i++) {\n        elements.push(node.childNodes[i]);\n    }\n\n    return elements;\n}\n\nfunction hasTextOnlyContent(nodes) {\n    return (nodes.length === 1) && (nodes[0].nodeName === '#text');\n}\n\nfunction getTextValue(node) {\n    return node.nodeValue;\n}\n\nfunction getElementsFromNodes(nodes) {\n    const elements = {};\n\n    nodes.forEach((node) => {\n        if (isElement(node)) {\n            const nodeElement = getElementFromNode(node);\n\n            if (elements[node.nodeName] !== undefined) {\n                if (!Array.isArray(elements[node.nodeName])) {\n                    elements[node.nodeName] = [elements[node.nodeName]];\n                }\n                elements[node.nodeName].push(nodeElement);\n            } else {\n                elements[node.nodeName] = nodeElement;\n            }\n        }\n    });\n\n    return elements;\n}\n\nfunction isElement(node) {\n    return (node.nodeName) && (node.nodeName !== '#text');\n}\n\nfunction getElementFromNode(node) {\n    return {\n        attributes: getAttributes(node),\n        value: convertToObject(node)\n    };\n}\n\nfunction getAttributes(element) {\n    const attributes = {};\n\n    for (let i = 0; i < element.attributes.length; i++) {\n        attributes[element.attributes[i].nodeName] = decodeURIComponent(escape(element.attributes[i].value));\n    }\n\n    return attributes;\n}\n\nfunction parseXMPObject(xmpObject) {\n    const tags = {};\n\n    if (typeof xmpObject === 'string') {\n        return xmpObject;\n    }\n\n    for (const nodeName in xmpObject) {\n        let nodes = xmpObject[nodeName];\n\n        if (!Array.isArray(nodes)) {\n            nodes = [nodes];\n        }\n\n        nodes.forEach((node) => {\n            objectAssign(tags, parseNodeAttributesAsTags(node.attributes));\n            if (typeof node.value === 'object') {\n                objectAssign(tags, parseNodeChildrenAsTags(node.value));\n            }\n        });\n    }\n\n    return tags;\n}\n\nfunction parseNodeAttributesAsTags(attributes) {\n    const tags = {};\n\n    for (const name in attributes) {\n        if (isTagAttribute(name)) {\n            tags[getLocalName(name)] = {\n                value: attributes[name],\n                attributes: {},\n                description: getDescription(attributes[name], name)\n            };\n        }\n    }\n\n    return tags;\n}\n\nfunction isTagAttribute(name) {\n    return (name !== 'rdf:parseType') && (!isNamespaceDefinition(name));\n}\n\nfunction isNamespaceDefinition(name) {\n    return name.split(':')[0] === 'xmlns';\n}\n\nfunction getLocalName(name) {\n    return name.split(':')[1];\n}\n\nfunction getDescription(value, name = undefined) {\n    if (Array.isArray(value)) {\n        return getDescriptionOfArray(value);\n    }\n    if (typeof value === 'object') {\n        return getDescriptionOfObject(value);\n    }\n\n    try {\n        if ((name) && (typeof XmpTagNames[name] === 'function')) {\n            return XmpTagNames[name](value);\n        }\n        return decodeURIComponent(escape(value));\n    } catch (error) {\n        return value;\n    }\n}\n\nfunction getDescriptionOfArray(value) {\n    return value.map((item) => {\n        if (item.value !== undefined) {\n            return getDescription(item.value);\n        }\n        return getDescription(item);\n    }).join(', ');\n}\n\nfunction getDescriptionOfObject(value) {\n    const descriptions = [];\n\n    for (const key in value) {\n        descriptions.push(`${getClearTextKey(key)}: ${value[key].value}`);\n    }\n\n    return descriptions.join('; ');\n}\n\nfunction getClearTextKey(key) {\n    if (key === 'CiAdrCity') {\n        return 'CreatorCity';\n    }\n    if (key === 'CiAdrCtry') {\n        return 'CreatorCountry';\n    }\n    if (key === 'CiAdrExtadr') {\n        return 'CreatorAddress';\n    }\n    if (key === 'CiAdrPcode') {\n        return 'CreatorPostalCode';\n    }\n    if (key === 'CiAdrRegion') {\n        return 'CreatorRegion';\n    }\n    if (key === 'CiEmailWork') {\n        return 'CreatorWorkEmail';\n    }\n    if (key === 'CiTelWork') {\n        return 'CreatorWorkPhone';\n    }\n    if (key === 'CiUrlWork') {\n        return 'CreatorWorkUrl';\n    }\n    return key;\n}\n\nfunction parseNodeChildrenAsTags(children) {\n    const tags = {};\n\n    for (const name in children) {\n        if (!isNamespaceDefinition(name)) {\n            tags[getLocalName(name)] = parseNodeAsTag(children[name], name);\n        }\n    }\n\n    return tags;\n}\n\nfunction parseNodeAsTag(node, name) {\n    if (hasNestedSimpleRdfDescription(node)) {\n        return parseNodeAsSimpleRdfDescription(node, name);\n    } else if (hasNestedStructureRdfDescription(node)) {\n        return parseNodeAsStructureRdfDescription(node, name);\n    } else if (isCompactStructure(node)) {\n        return parseNodeAsCompactStructure(node, name);\n    } else if (isArray(node)) {\n        return parseNodeAsArray(node, name);\n    }\n    return parseNodeAsSimpleValue(node, name);\n}\n\nfunction hasNestedSimpleRdfDescription(node) {\n    return ((node.attributes['rdf:parseType'] === 'Resource') && (node.value['rdf:value'] !== undefined))\n        || ((node.value['rdf:Description'] !== undefined) && (node.value['rdf:Description'].value['rdf:value'] !== undefined));\n}\n\nfunction parseNodeAsSimpleRdfDescription(node, name) {\n    const attributes = parseNodeAttributes(node);\n\n    if (node.value['rdf:Description'] !== undefined) {\n        node = node.value['rdf:Description'];\n    }\n\n    objectAssign(attributes, parseNodeAttributes(node), parseNodeChildrenAsAttributes(node));\n\n    const value = parseRdfValue(node);\n\n    return {\n        value,\n        attributes,\n        description: getDescription(value, name)\n    };\n}\n\nfunction parseNodeAttributes(node) {\n    const attributes = {};\n\n    for (const name in node.attributes) {\n        if ((name !== 'rdf:parseType') && (name !== 'rdf:resource') && (!isNamespaceDefinition(name))) {\n            attributes[getLocalName(name)] = node.attributes[name];\n        }\n    }\n\n    return attributes;\n}\n\nfunction parseNodeChildrenAsAttributes(node) {\n    const attributes = {};\n\n    for (const name in node.value) {\n        if ((name !== 'rdf:value') && (!isNamespaceDefinition(name))) {\n            attributes[getLocalName(name)] = node.value[name].value;\n        }\n    }\n\n    return attributes;\n}\n\nfunction parseRdfValue(node) {\n    return getURIValue(node.value['rdf:value']) || node.value['rdf:value'].value;\n}\n\nfunction hasNestedStructureRdfDescription(node) {\n    return (node.attributes['rdf:parseType'] === 'Resource')\n        || ((node.value['rdf:Description'] !== undefined) && (node.value['rdf:Description'].value['rdf:value'] === undefined));\n}\n\nfunction parseNodeAsStructureRdfDescription(node, name) {\n    const tag = {\n        value: {},\n        attributes: {}\n    };\n\n    if (node.value['rdf:Description'] !== undefined) {\n        objectAssign(tag.value, parseNodeAttributesAsTags(node.value['rdf:Description'].attributes));\n        objectAssign(tag.attributes, parseNodeAttributes(node));\n        node = node.value['rdf:Description'];\n    }\n\n    objectAssign(tag.value, parseNodeChildrenAsTags(node.value));\n\n    tag.description = getDescription(tag.value, name);\n\n    return tag;\n}\n\nfunction isCompactStructure(node) {\n    return (Object.keys(node.value).length === 0)\n        && (node.attributes['rdf:resource'] === undefined);\n}\n\nfunction parseNodeAsCompactStructure(node, name) {\n    const value = parseNodeAttributesAsTags(node.attributes);\n\n    return {\n        value,\n        attributes: {},\n        description: getDescription(value, name)\n    };\n}\n\nfunction isArray(node) {\n    return getArrayChild(node.value) !== undefined;\n}\n\nfunction getArrayChild(value) {\n    return value['rdf:Bag'] || value['rdf:Seq'] || value['rdf:Alt'];\n}\n\nfunction parseNodeAsArray(node, name) {\n    let items = getArrayChild(node.value).value['rdf:li'];\n    const attributes = parseNodeAttributes(node);\n    const value = [];\n\n    if (items === undefined) {\n        items = [];\n    } else if (!Array.isArray(items)) {\n        items = [items];\n    }\n\n    items.forEach((item) => {\n        value.push(parseArrayValue(item));\n    });\n\n    return {\n        value,\n        attributes,\n        description: getDescription(value, name)\n    };\n}\n\nfunction parseArrayValue(item) {\n    if (hasNestedSimpleRdfDescription(item)) {\n        return parseNodeAsSimpleRdfDescription(item);\n    }\n\n    if (hasNestedArrayValue(item)) {\n        return parseNodeChildrenAsTags(item.value);\n    }\n\n    return {\n        value: item.value,\n        attributes: parseNodeAttributes(item),\n        description: getDescription(item.value)\n    };\n}\n\nfunction hasNestedArrayValue(node) {\n    return node.attributes['rdf:parseType'] === 'Resource';\n}\n\nfunction parseNodeAsSimpleValue(node, name) {\n    const value = getURIValue(node) || parseXMPObject(node.value);\n\n    return {\n        value,\n        attributes: parseNodeAttributes(node),\n        description: getDescription(value, name)\n    };\n}\n\nfunction getURIValue(node) {\n    return node.attributes && node.attributes['rdf:resource'];\n}\n","export default \"<div>\\n  <div class=\\\"fm-box-wrap\\\">\\n    <div class=\\\"fm-box\\\">\\n      <span class=\\\"label\\\">expectWidth</span>\\n      <div class=\\\"box\\\">\\n        <mat-select [(ngModel)]=\\\"testWidth\\\">\\n          <mat-option *ngFor=\\\"let data of optionWidths\\\" [value]=\\\"data.value\\\">{{\\n            data.label\\n          }}</mat-option>\\n        </mat-select>\\n      </div>\\n    </div>\\n    <div class=\\\"fm-box\\\">\\n      <span class=\\\"label\\\">expectHeight</span>\\n      <div class=\\\"box\\\">\\n        <mat-select [(ngModel)]=\\\"testHeight\\\">\\n          <mat-option *ngFor=\\\"let data of optionHeights\\\" [value]=\\\"data.value\\\">{{\\n            data.label\\n          }}</mat-option>\\n        </mat-select>\\n      </div>\\n    </div>\\n    <div class=\\\"fm-box\\\">\\n      <span class=\\\"label\\\">quality</span>\\n      <div class=\\\"box\\\">\\n        <mat-select [(ngModel)]=\\\"testQuality\\\">\\n          <mat-option *ngFor=\\\"let data of optionQualities\\\" [value]=\\\"data.value\\\">{{\\n            data.label\\n          }}</mat-option>\\n        </mat-select>\\n      </div>\\n    </div>\\n    <div class=\\\"fm-box\\\">\\n      <span class=\\\"label\\\">applyOrientation</span>\\n      <div class=\\\"box\\\">\\n        <mat-checkbox class=\\\"example-margin\\\" [(ngModel)]=\\\"testApplyOrientation\\\">\\n          apply exif orientation\\n        </mat-checkbox>\\n      </div>\\n    </div>\\n    <div class=\\\"fm-box\\\">\\n      <span class=\\\"label\\\">expectContentType</span>\\n      <div class=\\\"box\\\">\\n        <input class=\\\"fm-input\\\" [(ngModel)]=\\\"testContentType\\\" placeholder=\\\"ex) image/jpeg\\\" />\\n      </div>\\n    </div>\\n    <div class=\\\"fm-box\\\">\\n      <span class=\\\"label\\\">fillBgColor</span>\\n      <div class=\\\"box\\\">\\n        <input class=\\\"fm-input\\\" [(ngModel)]=\\\"testFillBgColor\\\" placeholder=\\\"ex) #ff0000\\\" />\\n      </div>\\n    </div>\\n  </div>\\n\\n  <ul class=\\\"my-desc\\\">\\n    <li class=\\\"item\\\">quality: only applies when contentType \\\"image/jpeg\\\"</li>\\n    <li class=\\\"item\\\">\\n      orientation: only applies when image has exif orientation\\n      <a target=\\\"_blank\\\" href=\\\"https://github.com/recurser/exif-orientation-examples\\\"\\n        >(github: exif orientation sample image)</a\\n      >\\n    </li>\\n  </ul>\\n</div>\\n\\n<div class=\\\"file-wrap\\\">\\n  <input type=\\\"file\\\" accept=\\\"image/*\\\" (change)=\\\"onFileChange($event)\\\" />\\n</div>\\n\\n<div class=\\\"demo-wrap\\\">\\n  <div *ngFor=\\\"let demo of demoList\\\" class=\\\"demo-item\\\">\\n    <div class=\\\"panel-canvas\\\">\\n      <div class=\\\"draw-area\\\">\\n        <canvas #demoCanvasRefs></canvas>\\n      </div>\\n    </div>\\n    <div *ngIf=\\\"demo.info\\\" class=\\\"panel-info\\\">\\n      <em class=\\\"tit\\\">{{ demo.info.title }}</em>\\n      <dl class=\\\"dl\\\">\\n        <dt class=\\\"dt\\\">size</dt>\\n        <dd class=\\\"dd\\\">{{ demo.info.size }}bype / {{ (demo.info.size / 1024).toFixed(2) }}kb</dd>\\n      </dl>\\n      <dl class=\\\"dl\\\">\\n        <dt class=\\\"dt\\\">type</dt>\\n        <dd class=\\\"dd\\\">{{ demo.info.type }}</dd>\\n      </dl>\\n      <dl class=\\\"dl\\\">\\n        <dt class=\\\"dt\\\">width</dt>\\n        <dd class=\\\"dd\\\">{{ demo.info.width }}</dd>\\n      </dl>\\n      <dl class=\\\"dl\\\">\\n        <dt class=\\\"dt\\\">height</dt>\\n        <dd class=\\\"dd\\\">{{ demo.info.height }}</dd>\\n      </dl>\\n    </div>\\n  </div>\\n</div>\\n\\n<!-- <div class=\\\"canvas-wrap\\\">\\n  <div class=\\\"canvas-item\\\">\\n    <div class=\\\"display-area\\\">\\n      <div class=\\\"draw-area\\\">\\n        <canvas #canvasOriginal></canvas>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"canvas-item\\\">\\n    <div class=\\\"display-area\\\">\\n      <div class=\\\"draw-area\\\">\\n        <canvas #canvasCover></canvas>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"canvas-item\\\">\\n    <div class=\\\"display-area\\\">\\n      <div class=\\\"draw-area\\\">\\n        <canvas #canvasCoverNoneStretch></canvas>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"canvas-item\\\">\\n    <div class=\\\"display-area\\\">\\n      <div class=\\\"draw-area\\\">\\n        <canvas #canvasScale></canvas>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"info-wrap\\\">\\n  <div *ngFor=\\\"let info of infos\\\" class=\\\"info-item\\\">\\n    <em class=\\\"tit\\\">{{ info.title }}</em>\\n    <dl class=\\\"dl\\\">\\n      <dt class=\\\"dt\\\">size</dt>\\n      <dd class=\\\"dd\\\">{{ info.size }}bype / {{ (info.size / 1024).toFixed(2) }}kb</dd>\\n    </dl>\\n    <dl class=\\\"dl\\\">\\n      <dt class=\\\"dt\\\">type</dt>\\n      <dd class=\\\"dd\\\">{{ info.type }}</dd>\\n    </dl>\\n    <dl class=\\\"dl\\\">\\n      <dt class=\\\"dt\\\">width</dt>\\n      <dd class=\\\"dd\\\">{{ info.width }}</dd>\\n    </dl>\\n    <dl class=\\\"dl\\\">\\n      <dt class=\\\"dt\\\">height</dt>\\n      <dd class=\\\"dd\\\">{{ info.height }}</dd>\\n    </dl>\\n  </div>\\n</div> -->\\n\";"]}