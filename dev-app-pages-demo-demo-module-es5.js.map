{"version":3,"sources":["webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/byte-order.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/constants.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/dataview.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/dom-parser.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/errors.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/exif-reader.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/file-tags.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/icc-tag-names.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/icc-tags.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/image-header-heic.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/image-header-jpeg.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/image-header-png.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/image-header-tiff.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/image-header-webp.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/image-header.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/iptc-tag-names.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/iptc-tags.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/png-file-tags.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/tag-decoder.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/tag-names-0th-ifd.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/tag-names-common.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/tag-names-exif-ifd.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/tag-names-gps-ifd.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/tag-names-interoperability-ifd.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/tag-names-utils.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/tag-names.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/tags.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/text-decoder.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/thumbnail.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/types.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/utils.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/xmp-tag-names.js","webpack:///home/travis/build/molgga/jood-file-reader/node_modules/exifreader/src/xmp-tags.js","webpack:///src/app/pages/demo/blob-image/blob-image.component.html","webpack:///src/app/pages/demo/read-stream/read-stream.component.html","webpack:///packages/src/blob-image/BlobImageResize.ts","webpack:///packages/src/blob-image/index.ts","webpack:///packages/src/blob-image/types.ts","webpack:///packages/src/public-api.ts","webpack:///packages/src/read-stream/FileReadStream.ts","webpack:///packages/src/read-stream/index.ts","webpack:///packages/src/read-stream/types.ts","webpack:///src/app/modules/example/common/common.module.ts","webpack:///src/app/pages/demo/blob-image/blob-image.component.scss","webpack:///src/app/pages/demo/blob-image/blob-image.component.ts","webpack:///src/app/pages/demo/demo.module.ts","webpack:///src/app/pages/demo/demo.routing.ts","webpack:///src/app/pages/demo/read-stream/read-stream.component.scss","webpack:///src/app/pages/demo/read-stream/read-stream.component.ts"],"names":["LITTLE_ENDIAN","BIG_ENDIAN","getByteOrder","dataView","tiffHeaderOffset","getUint16","Error","USE_FILE","USE_PNG_FILE","USE_EXIF","USE_IPTC","USE_XMP","USE_ICC","USE_THUMBNAIL","USE_TIFF","USE_JPEG","USE_PNG","USE_HEIC","USE_WEBP","DataView","buffer","bufferTypeIsUnsupported","byteLength","length","offset","readUInt8","littleEndian","readUInt16LE","readUInt16BE","readUInt32LE","readUInt32BE","readInt32LE","readInt32BE","undefined","get","DOMParser","eval","error","MetadataMissingError","message","name","stack","prototype","load","loadView","errors","data","options","expanded","isNodeBuffer","Uint8Array","getDataView","Buffer","isBuffer","foundMetaData","tags","parseAppMarkers","fileDataOffset","iptcDataOffset","xmpChunks","iccChunks","pngHeaderOffset","hasFileData","readTags","read","file","hasExifData","Thumbnail","exif","addGpsGroup","hasIptcData","readIptcTags","value","iptc","hasXmpData","readXmpTags","xmp","hasIccData","readIccTags","chunkNumber","chunksTotal","icc","hasPngFileData","pngFile","thumbnail","GPSLatitude","GPSLatitudeRef","gps","Latitude","join","GPSLongitude","GPSLongitudeRef","Longitude","GPSAltitude","GPSAltitudeRef","Altitude","Array","isArray","iccDataOffsets","pngFileDataOffset","getLength","numberOfColorComponents","getNumberOfColorComponents","getDataPrecision","getImageHeight","getImageWidth","getSubsampling","getShortAt","OFFSET","SIZE","getByteAt","description","components","i","componentOffset","push","getComponentIds","getSamplingType","ids","map","compontent","types","iccTags","iccProfile","toCompany","getUint8","toString","toLowerCase","parseDate","toISOString","sliceToString","slice","getUint32","year","month","day","hours","minutes","seconds","Date","UTC","String","fromCharCode","apply","PROFILE_HEADER_LENGTH","ICC_TAG_COUNT_OFFSET","ICC_SIGNATURE","TAG_TYPE_DESC","TAG_TYPE_MULTI_LOCALIZED_UNICODE_TYPE","TAG_TYPE_TEXT","TAG_TYPE_SIGNATURE","TAG_TABLE_SINGLE_TAG_DATA","iccData","totalIccProfileLength","reduce","sum","iccBinaryData","getBuffer","iccDataChunk","find","x","chunkData","set","parseTags","from","iccDoesNotHaveTagCount","hasTagsData","tagHeaderOffset","iccProfileKeys","Object","keys","profileEntry","parseInt","signature","tagCount","tagSignature","tagOffset","tagSize","tagType","tagValueSize","val","addTag","numRecords","recordSize","recordNum","languageCode","countryCode","textLength","textOffset","text","valObj","valIndex","isHeicFile","findHeicOffsets","HEIC_ID","HEIC_ID_OFFSET","HEIC_MAJOR_BRANDS","HEIC_MAJOR_BRAND_LENGTH","heicMajorBrand","indexOf","findMetaAtom","metaOffset","metaLength","hasAppMarkers","metaEndOffset","Math","min","findMetaItems","exifItemOffset","ilocOffset","colrOffset","exifOffset","findExifOffset","findIccChunks","ATOM_LENGTH_SIZE","ATOM_TYPE_SIZE","ATOM_MIN_LENGTH","ATOM_TYPE_OFFSET","atomLength","getAtomLength","atomType","ATOM_EXTENDED_SIZE_LOW_OFFSET","extendsToEndOfFile","hasExtendedSize","hasEmptyHighBits","ATOM_EXTENDED_SIZE_OFFSET","STRING_SIZE","ITEM_INDEX_REL_OFFSET","offsets","itemName","EXIF_ITEM_OFFSET_SIZE","ILOC_DATA_OFFSET","EXIF_POINTER_OFFSET","EXIF_POINTER_SIZE","EXIF_PREFIX_LENGTH_OFFSET","ILOC_ITEM_SIZE","exifItemIndex","itemIndex","exifPointer","prefixLength","ITEM_TYPE_OFFSET","ITEM_TYPE_SIZE","ITEM_CONTENT_OFFSET","colorType","isJpegFile","findJpegOffsets","MIN_JPEG_DATA_BUFFER_LENGTH","JPEG_ID","JPEG_ID_SIZE","APP_ID_OFFSET","APP_MARKER_SIZE","TIFF_HEADER_OFFSET","IPTC_DATA_OFFSET","XMP_DATA_OFFSET","XMP_EXTENDED_DATA_OFFSET","APP2_ICC_DATA_OFFSET","APP2_ICC_IDENTIFIER","ICC_CHUNK_NUMBER_OFFSET","ICC_TOTAL_CHUNKS_OFFSET","SOF0_MARKER","SOF2_MARKER","DHT_MARKER","DQT_MARKER","DRI_MARKER","SOS_MARKER","APP0_MARKER","APP1_MARKER","APP2_MARKER","APP13_MARKER","APP15_MARKER","COMMENT_MARKER","APP1_EXIF_IDENTIFIER","APP1_XMP_IDENTIFIER","APP1_XMP_EXTENDED_IDENTIFIER","APP13_IPTC_IDENTIFIER","appMarkerPosition","fieldLength","sof0DataOffset","sof2DataOffset","isSOF0Marker","isSOF2Marker","isApp1ExifMarker","isApp1XmpMarker","getXmpChunkDetails","isApp1ExtendedXmpMarker","getExtendedXmpChunkDetails","isApp13PhotoshopMarker","isApp2ICCMarker","iccDataOffset","iccDataLength","iccChunkNumber","iccChunksTotal","isAppMarker","markerIdLength","isXmpIdentifier","isExtendedXmpIdentifier","dataOffset","appMarker","isPngFile","findPngOffsets","PNG_ID","PNG_CHUNK_LENGTH_SIZE","PNG_CHUNK_TYPE_SIZE","PNG_CHUNK_LENGTH_OFFSET","PNG_CHUNK_TYPE_OFFSET","PNG_CHUNK_DATA_OFFSET","PNG_XMP_PREFIX","PNG_CRC_SIZE","isPngImageHeaderChunk","isPngXmpChunk","getPngXmpDataOffset","PNG_CHUNK_TYPE_IMAGE_HEADER","PNG_CHUNK_TYPE_INTERNATIONAL_TEXT","COMPRESSION_FLAG_SIZE","COMPRESSION_METHOD_SIZE","numberOfNullSeparators","isTiffFile","findTiffOffsets","MIN_TIFF_DATA_BUFFER_LENGTH","hasTiffMarker","TIFF_ID","TIFF_ID_OFFSET","TIFF_FILE_HEADER_OFFSET","isWebpFile","findOffsets","RIFF_ID_OFFSET","RIFF_ID","WEBP_MARKER_OFFSET","WEBP_MARKER","SUB_CHUNK_START_OFFSET","CHUNK_SIZE_OFFSET","EXIF_IDENTIFIER","CHUNK_HEADER_SIZE","chunkId","chunkSize","getCreationDate","getCreationTime","getEncodingName","parts","split","string","stringValue","character0","charAt","character1","bits","duration","substr","intValue","formatVersions","objectDataPreviewFileFormat","n","date","time","parsedTime","BYTES_8BIM","BYTES_8BIM_SIZE","RESOURCE_BLOCK_HEADER_SIZE","NAA_RESOURCE_BLOCK_TYPE","TAG_HEADER_SIZE","size","getNaaResourceBlock","naaBlock","newDataOffset","resourceBlock","getResourceBlock","isNaaResourceBlock","getBlockPadding","RESOURCE_BLOCK_SIZE_OFFSET","type","encoding","endOfBlockOffset","readTag","tag","id","TAG_CODE_OFFSET","TAG_SIZE_OFFSET","leadByteIsMissing","tagCode","tagValue","getTagValue","getTagName","getTagDescription","tagIsRepeatable","tagContainsEncoding","TAG_LEAD_BYTE","valueIndex","tagIsName","hasDynamicName","hasDescriptionProperty","tagValueIsText","decode","getBitDepth","getColorType","getCompression","getFilter","getInterlace","getLongAt","COLOR_TYPES","INTERLACE_TYPES","Decoder","charCode","decodeAsciiValue","asciiValue","decodeURIComponent","escape","round","values","formats","sample","character","pow","sqrt","toFixed","y","focalLengths","ref","numerator","denominator","num","test","status","mode","getStringValue","getEncodedString","getCalculatedGpsValue","tagNames0thExifIfds","EXIF_IFD_POINTER_KEY","GPS_INFO_IFD_POINTER_KEY","INTEROPERABILITY_IFD_POINTER_KEY","getTagValueAt","getAsciiAt","getRationalAt","getUndefinedAt","getSlongAt","getSrationalAt","getIfdPointerAt","byteOrder","read0thIfd","readExifIfd","readGpsIfd","readInteroperabilityIfd","readIfd","get0thIfdOffset","ifdType","FIELD_COUNT_SIZE","getTypeSize","FIELD_SIZE","numberOfFields","getNumberOfFields","fieldIndex","nextIfdOffset","TAG_CODE_IPTC_NAA","TAG_TYPE_OFFSET","TAG_COUNT_OFFSET","TAG_VALUE_OFFSET","typeSizes","tagValueFitsInOffsetSlot","tagValueOffset","tagValueFitsInDataView","forceByteType","tagTypes","splitNullSeparatedAsciiString","tagName","tagDescription","getDescriptionFromTagValue","count","getAsciiValue","j","TextDecoder","COMPRESSION_JPEG","thumbnailTags","hasJpegThumbnail","JPEGInterchangeFormat","image","JPEGInterchangeFormatLength","getBase64Image","Compression","includes","btoa","call","byte","charArray","getInt32","typeName","getStringFromDataView","chars","getStringValueFromArray","getUnicodeStringFromDataView","getCharacterArray","charCodeAt","objectAssign","arguments","property","deferInit","object","key","initializer","initialized","defineProperty","configurable","enumerable","writable","calculateGPSValue","degreesString","minutesString","degrees","parseFloat","Number","isNaN","chunks","extractCompleteChunks","completeChunks","combineChunks","totalLength","chunk","combinedChunks","chunkDataView","doc","getDocument","rdf","getRDF","parseXMPObject","convertToObject","Parser","console","warn","domParser","xmlString","parseFromString","trimXmlSource","documentElement","nodeName","textContent","xmlSource","replace","node","childNodes","isTopNode","getChildNodes","hasTextOnlyContent","getTextValue","getElementsFromNodes","elements","nodes","nodeValue","forEach","isElement","nodeElement","getElementFromNode","attributes","getAttributes","element","xmpObject","parseNodeAttributesAsTags","parseNodeChildrenAsTags","isTagAttribute","getLocalName","getDescription","isNamespaceDefinition","getDescriptionOfArray","getDescriptionOfObject","item","descriptions","getClearTextKey","children","parseNodeAsTag","hasNestedSimpleRdfDescription","parseNodeAsSimpleRdfDescription","hasNestedStructureRdfDescription","parseNodeAsStructureRdfDescription","isCompactStructure","parseNodeAsCompactStructure","parseNodeAsArray","parseNodeAsSimpleValue","parseNodeAttributes","parseNodeChildrenAsAttributes","parseRdfValue","getURIValue","getArrayChild","items","parseArrayValue","hasNestedArrayValue","BlobImageResize","blob","config","expectWidth","expectHeight","quality","resizeType","SCALE","expectContentType","fillBgColor","applyOrientation","maxWidth","maxHeight","forceContentType","sw","sh","getMaxSize","dx","dy","dw","dh","isLandscape","floor","mw","mh","contentRatio","expectRatio","SCALE_STRETCH","FIXED","URL","revokeObjectURL","blobURL","imageWidth","domImage","naturalWidth","imageHeight","naturalHeight","draw","orientation","arrayBuffer","result","Orientation","drawBound","COVER","getResizeToCover","COVER_STRETCH","getResizeToCoverStretch","getResizeToScaleStretch","getResizeToScale","getResizeToFixed","parseDrawMetadata","parseDrawBound","tx","ty","contentType","canvas","domCanvas","context","domCanvasContext","width","height","fillStyle","fillRect","translate","scale","rotate","PI","drawImage","detectedOrientation","toBlob","onResized","bind","promiseReject","getState","resizeBlob","promiseResolve","document","createElement","getContext","Image","onload","onImageLoaded","onerror","onImageError","promise","Promise","resolve","reject","createObjectURL","src","err","ResizeType","FileReadStream","readStarted","readOffset","readOffsetNext","readCurrent","readStateAbort","buffers","readFile","reader","FileReader","onReaderLoaded","onReaderError","subjectState","responseType","BLOB","readChunkSize","evt","stateChanged","next","resultReject","maxSize","resultResolve","expectNext","sliceBlob","readAsArrayBuffer","CHANGE","state","RESOLVE","readPromiseResolve","reason","REJECT","readPromiseReject","readPromise","asObservable","lastModified","now","fileName","fileType","fileSize","fileLastModified","total","readed","Blob","BUFFER","abort","ABORT","FileReadEventType","FileReadResponseType","ExampleCommonModule","imports","BlobImageComponent","testWidth","testHeight","testQuality","testContentType","testFillBgColor","testApplyOrientation","optionWidths","a","b","index","label","optionHeights","optionQualities","demoList","title","info","target","files","resizeStart","infos","originalBlob","len","refCanvasList","demoCanvasRefs","toArray","demo","nativeElement","drawResizeDemo","resizeWidth","resizeHeight","resizer","create","resizeResult","drawToCanvas","resizeCanvas","log","selector","template","PageModule","declarations","routes","path","component","RoutingModule","forChild","exports","ReadStreamComponent","optionChunks","optionResponseTypes","testChunk","testResponseType","changeStack","changeStackCount","changeStackDisplayMax","kb","mb","readStart","destroy","observeState","subscribe","shift","start"],"mappings":"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","file":"dev-app-pages-demo-demo-module-es5.js","sourcesContent":["/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nconst LITTLE_ENDIAN = 0x4949;\nconst BIG_ENDIAN = 0x4d4d;\n\nexport default {\n    BIG_ENDIAN,\n    LITTLE_ENDIAN,\n    getByteOrder\n};\n\nfunction getByteOrder(dataView, tiffHeaderOffset) {\n    if (dataView.getUint16(tiffHeaderOffset) === LITTLE_ENDIAN) {\n        return LITTLE_ENDIAN;\n    } else if (dataView.getUint16(tiffHeaderOffset) === BIG_ENDIAN) {\n        return BIG_ENDIAN;\n    }\n    throw new Error('Illegal byte order value. Faulty image.');\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport default {\n    USE_FILE: true,\n    USE_PNG_FILE: true,\n    USE_EXIF: true,\n    USE_IPTC: true,\n    USE_XMP: true,\n    USE_ICC: true,\n    USE_THUMBNAIL: true,\n    USE_TIFF: true,\n    USE_JPEG: true,\n    USE_PNG: true,\n    USE_HEIC: true,\n    USE_WEBP: true\n};\n","export default class DataView {\n    constructor(buffer) {\n        if (bufferTypeIsUnsupported(buffer)) {\n            throw new Error('DataView: Passed buffer type is unsupported.');\n        }\n\n        this.buffer = buffer;\n        this.byteLength = this.buffer.length;\n    }\n\n    getUint8(offset) {\n        return this.buffer.readUInt8(offset);\n    }\n\n    getUint16(offset, littleEndian) {\n        if (littleEndian) {\n            return this.buffer.readUInt16LE(offset);\n        }\n        return this.buffer.readUInt16BE(offset);\n    }\n\n    getUint32(offset, littleEndian) {\n        if (littleEndian) {\n            return this.buffer.readUInt32LE(offset);\n        }\n        return this.buffer.readUInt32BE(offset);\n    }\n\n    getInt32(offset, littleEndian) {\n        if (littleEndian) {\n            return this.buffer.readInt32LE(offset);\n        }\n        return this.buffer.readInt32BE(offset);\n    }\n}\n\nfunction bufferTypeIsUnsupported(buffer) {\n    return typeof buffer !== 'object'\n        || buffer.length === undefined\n        || buffer.readUInt8 === undefined\n        || buffer.readUInt16LE === undefined\n        || buffer.readUInt16BE === undefined\n        || buffer.readUInt32LE === undefined\n        || buffer.readUInt32BE === undefined\n        || buffer.readInt32LE === undefined\n        || buffer.readInt32BE === undefined;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport default {\n    get\n};\n\nfunction get() {\n    if (typeof DOMParser !== 'undefined') {\n        return DOMParser;\n    }\n    try {\n        return eval('require')('xmldom').DOMParser; // This stops Webpack from replacing the require with a generic import and bundling the module.\n    } catch (error) {\n        return undefined;\n    }\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\n/**\n * Thrown when no Exif metadata was found for the given image.\n *\n * @param {string} message The error message.\n */\nfunction MetadataMissingError(message) {\n    this.name = 'MetadataMissingError';\n    this.message = message || 'No Exif data';\n    this.stack = (new Error()).stack;\n}\n\nMetadataMissingError.prototype = new Error;\n\nexport default {\n    MetadataMissingError,\n};\n","/**\n * ExifReader\n * http://github.com/mattiasw/exifreader\n * Copyright (C) 2011-2020  Mattias Wallander <mattias@wallander.eu>\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\n\nimport {objectAssign} from './utils.js';\nimport DataViewWrapper from './dataview.js';\nimport Constants from './constants.js';\nimport {getStringValueFromArray} from './utils.js';\nimport {getCalculatedGpsValue} from './tag-names-utils.js';\nimport ImageHeader from './image-header.js';\nimport Tags from './tags.js';\nimport FileTags from './file-tags.js';\nimport IptcTags from './iptc-tags.js';\nimport XmpTags from './xmp-tags.js';\nimport IccTags from './icc-tags.js';\nimport PngFileTags from './png-file-tags.js';\nimport Thumbnail from './thumbnail.js';\nimport exifErrors from './errors.js';\n\nexport default {\n    load,\n    loadView,\n    errors: exifErrors,\n};\n\nexport const errors = exifErrors;\n\nexport function load(data, options = {expanded: false}) {\n    if (isNodeBuffer(data)) {\n        // File data read in Node can share the underlying buffer with other\n        // data. Therefore it's safest to get a new one to avoid weird bugs.\n        data = (new Uint8Array(data)).buffer;\n    }\n    return loadView(getDataView(data), options);\n}\n\nfunction isNodeBuffer(data) {\n    try {\n        return Buffer.isBuffer(data); // eslint-disable-line no-undef\n    } catch (error) {\n        return false;\n    }\n}\n\nfunction getDataView(data) {\n    try {\n        return new DataView(data);\n    } catch (error) {\n        return new DataViewWrapper(data);\n    }\n}\n\nexport function loadView(dataView, options = {expanded: false}) {\n    let foundMetaData = false;\n    let tags = {};\n\n    const {fileDataOffset, tiffHeaderOffset, iptcDataOffset, xmpChunks, iccChunks, pngHeaderOffset} = ImageHeader.parseAppMarkers(dataView);\n\n    if (Constants.USE_JPEG && Constants.USE_FILE && hasFileData(fileDataOffset)) {\n        foundMetaData = true;\n        const readTags = FileTags.read(dataView, fileDataOffset);\n        if (options.expanded) {\n            tags.file = readTags;\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n    }\n\n    if (Constants.USE_EXIF && hasExifData(tiffHeaderOffset)) {\n        foundMetaData = true;\n        const readTags = Tags.read(dataView, tiffHeaderOffset);\n        if (readTags.Thumbnail) {\n            tags.Thumbnail = readTags.Thumbnail;\n            delete readTags.Thumbnail;\n        }\n\n        if (options.expanded) {\n            tags.exif = readTags;\n            addGpsGroup(tags);\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n\n        if (Constants.USE_TIFF && Constants.USE_IPTC && readTags['IPTC-NAA'] && !hasIptcData(iptcDataOffset)) {\n            const readIptcTags = IptcTags.read(readTags['IPTC-NAA'].value, 0);\n            if (options.expanded) {\n                tags.iptc = readIptcTags;\n            } else {\n                tags = objectAssign({}, tags, readIptcTags);\n            }\n        }\n\n        if (Constants.USE_TIFF && Constants.USE_XMP && readTags['ApplicationNotes'] && !hasXmpData(xmpChunks)) {\n            const readXmpTags = XmpTags.read(getStringValueFromArray(readTags['ApplicationNotes'].value));\n            if (options.expanded) {\n                tags.xmp = readXmpTags;\n            } else {\n                tags = objectAssign({}, tags, readXmpTags);\n            }\n        }\n\n        if (Constants.USE_TIFF && Constants.USE_ICC && readTags['ICC_Profile'] && !hasIccData(iccChunks)) {\n            const readIccTags = IccTags.read(\n                readTags['ICC_Profile'].value,\n                [{\n                    offset: 0,\n                    length: readTags['ICC_Profile'].value.length,\n                    chunkNumber: 1,\n                    chunksTotal: 1\n                }]\n            );\n            if (options.expanded) {\n                tags.icc = readIccTags;\n            } else {\n                tags = objectAssign({}, tags, readIccTags);\n            }\n        }\n    }\n\n    if (Constants.USE_JPEG && Constants.USE_IPTC && hasIptcData(iptcDataOffset)) {\n        foundMetaData = true;\n        const readTags = IptcTags.read(dataView, iptcDataOffset);\n        if (options.expanded) {\n            tags.iptc = readTags;\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n    }\n\n    if (Constants.USE_XMP && hasXmpData(xmpChunks)) {\n        foundMetaData = true;\n        const readTags = XmpTags.read(dataView, xmpChunks);\n        if (options.expanded) {\n            tags.xmp = readTags;\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n    }\n\n    if ((Constants.USE_JPEG || Constants.USE_WEBP) && Constants.USE_ICC && hasIccData(iccChunks)) {\n        foundMetaData = true;\n        const readTags = IccTags.read(dataView, iccChunks);\n        if (options.expanded) {\n            tags.icc = readTags;\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n    }\n\n    if (Constants.USE_PNG && Constants.USE_PNG_FILE && hasPngFileData(pngHeaderOffset)) {\n        foundMetaData = true;\n        const readTags = PngFileTags.read(dataView, pngHeaderOffset);\n        if (options.expanded) {\n            tags.pngFile = readTags;\n        } else {\n            tags = objectAssign({}, tags, readTags);\n        }\n    }\n\n    const thumbnail = (Constants.USE_JPEG || Constants.USE_WEBP)\n        && Constants.USE_EXIF\n        && Constants.USE_THUMBNAIL\n        && Thumbnail.get(dataView, tags.Thumbnail, tiffHeaderOffset);\n    if (thumbnail) {\n        foundMetaData = true;\n        tags.Thumbnail = thumbnail;\n    } else {\n        delete tags.Thumbnail;\n    }\n\n    if (!foundMetaData) {\n        throw new exifErrors.MetadataMissingError();\n    }\n\n    return tags;\n}\n\nfunction hasFileData(fileDataOffset) {\n    return fileDataOffset !== undefined;\n}\n\nfunction hasExifData(tiffHeaderOffset) {\n    return tiffHeaderOffset !== undefined;\n}\n\nfunction addGpsGroup(tags) {\n    if (tags.exif) {\n        if (tags.exif.GPSLatitude && tags.exif.GPSLatitudeRef) {\n            tags.gps = tags.gps || {};\n            tags.gps.Latitude = getCalculatedGpsValue(tags.exif.GPSLatitude.value);\n            if (tags.exif.GPSLatitudeRef.value.join('') === 'S') {\n                tags.gps.Latitude = -tags.gps.Latitude;\n            }\n        }\n\n        if (tags.exif.GPSLongitude && tags.exif.GPSLongitudeRef) {\n            tags.gps = tags.gps || {};\n            tags.gps.Longitude = getCalculatedGpsValue(tags.exif.GPSLongitude.value);\n            if (tags.exif.GPSLongitudeRef.value.join('') === 'W') {\n                tags.gps.Longitude = -tags.gps.Longitude;\n            }\n        }\n\n        if (tags.exif.GPSAltitude && tags.exif.GPSAltitudeRef) {\n            tags.gps = tags.gps || {};\n            tags.gps.Altitude = tags.exif.GPSAltitude.value[0] / tags.exif.GPSAltitude.value[1];\n            if (tags.exif.GPSAltitudeRef.value === 1) {\n                tags.gps.Altitude = -tags.gps.Altitude;\n            }\n        }\n    }\n}\n\nfunction hasIptcData(iptcDataOffset) {\n    return iptcDataOffset !== undefined;\n}\n\nfunction hasXmpData(xmpChunks) {\n    return Array.isArray(xmpChunks) && xmpChunks.length > 0;\n}\n\nfunction hasIccData(iccDataOffsets) {\n    return Array.isArray(iccDataOffsets) && iccDataOffsets.length > 0;\n}\n\nfunction hasPngFileData(pngFileDataOffset) {\n    return pngFileDataOffset !== undefined;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport Types from './types.js';\n\nexport default {\n    read\n};\n\nfunction read(dataView, fileDataOffset) {\n    const length = getLength(dataView, fileDataOffset);\n    const numberOfColorComponents = getNumberOfColorComponents(dataView, fileDataOffset, length);\n    return {\n        'Bits Per Sample': getDataPrecision(dataView, fileDataOffset, length),\n        'Image Height': getImageHeight(dataView, fileDataOffset, length),\n        'Image Width': getImageWidth(dataView, fileDataOffset, length),\n        'Color Components': numberOfColorComponents,\n        'Subsampling': numberOfColorComponents && getSubsampling(dataView, fileDataOffset, numberOfColorComponents.value, length)\n    };\n}\n\nfunction getLength(dataView, fileDataOffset) {\n    return Types.getShortAt(dataView, fileDataOffset);\n}\n\nfunction getDataPrecision(dataView, fileDataOffset, length) {\n    const OFFSET = 2;\n    const SIZE = 1;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: '' + value\n    };\n}\n\nfunction getImageHeight(dataView, fileDataOffset, length) {\n    const OFFSET = 3;\n    const SIZE = 2;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const value = Types.getShortAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: `${value}px`\n    };\n}\n\nfunction getImageWidth(dataView, fileDataOffset, length) {\n    const OFFSET = 5;\n    const SIZE = 2;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const value = Types.getShortAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: `${value}px`\n    };\n}\n\nfunction getNumberOfColorComponents(dataView, fileDataOffset, length) {\n    const OFFSET = 7;\n    const SIZE = 1;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: '' + value\n    };\n}\n\nfunction getSubsampling(dataView, fileDataOffset, numberOfColorComponents, length) {\n    const OFFSET = 8;\n    const SIZE = 3 * numberOfColorComponents;\n\n    if (OFFSET + SIZE > length) {\n        return undefined;\n    }\n\n    const components = [];\n\n    for (let i = 0; i < numberOfColorComponents; i++) {\n        const componentOffset = fileDataOffset + OFFSET + i * 3;\n        components.push([\n            Types.getByteAt(dataView, componentOffset),\n            Types.getByteAt(dataView, componentOffset + 1),\n            Types.getByteAt(dataView, componentOffset + 2)\n        ]);\n    }\n\n    return {\n        value: components,\n        description: components.length > 1 ? getComponentIds(components) + getSamplingType(components) : ''\n    };\n}\n\nfunction getComponentIds(components) {\n    const ids = {\n        0x01: 'Y',\n        0x02: 'Cb',\n        0x03: 'Cr',\n        0x04: 'I',\n        0x05: 'Q',\n    };\n\n    return components.map((compontent) => ids[compontent[0]]).join('');\n}\n\nfunction getSamplingType(components) {\n    const types = {\n        0x11: '4:4:4 (1 1)',\n        0x12: '4:4:0 (1 2)',\n        0x14: '4:4:1 (1 4)',\n        0x21: '4:2:2 (2 1)',\n        0x22: '4:2:0 (2 2)',\n        0x24: '4:2:1 (2 4)',\n        0x41: '4:1:1 (4 1)',\n        0x42: '4:1:0 (4 2)'\n    };\n\n    if (components.length === 0 || components[0][1] === undefined || types[components[0][1]] === undefined) {\n        return '';\n    }\n\n    return types[components[0][1]];\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringFromDataView} from './utils.js';\n\nexport const iccTags = {\n    'desc': {\n        'name': 'ICC Description',\n    },\n    'cprt': {\n        'name': 'ICC Copyright',\n    },\n    'dmdd': {\n        'name': 'ICC Device Model Description',\n    },\n    'vued': {\n        'name': 'ICC Viewing Conditions Description',\n    },\n    'dmnd': {\n        'name': 'ICC Device Manufacturer for Display',\n    },\n    'tech': {\n        'name': 'Technology',\n    },\n};\n\nexport const iccProfile = {\n    4: {\n        'name': 'Preferred CMM type',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4),\n        'description': (value) => value !== null ? toCompany(value) : '',\n    },\n    8: {\n        'name': 'Profile Version',\n        'value': (dataView, offset) => {\n            return (dataView.getUint8(offset)).toString(10) + '.'\n            + (dataView.getUint8(offset + 1) >> 4).toString(10) + '.'\n            + (dataView.getUint8(offset + 1) % 16).toString(10);\n        }\n    },\n    12: {\n        'name': 'Profile/Device class',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4),\n        'description': (value) => {\n            switch (value.toLowerCase()) {\n                case 'scnr': return 'Input Device profile';\n                case 'mntr': return 'Display Device profile';\n                case 'prtr': return 'Output Device profile';\n                case 'link': return 'DeviceLink profile';\n                case 'abst': return 'Abstract profile';\n                case 'spac': return 'ColorSpace profile';\n                case 'nmcl': return 'NamedColor profile';\n                case 'cenc': return 'ColorEncodingSpace profile';\n                case 'mid ': return 'MultiplexIdentification profile';\n                case 'mlnk': return 'MultiplexLink profile';\n                case 'mvis': return 'MultiplexVisualization profile';\n                default: return value;\n            }\n        }\n    },\n    16: {\n        'name': 'Color Space',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4)\n    },\n    20: {\n        'name': 'Connection Space',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4)\n    },\n    24: {\n        'name': 'ICC Profile Date',\n        'value': (dataView, offset) => parseDate(dataView, offset).toISOString()\n    },\n    36: {\n        'name': 'ICC Signature',\n        'value': (dataView, offset) => sliceToString(dataView.buffer.slice(offset, offset + 4))\n    },\n    40: {\n        'name': 'Primary Platform',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4),\n        'description': (value) => toCompany(value)\n    },\n    48: {\n        'name': 'Device Manufacturer',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4),\n        'description': (value) => toCompany(value)\n    },\n    52: {\n        'name': 'Device Model Number',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4)\n    },\n    64: {\n        'name': 'Rendering Intent',\n        'value': (dataView, offset) => dataView.getUint32(offset),\n        'description': (value) => {\n            switch (value) {\n                case 0: return 'Perceptual';\n                case 1: return 'Relative Colorimetric';\n                case 2: return 'Saturation';\n                case 3: return 'Absolute Colorimetric';\n                default: return value;\n            }\n        }\n    },\n\n    80: {\n        'name': 'Profile Creator',\n        'value': (dataView, offset) => getStringFromDataView(dataView, offset, 4)\n    },\n};\n\nfunction parseDate(dataView, offset) {\n    const year = dataView.getUint16(offset);\n    const month = dataView.getUint16(offset + 2) - 1;\n    const day = dataView.getUint16(offset + 4);\n    const hours = dataView.getUint16(offset + 6);\n    const minutes = dataView.getUint16(offset + 8);\n    const seconds = dataView.getUint16(offset + 10);\n    return new Date(Date.UTC(year, month, day, hours, minutes, seconds));\n}\n\nfunction sliceToString(slice) {\n    return String.fromCharCode.apply(null, new Uint8Array(slice));\n}\n\nfunction toCompany(value) {\n    switch (value.toLowerCase()) {\n        case 'appl': return 'Apple';\n        case 'adbe': return 'Adobe';\n        case 'msft': return 'Microsoft';\n        case 'sunw': return 'Sun Microsystems';\n        case 'sgi': return 'Silicon Graphics';\n        case 'tgnt': return 'Taligent';\n        default: return value;\n    }\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\nimport {iccTags, iccProfile} from './icc-tag-names.js';\nimport {getStringFromDataView, getUnicodeStringFromDataView} from './utils.js';\n\nexport default {\n    read\n};\n\nconst PROFILE_HEADER_LENGTH = 84;\nconst ICC_TAG_COUNT_OFFSET = 128;\nconst ICC_SIGNATURE = 'acsp';\nconst TAG_TYPE_DESC = 'desc';\nconst TAG_TYPE_MULTI_LOCALIZED_UNICODE_TYPE = 'mluc';\nconst TAG_TYPE_TEXT = 'text';\nconst TAG_TYPE_SIGNATURE = 'sig ';\nconst TAG_TABLE_SINGLE_TAG_DATA = 12;\n\n// ICC profile data can be longer than application segment max length of ~64k.\n// so it can be split into multiple APP2 segments. Each segment includes\n// total chunk count and chunk number.\n// Here we read all chunks into single continious array of bytes.\nfunction read(dataView, iccData) {\n    try {\n        const totalIccProfileLength = iccData.reduce((sum, icc) => sum + icc.length, 0);\n\n        const iccBinaryData = new Uint8Array(totalIccProfileLength);\n        let offset = 0;\n        const buffer = getBuffer(dataView);\n\n        for (let chunkNumber = 1; chunkNumber <= iccData.length; chunkNumber++) {\n            const iccDataChunk = iccData.find((x) => x.chunkNumber === chunkNumber);\n            if (!iccDataChunk) {\n                throw new Error(`ICC chunk ${chunkNumber} not found`);\n            }\n\n            const data = buffer.slice(iccDataChunk.offset, iccDataChunk.offset + iccDataChunk.length);\n            const chunkData = new Uint8Array(data);\n\n            iccBinaryData.set(chunkData, offset);\n            offset += chunkData.length;\n        }\n\n        return parseTags(new DataView(iccBinaryData.buffer));\n    } catch (error) {\n        return {};\n    }\n}\n\nfunction getBuffer(dataView) {\n    if (Array.isArray(dataView)) {\n        return (new DataView(Uint8Array.from(dataView).buffer)).buffer;\n    }\n    return dataView.buffer;\n}\n\nfunction iccDoesNotHaveTagCount(buffer) {\n    return buffer.length < (ICC_TAG_COUNT_OFFSET + 4);\n}\n\nfunction hasTagsData(buffer, tagHeaderOffset) {\n    return buffer.length < tagHeaderOffset + TAG_TABLE_SINGLE_TAG_DATA;\n}\n\nexport function parseTags(dataView) {\n    const buffer = dataView.buffer;\n\n    const length = dataView.getUint32();\n    if (dataView.byteLength !== length) {\n        throw new Error('ICC profile length not matching');\n    }\n\n    if (dataView.length < PROFILE_HEADER_LENGTH) {\n        throw new Error('ICC profile too short');\n    }\n\n    const tags = {};\n\n    const iccProfileKeys = Object.keys(iccProfile);\n    for (let i = 0; i < iccProfileKeys.length; i++) {\n        const offset = iccProfileKeys[i];\n        const profileEntry = iccProfile[offset];\n        const value = profileEntry.value(dataView, parseInt(offset, 10));\n        let description = value;\n        if (profileEntry.description) {\n            description = profileEntry.description(value);\n        }\n\n        tags[profileEntry.name] = {\n            value,\n            description\n        };\n    }\n\n    const signature = sliceToString(buffer.slice(36, 40));\n    if (signature !== ICC_SIGNATURE) {\n        throw new Error('ICC profile: missing signature');\n    }\n\n    /* ICC data is incomplete but we have header parsed so lets return it */\n    if (iccDoesNotHaveTagCount(buffer)) {\n        return tags;\n    }\n\n    const tagCount = dataView.getUint32(128);\n    let tagHeaderOffset = 132;\n\n    for (let i = 0; i < tagCount; i++) {\n        if (hasTagsData(buffer, tagHeaderOffset)) {\n            // Tags are corrupted (offset too far), return what we parsed until now\n            return tags;\n        }\n        const tagSignature = getStringFromDataView(dataView, tagHeaderOffset, 4);\n        const tagOffset = dataView.getUint32(tagHeaderOffset + 4);\n        const tagSize = dataView.getUint32(tagHeaderOffset + 8);\n\n        if (tagOffset > buffer.length) {\n            // Tag data is invalid, lets return what we managed to parse\n            return tags;\n        }\n        const tagType = getStringFromDataView(dataView, tagOffset, 4);\n\n        if (tagType === TAG_TYPE_DESC) {\n            const tagValueSize = dataView.getUint32(tagOffset + 8);\n            if (tagValueSize > tagSize) {\n                // Tag data is invalid, lets return what we managed to parse\n                return tags;\n            }\n\n            const val = sliceToString(buffer.slice(tagOffset + 12, tagOffset + tagValueSize + 11));\n            addTag(tags, tagSignature, val);\n        } else if (tagType === TAG_TYPE_MULTI_LOCALIZED_UNICODE_TYPE) {\n            const numRecords = dataView.getUint32(tagOffset + 8);\n            const recordSize = dataView.getUint32(tagOffset + 12);\n            let offset = tagOffset + 16;\n            const val = [];\n            for (let recordNum = 0; recordNum < numRecords; recordNum++) {\n                const languageCode = getStringFromDataView(dataView, offset + 0, 2);\n                const countryCode = getStringFromDataView(dataView, offset + 2, 2);\n                const textLength = dataView.getUint32(offset + 4);\n                const textOffset = dataView.getUint32(offset + 8);\n\n                const text = getUnicodeStringFromDataView(dataView, tagOffset + textOffset, textLength);\n                val.push({languageCode, countryCode, text});\n                offset += recordSize;\n            }\n            if (numRecords === 1) {\n                addTag(tags, tagSignature, val[0].text);\n            } else {\n                const valObj = {};\n                for (let valIndex = 0; valIndex < val.length; valIndex++) {\n                    valObj[`${val[valIndex].languageCode}-${val[valIndex].countryCode}`] = val[valIndex].text;\n                }\n                addTag(tags, tagSignature, valObj);\n            }\n        } else if (tagType === TAG_TYPE_TEXT) {\n            const val = sliceToString(buffer.slice(tagOffset + 8, tagOffset + tagSize - 7));\n            addTag(tags, tagSignature, val);\n        } else if (tagType === TAG_TYPE_SIGNATURE) {\n            const val = sliceToString(buffer.slice(tagOffset + 8, tagOffset + 12));\n            addTag(tags, tagSignature, val);\n        }\n        tagHeaderOffset = tagHeaderOffset + 12;\n    }\n\n    return tags;\n}\n\nfunction sliceToString(slice) {\n    return String.fromCharCode.apply(null, new Uint8Array(slice));\n}\n\nfunction addTag(tags, tagSignature, value) {\n    if (iccTags[tagSignature]) {\n        tags[iccTags[tagSignature].name] = {value, description: value};\n    } else {\n        tags[tagSignature] = {value, description: value};\n    }\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringFromDataView} from './utils.js';\nimport Constants from './constants.js';\n\nexport default {\n    isHeicFile,\n    findHeicOffsets\n};\n\nfunction isHeicFile(dataView) {\n    const HEIC_ID = 'ftyp';\n    const HEIC_ID_OFFSET = 4;\n    const HEIC_MAJOR_BRANDS = ['heic', 'heix', 'hevc', 'hevx', 'heim', 'heis', 'hevm', 'hevs', 'mif1'];\n    const HEIC_MAJOR_BRAND_LENGTH = 4;\n\n    const heicMajorBrand = getStringFromDataView(dataView, HEIC_ID_OFFSET + HEIC_ID.length, HEIC_MAJOR_BRAND_LENGTH);\n\n    return (getStringFromDataView(dataView, HEIC_ID_OFFSET, HEIC_ID.length) === HEIC_ID)\n        && (HEIC_MAJOR_BRANDS.indexOf(heicMajorBrand) !== -1);\n}\n\nfunction findHeicOffsets(dataView) {\n    if (Constants.USE_EXIF || Constants.USE_ICC) {\n        const {offset: metaOffset, length: metaLength} = findMetaAtom(dataView);\n        if (metaOffset === undefined) {\n            return {hasAppMarkers: false};\n        }\n\n        const metaEndOffset = Math.min(metaOffset + metaLength, dataView.byteLength);\n        const {exifItemOffset, ilocOffset, colrOffset} = findMetaItems(dataView, metaOffset, metaEndOffset);\n\n        const exifOffset = findExifOffset(dataView, exifItemOffset, ilocOffset, metaEndOffset);\n        const iccChunks = findIccChunks(dataView, colrOffset, metaEndOffset);\n        return {\n            hasAppMarkers: (exifOffset !== undefined) || (iccChunks !== undefined),\n            tiffHeaderOffset: exifOffset,\n            iccChunks\n        };\n    }\n\n    return {hasAppMarkers: false};\n}\n\nfunction findMetaAtom(dataView) {\n    const ATOM_LENGTH_SIZE = 4;\n    const ATOM_TYPE_SIZE = 4;\n    const ATOM_MIN_LENGTH = 8;\n    const ATOM_TYPE_OFFSET = 4;\n\n    let offset = 0;\n\n    while (offset + ATOM_LENGTH_SIZE + ATOM_TYPE_SIZE <= dataView.byteLength) {\n        const atomLength = getAtomLength(dataView, offset);\n        if (atomLength >= ATOM_MIN_LENGTH) {\n            const atomType = getStringFromDataView(dataView, offset + ATOM_TYPE_OFFSET, ATOM_TYPE_SIZE);\n            if (atomType === 'meta') {\n                return {\n                    offset,\n                    length: atomLength\n                };\n            }\n        }\n\n        offset += atomLength;\n    }\n\n    return {\n        offset: undefined,\n        length: 0\n    };\n}\n\nfunction getAtomLength(dataView, offset) {\n    const ATOM_EXTENDED_SIZE_LOW_OFFSET = 12;\n\n    const atomLength = dataView.getUint32(offset);\n    if (extendsToEndOfFile(atomLength)) {\n        return dataView.byteLength - offset;\n    }\n    if (hasExtendedSize(atomLength)) {\n        if (hasEmptyHighBits(dataView, offset)) {\n            // It's a bit tricky to handle 64 bit numbers in JavaScript. Let's\n            // wait until there are real-world examples where it is necessary.\n            return dataView.getUint32(offset + ATOM_EXTENDED_SIZE_LOW_OFFSET);\n        }\n    }\n\n    return atomLength;\n}\n\nfunction extendsToEndOfFile(atomLength) {\n    return atomLength === 0;\n}\n\nfunction hasExtendedSize(atomLength) {\n    return atomLength === 1;\n}\n\nfunction hasEmptyHighBits(dataView, offset) {\n    const ATOM_EXTENDED_SIZE_OFFSET = 8;\n    return dataView.getUint32(offset + ATOM_EXTENDED_SIZE_OFFSET) === 0;\n}\n\nfunction findMetaItems(dataView, offset, metaEndOffset) {\n    const STRING_SIZE = 4;\n    const ITEM_INDEX_REL_OFFSET = -4;\n    const offsets = {\n        ilocOffset: undefined,\n        exifItemOffset: undefined,\n        colrOffset: undefined\n    };\n\n    while ((offset + STRING_SIZE <= metaEndOffset)\n        && (!offsets.ilocOffset || !offsets.exifItemOffset || !offsets.colrOffset)) {\n        const itemName = getStringFromDataView(dataView, offset, STRING_SIZE);\n        if (Constants.USE_EXIF && (itemName === 'iloc')) {\n            offsets.ilocOffset = offset;\n        } else if (Constants.USE_EXIF && (itemName === 'Exif')) {\n            offsets.exifItemOffset = offset + ITEM_INDEX_REL_OFFSET;\n        } else if (Constants.USE_ICC && (itemName === 'colr')) {\n            offsets.colrOffset = offset + ITEM_INDEX_REL_OFFSET;\n        }\n\n        offset++;\n    }\n\n    return offsets;\n}\n\nfunction findExifOffset(dataView, exifItemOffset, offset, metaEndOffset) {\n    const EXIF_ITEM_OFFSET_SIZE = 2;\n    const ILOC_DATA_OFFSET = 12;\n    const EXIF_POINTER_OFFSET = 8;\n    const EXIF_POINTER_SIZE = 4;\n    const EXIF_PREFIX_LENGTH_OFFSET = 4;\n    const ILOC_ITEM_SIZE = 16;\n\n    if (!offset || !exifItemOffset || (exifItemOffset + EXIF_ITEM_OFFSET_SIZE > metaEndOffset)) {\n        return undefined;\n    }\n\n    const exifItemIndex = dataView.getUint16(exifItemOffset);\n    offset += ILOC_DATA_OFFSET;\n\n    while (offset + ILOC_ITEM_SIZE <= metaEndOffset) {\n        const itemIndex = dataView.getUint16(offset);\n        if (itemIndex === exifItemIndex) {\n            const exifPointer = dataView.getUint32(offset + EXIF_POINTER_OFFSET);\n            if (exifPointer + EXIF_POINTER_SIZE <= dataView.byteLength) {\n                const exifOffset = dataView.getUint32(exifPointer);\n                const prefixLength = exifOffset + EXIF_PREFIX_LENGTH_OFFSET;\n                return exifPointer + prefixLength;\n            }\n        }\n        offset += ILOC_ITEM_SIZE;\n    }\n\n    return undefined;\n}\n\nfunction findIccChunks(dataView, offset, metaEndOffset) {\n    const ITEM_TYPE_OFFSET = 8;\n    const ITEM_TYPE_SIZE = 4;\n    const ITEM_CONTENT_OFFSET = 12;\n\n    if (!offset || (offset + ITEM_CONTENT_OFFSET > metaEndOffset)) {\n        return undefined;\n    }\n\n    const colorType = getStringFromDataView(dataView, offset + ITEM_TYPE_OFFSET, ITEM_TYPE_SIZE);\n    if ((colorType !== 'prof') && (colorType !== 'rICC')) {\n        return undefined;\n    }\n\n    return [{\n        offset: offset + ITEM_CONTENT_OFFSET,\n        length: getAtomLength(dataView, offset) - ITEM_CONTENT_OFFSET,\n        chunkNumber: 1,\n        chunksTotal: 1\n    }];\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringFromDataView} from './utils.js';\nimport Constants from './constants.js';\n\nexport default {\n    isJpegFile,\n    findJpegOffsets\n};\n\nconst MIN_JPEG_DATA_BUFFER_LENGTH = 2;\nconst JPEG_ID = 0xffd8;\nconst JPEG_ID_SIZE = 2;\nconst APP_ID_OFFSET = 4;\nconst APP_MARKER_SIZE = 2;\nconst TIFF_HEADER_OFFSET = 10; // From start of APP1 marker.\nconst IPTC_DATA_OFFSET = 18; // From start of APP13 marker.\nconst XMP_DATA_OFFSET = 33; // From start of APP1 marker.\nconst XMP_EXTENDED_DATA_OFFSET = 79; // From start of APP1 marker including GUID, total length, and offset.\nconst APP2_ICC_DATA_OFFSET = 18; // From start of APP2 marker including marker and chunk/chunk total numbers.\n\nconst APP2_ICC_IDENTIFIER = 'ICC_PROFILE\\0';\nconst ICC_CHUNK_NUMBER_OFFSET = APP_ID_OFFSET + APP2_ICC_IDENTIFIER.length;\nconst ICC_TOTAL_CHUNKS_OFFSET = ICC_CHUNK_NUMBER_OFFSET + 1;\n\nconst SOF0_MARKER = 0xffc0;\nconst SOF2_MARKER = 0xffc2;\nconst DHT_MARKER = 0xffc4;\nconst DQT_MARKER = 0xffdb;\nconst DRI_MARKER = 0xffdd;\nconst SOS_MARKER = 0xffda;\n\nconst APP0_MARKER = 0xffe0;\nconst APP1_MARKER = 0xffe1;\nconst APP2_MARKER = 0xffe2;\nconst APP13_MARKER = 0xffed;\nconst APP15_MARKER = 0xffef;\nconst COMMENT_MARKER = 0xfffe;\n\nconst APP1_EXIF_IDENTIFIER = 'Exif';\nconst APP1_XMP_IDENTIFIER = 'http://ns.adobe.com/xap/1.0/\\x00';\nconst APP1_XMP_EXTENDED_IDENTIFIER = 'http://ns.adobe.com/xmp/extension/\\x00';\nconst APP13_IPTC_IDENTIFIER = 'Photoshop 3.0';\n\nfunction isJpegFile(dataView) {\n    return (dataView.byteLength >= MIN_JPEG_DATA_BUFFER_LENGTH) && (dataView.getUint16(0) === JPEG_ID);\n}\n\nfunction findJpegOffsets(dataView) {\n    let appMarkerPosition = JPEG_ID_SIZE;\n    let fieldLength;\n    let sof0DataOffset;\n    let sof2DataOffset;\n    let tiffHeaderOffset;\n    let iptcDataOffset;\n    let xmpChunks;\n    let iccChunks;\n\n    while (appMarkerPosition + APP_ID_OFFSET + 5 <= dataView.byteLength) {\n        if (Constants.USE_FILE && isSOF0Marker(dataView, appMarkerPosition)) {\n            sof0DataOffset = appMarkerPosition + APP_MARKER_SIZE;\n        } else if (Constants.USE_FILE && isSOF2Marker(dataView, appMarkerPosition)) {\n            sof2DataOffset = appMarkerPosition + APP_MARKER_SIZE;\n        } else if (Constants.USE_EXIF && isApp1ExifMarker(dataView, appMarkerPosition)) {\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n            tiffHeaderOffset = appMarkerPosition + TIFF_HEADER_OFFSET;\n        } else if (Constants.USE_XMP && isApp1XmpMarker(dataView, appMarkerPosition)) {\n            if (!xmpChunks) {\n                xmpChunks = [];\n            }\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n            xmpChunks.push(getXmpChunkDetails(appMarkerPosition, fieldLength));\n        } else if (Constants.USE_XMP && isApp1ExtendedXmpMarker(dataView, appMarkerPosition)) {\n            if (!xmpChunks) {\n                xmpChunks = [];\n            }\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n            xmpChunks.push(getExtendedXmpChunkDetails(appMarkerPosition, fieldLength));\n        } else if (Constants.USE_IPTC && isApp13PhotoshopMarker(dataView, appMarkerPosition)) {\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n            iptcDataOffset = appMarkerPosition + IPTC_DATA_OFFSET;\n        } else if (Constants.USE_ICC && isApp2ICCMarker(dataView, appMarkerPosition)) {\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n            const iccDataOffset = appMarkerPosition + APP2_ICC_DATA_OFFSET;\n            const iccDataLength = fieldLength - (APP2_ICC_DATA_OFFSET - APP_MARKER_SIZE);\n\n            const iccChunkNumber = dataView.getUint8(appMarkerPosition + ICC_CHUNK_NUMBER_OFFSET);\n            const iccChunksTotal = dataView.getUint8(appMarkerPosition + ICC_TOTAL_CHUNKS_OFFSET);\n            if (!iccChunks) {\n                iccChunks = [];\n            }\n            iccChunks.push({offset: iccDataOffset, length: iccDataLength, chunkNumber: iccChunkNumber, chunksTotal: iccChunksTotal});\n        } else if (isAppMarker(dataView, appMarkerPosition)) {\n            fieldLength = dataView.getUint16(appMarkerPosition + APP_MARKER_SIZE);\n        } else {\n            break;\n        }\n        appMarkerPosition += APP_MARKER_SIZE + fieldLength;\n    }\n\n    return {\n        hasAppMarkers: appMarkerPosition > JPEG_ID_SIZE,\n        fileDataOffset: sof0DataOffset || sof2DataOffset,\n        tiffHeaderOffset,\n        iptcDataOffset,\n        xmpChunks,\n        iccChunks\n    };\n}\n\nfunction isSOF0Marker(dataView, appMarkerPosition) {\n    return (dataView.getUint16(appMarkerPosition) === SOF0_MARKER);\n}\n\nfunction isSOF2Marker(dataView, appMarkerPosition) {\n    return (dataView.getUint16(appMarkerPosition) === SOF2_MARKER);\n}\n\nfunction isApp2ICCMarker(dataView, appMarkerPosition) {\n    const markerIdLength = APP2_ICC_IDENTIFIER.length;\n\n    return (dataView.getUint16(appMarkerPosition) === APP2_MARKER)\n        && (getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP2_ICC_IDENTIFIER);\n}\n\nfunction isApp1ExifMarker(dataView, appMarkerPosition) {\n    const markerIdLength = APP1_EXIF_IDENTIFIER.length;\n\n    return (dataView.getUint16(appMarkerPosition) === APP1_MARKER)\n        && (getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP1_EXIF_IDENTIFIER)\n        && (dataView.getUint8(appMarkerPosition + APP_ID_OFFSET + markerIdLength) === 0x00);\n}\n\nfunction isApp1XmpMarker(dataView, appMarkerPosition) {\n    return (dataView.getUint16(appMarkerPosition) === APP1_MARKER)\n        && isXmpIdentifier(dataView, appMarkerPosition);\n}\n\nfunction isXmpIdentifier(dataView, appMarkerPosition) {\n    const markerIdLength = APP1_XMP_IDENTIFIER.length;\n    return getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP1_XMP_IDENTIFIER;\n}\n\nfunction isApp1ExtendedXmpMarker(dataView, appMarkerPosition) {\n    return (dataView.getUint16(appMarkerPosition) === APP1_MARKER)\n        && isExtendedXmpIdentifier(dataView, appMarkerPosition);\n}\n\nfunction isExtendedXmpIdentifier(dataView, appMarkerPosition) {\n    const markerIdLength = APP1_XMP_EXTENDED_IDENTIFIER.length;\n    return getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP1_XMP_EXTENDED_IDENTIFIER;\n}\n\nfunction getXmpChunkDetails(appMarkerPosition, fieldLength) {\n    return {\n        dataOffset: appMarkerPosition + XMP_DATA_OFFSET,\n        length: fieldLength - (XMP_DATA_OFFSET - APP_MARKER_SIZE)\n    };\n}\n\nfunction getExtendedXmpChunkDetails(appMarkerPosition, fieldLength) {\n    return {\n        dataOffset: appMarkerPosition + XMP_EXTENDED_DATA_OFFSET,\n        length: fieldLength - (XMP_EXTENDED_DATA_OFFSET - APP_MARKER_SIZE)\n    };\n}\n\nfunction isApp13PhotoshopMarker(dataView, appMarkerPosition) {\n    const markerIdLength = APP13_IPTC_IDENTIFIER.length;\n\n    return (dataView.getUint16(appMarkerPosition) === APP13_MARKER)\n        && (getStringFromDataView(dataView, appMarkerPosition + APP_ID_OFFSET, markerIdLength) === APP13_IPTC_IDENTIFIER)\n        && (dataView.getUint8(appMarkerPosition + APP_ID_OFFSET + markerIdLength) === 0x00);\n}\n\nfunction isAppMarker(dataView, appMarkerPosition) {\n    const appMarker = dataView.getUint16(appMarkerPosition);\n    return ((appMarker >= APP0_MARKER) && (appMarker <= APP15_MARKER))\n        || (appMarker === COMMENT_MARKER)\n        || (appMarker === SOF0_MARKER)\n        || (appMarker === SOF2_MARKER)\n        || (appMarker === DHT_MARKER)\n        || (appMarker === DQT_MARKER)\n        || (appMarker === DRI_MARKER)\n        || (appMarker === SOS_MARKER);\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringFromDataView} from './utils.js';\nimport Constants from './constants.js';\n\nexport default {\n    isPngFile,\n    findPngOffsets\n};\n\nconst PNG_ID = '\\x89\\x50\\x4e\\x47\\x0d\\x0a\\x1a\\x0a';\nconst PNG_CHUNK_LENGTH_SIZE = 4;\nconst PNG_CHUNK_TYPE_SIZE = 4;\nconst PNG_CHUNK_LENGTH_OFFSET = 0;\nconst PNG_CHUNK_TYPE_OFFSET = PNG_CHUNK_LENGTH_SIZE;\nconst PNG_CHUNK_DATA_OFFSET = PNG_CHUNK_LENGTH_SIZE + PNG_CHUNK_TYPE_SIZE;\nconst PNG_XMP_PREFIX = 'XML:com.adobe.xmp\\x00';\n\nfunction isPngFile(dataView) {\n    return getStringFromDataView(dataView, 0, PNG_ID.length) === PNG_ID;\n}\n\nfunction findPngOffsets(dataView) {\n    const PNG_CRC_SIZE = 4;\n\n    const offsets = {\n        hasAppMarkers: false\n    };\n\n    let offset = PNG_ID.length;\n\n    while (offset + PNG_CHUNK_LENGTH_SIZE + PNG_CHUNK_TYPE_SIZE <= dataView.byteLength) {\n        if (Constants.USE_PNG_FILE && isPngImageHeaderChunk(dataView, offset)) {\n            offsets.hasAppMarkers = true;\n            offsets.pngHeaderOffset = offset + PNG_CHUNK_DATA_OFFSET;\n        } else if (Constants.USE_XMP && isPngXmpChunk(dataView, offset)) {\n            const dataOffset = getPngXmpDataOffset(dataView, offset);\n            if (dataOffset !== undefined) {\n                offsets.hasAppMarkers = true;\n                offsets.xmpChunks = [{\n                    dataOffset,\n                    length: dataView.getUint32(offset + PNG_CHUNK_LENGTH_OFFSET) - (dataOffset - (offset + PNG_CHUNK_DATA_OFFSET))\n                }];\n            }\n        }\n\n        offset += dataView.getUint32(offset + PNG_CHUNK_LENGTH_OFFSET)\n            + PNG_CHUNK_LENGTH_SIZE\n            + PNG_CHUNK_TYPE_SIZE\n            + PNG_CRC_SIZE;\n    }\n\n    return offsets;\n}\n\nfunction isPngImageHeaderChunk(dataView, offset) {\n    const PNG_CHUNK_TYPE_IMAGE_HEADER = 'IHDR';\n    return getStringFromDataView(dataView, offset + PNG_CHUNK_TYPE_OFFSET, PNG_CHUNK_TYPE_SIZE) === PNG_CHUNK_TYPE_IMAGE_HEADER;\n}\n\nfunction isPngXmpChunk(dataView, offset) {\n    const PNG_CHUNK_TYPE_INTERNATIONAL_TEXT = 'iTXt';\n    return (getStringFromDataView(dataView, offset + PNG_CHUNK_TYPE_OFFSET, PNG_CHUNK_TYPE_SIZE) === PNG_CHUNK_TYPE_INTERNATIONAL_TEXT)\n        && (getStringFromDataView(dataView, offset + PNG_CHUNK_DATA_OFFSET, PNG_XMP_PREFIX.length) === PNG_XMP_PREFIX);\n}\n\nfunction getPngXmpDataOffset(dataView, offset) {\n    const COMPRESSION_FLAG_SIZE = 1;\n    const COMPRESSION_METHOD_SIZE = 1;\n\n    offset += PNG_CHUNK_DATA_OFFSET + PNG_XMP_PREFIX.length + COMPRESSION_FLAG_SIZE + COMPRESSION_METHOD_SIZE;\n\n    let numberOfNullSeparators = 0;\n    while (numberOfNullSeparators < 2 && offset < dataView.byteLength) {\n        if (dataView.getUint8(offset) === 0x00) {\n            numberOfNullSeparators++;\n        }\n        offset++;\n    }\n    if (numberOfNullSeparators < 2) {\n        return undefined;\n    }\n    return offset;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport ByteOrder from './byte-order.js';\nimport Constants from './constants.js';\n\nexport default {\n    isTiffFile,\n    findTiffOffsets\n};\n\nfunction isTiffFile(dataView) {\n    const MIN_TIFF_DATA_BUFFER_LENGTH = 4;\n\n    return (dataView.byteLength >= MIN_TIFF_DATA_BUFFER_LENGTH) && hasTiffMarker(dataView);\n}\n\nfunction hasTiffMarker(dataView) {\n    const TIFF_ID = 0x2a;\n    const TIFF_ID_OFFSET = 2;\n\n    const littleEndian = dataView.getUint16(0) === ByteOrder.LITTLE_ENDIAN;\n    return dataView.getUint16(TIFF_ID_OFFSET, littleEndian) === TIFF_ID;\n}\n\nfunction findTiffOffsets() {\n    const TIFF_FILE_HEADER_OFFSET = 0;\n\n    if (Constants.USE_EXIF) {\n        return {\n            hasAppMarkers: true,\n            tiffHeaderOffset: TIFF_FILE_HEADER_OFFSET\n        };\n    }\n    return {};\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringFromDataView} from './utils.js';\nimport Constants from './constants.js';\n\nexport default {\n    isWebpFile,\n    findOffsets\n};\n\nfunction isWebpFile(dataView) {\n    const RIFF_ID_OFFSET = 0;\n    const RIFF_ID = 'RIFF';\n    const WEBP_MARKER_OFFSET = 8;\n    const WEBP_MARKER = 'WEBP';\n\n    return getStringFromDataView(dataView, RIFF_ID_OFFSET, RIFF_ID.length) === RIFF_ID\n        && getStringFromDataView(dataView, WEBP_MARKER_OFFSET, WEBP_MARKER.length) === WEBP_MARKER;\n}\n\nfunction findOffsets(dataView) {\n    const SUB_CHUNK_START_OFFSET = 12;\n    const CHUNK_SIZE_OFFSET = 4;\n    const EXIF_IDENTIFIER = 'Exif\\x00\\x00';\n    const CHUNK_HEADER_SIZE = 8;\n\n    let offset = SUB_CHUNK_START_OFFSET;\n    let hasAppMarkers = false;\n    let tiffHeaderOffset;\n    let xmpChunks;\n    let iccChunks;\n\n    while (offset + CHUNK_HEADER_SIZE < dataView.byteLength) {\n        const chunkId = getStringFromDataView(dataView, offset, 4);\n        const chunkSize = dataView.getUint32(offset + CHUNK_SIZE_OFFSET, true);\n\n        if (Constants.USE_EXIF && (chunkId === 'EXIF')) {\n            hasAppMarkers = true;\n            if (getStringFromDataView(dataView, offset + CHUNK_HEADER_SIZE, EXIF_IDENTIFIER.length) === EXIF_IDENTIFIER) {\n                tiffHeaderOffset = offset + CHUNK_HEADER_SIZE + EXIF_IDENTIFIER.length;\n            } else {\n                tiffHeaderOffset = offset + CHUNK_HEADER_SIZE;\n            }\n        } else if (Constants.USE_XMP && (chunkId === 'XMP ')) {\n            hasAppMarkers = true;\n            xmpChunks = [{\n                dataOffset: offset + CHUNK_HEADER_SIZE,\n                length: chunkSize\n            }];\n        } else if (Constants.USE_ICC && (chunkId === 'ICCP')) {\n            hasAppMarkers = true;\n            iccChunks = [{\n                offset: offset + CHUNK_HEADER_SIZE,\n                length: chunkSize,\n                chunkNumber: 1,\n                chunksTotal: 1\n            }];\n        }\n\n        offset += CHUNK_HEADER_SIZE + (chunkSize % 2 === 0 ? chunkSize : chunkSize + 1);\n    }\n\n    return {\n        hasAppMarkers,\n        tiffHeaderOffset,\n        xmpChunks,\n        iccChunks\n    };\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport Constants from './constants.js';\nimport Tiff from './image-header-tiff.js';\nimport Jpeg from './image-header-jpeg.js';\nimport Png from './image-header-png.js';\nimport Heic from './image-header-heic.js';\nimport Webp from './image-header-webp.js';\n\nexport default {\n    parseAppMarkers\n};\n\nfunction parseAppMarkers(dataView) {\n    if (Constants.USE_TIFF && Tiff.isTiffFile(dataView)) {\n        return Tiff.findTiffOffsets();\n    }\n\n    if (Constants.USE_JPEG && Jpeg.isJpegFile(dataView)) {\n        return Jpeg.findJpegOffsets(dataView);\n    }\n\n    if (Constants.USE_PNG && Png.isPngFile(dataView)) {\n        return Png.findPngOffsets(dataView);\n    }\n\n    if (Constants.USE_HEIC && Heic.isHeicFile(dataView)) {\n        return Heic.findHeicOffsets(dataView);\n    }\n\n    if (Constants.USE_WEBP && Webp.isWebpFile(dataView)) {\n        return Webp.findOffsets(dataView);\n    }\n\n    throw new Error('Invalid image format');\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringValue} from './tag-names-utils.js';\n\nexport default {\n    'iptc': {\n        0x0100: {\n            'name': 'Model Version',\n            'description': (value) => {\n                return ((value[0] << 8) + value[1]).toString();\n            }\n        },\n        0x0105: {\n            'name': 'Destination',\n            'repeatable': true\n        },\n        0x0114: {\n            'name': 'File Format',\n            'description': (value) => {\n                return ((value[0] << 8) + value[1]).toString();\n            }\n        },\n        0x0116: {\n            'name': 'File Format Version',\n            'description': (value) => {\n                return ((value[0] << 8) + value[1]).toString();\n            }\n        },\n        0x011e: 'Service Identifier',\n        0x0128: 'Envelope Number',\n        0x0132: 'Product ID',\n        0x013c: 'Envelope Priority',\n        0x0146: {\n            'name': 'Date Sent',\n            'description': getCreationDate\n        },\n        0x0150: {\n            'name': 'Time Sent',\n            'description': getCreationTime\n        },\n        0x015a: {\n            'name': 'Coded Character Set',\n            'description': getEncodingName,\n            'encoding_name': getEncodingName,\n        },\n        0x0164: 'UNO',\n        0x0178: {\n            'name': 'ARM Identifier',\n            'description': (value) => {\n                return ((value[0] << 8) + value[1]).toString();\n            }\n        },\n        0x017a: {\n            'name': 'ARM Version',\n            'description': (value) => {\n                return ((value[0] << 8) + value[1]).toString();\n            }\n        },\n        0x0200: {\n            'name': 'Record Version',\n            'description': (value) => {\n                return ((value[0] << 8) + value[1]).toString();\n            }\n        },\n        0x0203: 'Object Type Reference',\n        0x0204: 'Object Attribute Reference',\n        0x0205: 'Object Name',\n        0x0207: 'Edit Status',\n        0x0208: {\n            'name': 'Editorial Update',\n            'description': (value) => {\n                if (getStringValue(value) === '01') {\n                    return 'Additional Language';\n                }\n                return 'Unknown';\n            }\n        },\n        0x020a: 'Urgency',\n        0x020c: {\n            'name': 'Subject Reference',\n            'repeatable': true,\n            'description': (value) => {\n                const parts = getStringValue(value).split(':');\n                return parts[2] + (parts[3] ? '/' + parts[3] : '') + (parts[4] ? '/' + parts[4] : '');\n            }\n        },\n        0x020f: 'Category',\n        0x0214: {\n            'name': 'Supplemental Category',\n            'repeatable': true\n        },\n        0x0216: 'Fixture Identifier',\n        0x0219: {\n            'name': 'Keywords',\n            'repeatable': true\n        },\n        0x021a: {\n            'name': 'Content Location Code',\n            'repeatable': true\n        },\n        0x021b: {\n            'name': 'Content Location Name',\n            'repeatable': true\n        },\n        0x021e: 'Release Date',\n        0x0223: 'Release Time',\n        0x0225: 'Expiration Date',\n        0x0226: 'Expiration Time',\n        0x0228: 'Special Instructions',\n        0x022a: {\n            'name': 'Action Advised',\n            'description': (value) => {\n                const string = getStringValue(value);\n                if (string === '01') {\n                    return 'Object Kill';\n                } else if (string === '02') {\n                    return 'Object Replace';\n                } else if (string === '03') {\n                    return 'Object Append';\n                } else if (string === '04') {\n                    return 'Object Reference';\n                }\n                return 'Unknown';\n            }\n        },\n        0x022d: {\n            'name': 'Reference Service',\n            'repeatable': true\n        },\n        0x022f: {\n            'name': 'Reference Date',\n            'repeatable': true\n        },\n        0x0232: {\n            'name': 'Reference Number',\n            'repeatable': true\n        },\n        0x0237: {\n            'name': 'Date Created',\n            'description': getCreationDate\n        },\n        0x023c: {\n            'name': 'Time Created',\n            'description': getCreationTime\n        },\n        0x023e: {\n            'name': 'Digital Creation Date',\n            'description': getCreationDate\n        },\n        0x023f: {\n            'name': 'Digital Creation Time',\n            'description': getCreationTime\n        },\n        0x0241: 'Originating Program',\n        0x0246: 'Program Version',\n        0x024b: {\n            'name': 'Object Cycle',\n            'description': (value) => {\n                const string = getStringValue(value);\n                if (string === 'a') {\n                    return 'morning';\n                } else if (string === 'p') {\n                    return 'evening';\n                } else if (string === 'b') {\n                    return 'both';\n                }\n                return 'Unknown';\n            }\n        },\n        0x0250: {\n            'name': 'By-line',\n            'repeatable': true\n        },\n        0x0255: {\n            'name': 'By-line Title',\n            'repeatable': true\n        },\n        0x025a: 'City',\n        0x025c: 'Sub-location',\n        0x025f: 'Province/State',\n        0x0264: 'Country/Primary Location Code',\n        0x0265: 'Country/Primary Location Name',\n        0x0267: 'Original Transmission Reference',\n        0x0269: 'Headline',\n        0x026e: 'Credit',\n        0x0273: 'Source',\n        0x0274: 'Copyright Notice',\n        0x0276: {\n            'name': 'Contact',\n            'repeatable': true\n        },\n        0x0278: 'Caption/Abstract',\n        0x027a: {\n            'name': 'Writer/Editor',\n            'repeatable': true\n        },\n        0x027d: {\n            'name': 'Rasterized Caption',\n            'description': (value) => value\n        },\n        0x0282: 'Image Type',\n        0x0283: {\n            'name': 'Image Orientation',\n            'description': (value) => {\n                const string = getStringValue(value);\n                if (string === 'P') {\n                    return 'Portrait';\n                } else if (string === 'L') {\n                    return 'Landscape';\n                } else if (string === 'S') {\n                    return 'Square';\n                }\n                return 'Unknown';\n            }\n        },\n        0x0287: 'Language Identifier',\n        0x0296: {\n            'name': 'Audio Type',\n            'description': (value) => {\n                const stringValue = getStringValue(value);\n                const character0 = stringValue.charAt(0);\n                const character1 = stringValue.charAt(1);\n                let description = '';\n\n                if (character0 === '1') {\n                    description += 'Mono';\n                } else if (character0 === '2') {\n                    description += 'Stereo';\n                }\n\n                if (character1 === 'A') {\n                    description += ', actuality';\n                } else if (character1 === 'C') {\n                    description += ', question and answer session';\n                } else if (character1 === 'M') {\n                    description += ', music, transmitted by itself';\n                } else if (character1 === 'Q') {\n                    description += ', response to a question';\n                } else if (character1 === 'R') {\n                    description += ', raw sound';\n                } else if (character1 === 'S') {\n                    description += ', scener';\n                } else if (character1 === 'V') {\n                    description += ', voicer';\n                } else if (character1 === 'W') {\n                    description += ', wrap';\n                }\n\n                if (description !== '') {\n                    return description;\n                }\n                return stringValue;\n            }\n        },\n        0x0297: {\n            'name': 'Audio Sampling Rate',\n            'description': (value) => parseInt(getStringValue(value), 10) + ' Hz'\n        },\n        0x0298: {\n            'name': 'Audio Sampling Resolution',\n            'description': (value) => {\n                const bits = parseInt(getStringValue(value), 10);\n                return bits + (bits === 1 ? ' bit' : ' bits');\n            }\n        },\n        0x0299: {\n            'name': 'Audio Duration',\n            'description': (value) => {\n                const duration = getStringValue(value);\n                if (duration.length >= 6) {\n                    return duration.substr(0, 2) + ':' + duration.substr(2, 2) + ':' + duration.substr(4, 2);\n                }\n                return duration;\n            }\n        },\n        0x029a: 'Audio Outcue',\n        0x02ba: 'Short Document ID',\n        0x02bb: 'Unique Document ID',\n        0x02bc: 'Owner ID',\n        0x02c8: {\n            'name': (value) => {\n                if (value.length === 2) {\n                    return 'ObjectData Preview File Format';\n                }\n                return 'Record 2 destination';\n            },\n            'description': (value) => {\n                if (value.length === 2) {\n                    const intValue = (value[0] << 8) + value[1];\n                    if (intValue === 0) {\n                        return 'No ObjectData';\n                    } else if (intValue === 1) {\n                        return 'IPTC-NAA Digital Newsphoto Parameter Record';\n                    } else if (intValue === 2) {\n                        return 'IPTC7901 Recommended Message Format';\n                    } else if (intValue === 3) {\n                        return 'Tagged Image File Format (Adobe/Aldus Image data)';\n                    } else if (intValue === 4) {\n                        return 'Illustrator (Adobe Graphics data)';\n                    } else if (intValue === 5) {\n                        return 'AppleSingle (Apple Computer Inc)';\n                    } else if (intValue === 6) {\n                        return 'NAA 89-3 (ANPA 1312)';\n                    } else if (intValue === 7) {\n                        return 'MacBinary II';\n                    } else if (intValue === 8) {\n                        return 'IPTC Unstructured Character Oriented File Format (UCOFF)';\n                    } else if (intValue === 9) {\n                        return 'United Press International ANPA 1312 variant';\n                    } else if (intValue === 10) {\n                        return 'United Press International Down-Load Message';\n                    } else if (intValue === 11) {\n                        return 'JPEG File Interchange (JFIF)';\n                    } else if (intValue === 12) {\n                        return 'Photo-CD Image-Pac (Eastman Kodak)';\n                    } else if (intValue === 13) {\n                        return 'Microsoft Bit Mapped Graphics File [*.BMP]';\n                    } else if (intValue === 14) {\n                        return 'Digital Audio File [*.WAV] (Microsoft & Creative Labs)';\n                    } else if (intValue === 15) {\n                        return 'Audio plus Moving Video [*.AVI] (Microsoft)';\n                    } else if (intValue === 16) {\n                        return 'PC DOS/Windows Executable Files [*.COM][*.EXE]';\n                    } else if (intValue === 17) {\n                        return 'Compressed Binary File [*.ZIP] (PKWare Inc)';\n                    } else if (intValue === 18) {\n                        return 'Audio Interchange File Format AIFF (Apple Computer Inc)';\n                    } else if (intValue === 19) {\n                        return 'RIFF Wave (Microsoft Corporation)';\n                    } else if (intValue === 20) {\n                        return 'Freehand (Macromedia/Aldus)';\n                    } else if (intValue === 21) {\n                        return 'Hypertext Markup Language \"HTML\" (The Internet Society)';\n                    } else if (intValue === 22) {\n                        return 'MPEG 2 Audio Layer 2 (Musicom), ISO/IEC';\n                    } else if (intValue === 23) {\n                        return 'MPEG 2 Audio Layer 3, ISO/IEC';\n                    } else if (intValue === 24) {\n                        return 'Portable Document File (*.PDF) Adobe';\n                    } else if (intValue === 25) {\n                        return 'News Industry Text Format (NITF)';\n                    } else if (intValue === 26) {\n                        return 'Tape Archive (*.TAR)';\n                    } else if (intValue === 27) {\n                        return 'Tidningarnas Telegrambyrå NITF version (TTNITF DTD)';\n                    } else if (intValue === 28) {\n                        return 'Ritzaus Bureau NITF version (RBNITF DTD)';\n                    } else if (intValue === 29) {\n                        return 'Corel Draw [*.CDR]';\n                    }\n                    return `Unknown format ${intValue}`;\n                }\n                return getStringValue(value);\n            }\n        },\n        0x02c9: {\n            'name': 'ObjectData Preview File Format Version',\n            'description': (value, tags) => {\n                // Format ID, Version ID, Version Description\n                const formatVersions = {\n                    '00': {'00': '1'},\n                    '01': {'01': '1', '02': '2', '03': '3', '04': '4'},\n                    '02': {'04': '4'},\n                    '03': {'01': '5.0', '02': '6.0'},\n                    '04': {'01': '1.40'},\n                    '05': {'01': '2'},\n                    '06': {'01': '1'},\n                    '11': {'01': '1.02'},\n                    '20': {'01': '3.1', '02': '4.0', '03': '5.0', '04': '5.5'},\n                    '21': {'02': '2.0'}\n                };\n                const stringValue = getStringValue(value);\n\n                if (tags['ObjectData Preview File Format']) {\n                    const objectDataPreviewFileFormat = getStringValue(tags['ObjectData Preview File Format'].value);\n                    if (formatVersions[objectDataPreviewFileFormat]\n                        && formatVersions[objectDataPreviewFileFormat][stringValue]) {\n                        return formatVersions[objectDataPreviewFileFormat][stringValue];\n                    }\n                }\n\n                return stringValue;\n            }\n        },\n        0x02ca: 'ObjectData Preview Data',\n        0x070a: {\n            'name': 'Size Mode',\n            'description': (value) => {\n                return (value[0]).toString();\n            }\n        },\n        0x0714: {\n            'name': 'Max Subfile Size',\n            'description': (value) => {\n                let n = 0;\n                for (let i = 0; i < value.length; i++) {\n                    n = (n << 8) + value[i];\n                }\n                return n.toString();\n            }\n        },\n        0x075a: {\n            'name': 'ObjectData Size Announced',\n            'description': (value) => {\n                let n = 0;\n                for (let i = 0; i < value.length; i++) {\n                    n = (n << 8) + value[i];\n                }\n                return n.toString();\n            }\n        },\n        0x075f: {\n            'name': 'Maximum ObjectData Size',\n            'description': (value) => {\n                let n = 0;\n                for (let i = 0; i < value.length; i++) {\n                    n = (n << 8) + value[i];\n                }\n                return n.toString();\n            }\n        }\n    }\n};\n\nfunction getCreationDate(value) {\n    const date = getStringValue(value);\n\n    if (date.length >= 8) {\n        return date.substr(0, 4) + '-' + date.substr(4, 2) + '-' + date.substr(6, 2);\n    }\n\n    return date;\n}\n\nfunction getCreationTime(value) {\n    const time = getStringValue(value);\n    let parsedTime = time;\n\n    if (time.length >= 6) {\n        parsedTime = time.substr(0, 2) + ':' + time.substr(2, 2) + ':' + time.substr(4, 2);\n        if (time.length === 11) {\n            parsedTime += time.substr(6, 1) + time.substr(7, 2) + ':' + time.substr(9, 2);\n        }\n    }\n\n    return parsedTime;\n}\n\nfunction getEncodingName(value) {\n    const string = getStringValue(value);\n    if (string === '\\x1b%G') {\n        return 'UTF-8';\n    } else if (string === '\\x1b%5') {\n        return 'Windows-1252';\n    } else if (string === '\\x1b%/G') {\n        return 'UTF-8 Level 1';\n    } else if (string === '\\x1b%/H') {\n        return 'UTF-8 Level 2';\n    } else if (string === '\\x1b%/I') {\n        return 'UTF-8 Level 3';\n    } else if (string === '\\x1B/A') {\n        return 'ISO-8859-1';\n    } else if (string === '\\x1B/B') {\n        return 'ISO-8859-2';\n    } else if (string === '\\x1B/C') {\n        return 'ISO-8859-3';\n    } else if (string === '\\x1B/D') {\n        return 'ISO-8859-4';\n    } else if (string === '\\x1B/@') {\n        return 'ISO-8859-5';\n    } else if (string === '\\x1B/G') {\n        return 'ISO-8859-6';\n    } else if (string === '\\x1B/F') {\n        return 'ISO-8859-7';\n    } else if (string === '\\x1B/H') {\n        return 'ISO-8859-8';\n    }\n    return 'Unknown';\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport IptcTagNames from './iptc-tag-names.js';\nimport TagDecoder from './tag-decoder.js';\n\nconst BYTES_8BIM = 0x3842494d;\nconst BYTES_8BIM_SIZE = 4;\nconst RESOURCE_BLOCK_HEADER_SIZE = BYTES_8BIM_SIZE + 8;\nconst NAA_RESOURCE_BLOCK_TYPE = 0x0404;\nconst TAG_HEADER_SIZE = 5;\n\nexport default {\n    read\n};\n\nfunction read(dataView, dataOffset) {\n    try {\n        if (Array.isArray(dataView)) {\n            return parseTags(new DataView(Uint8Array.from(dataView).buffer), {size: dataView.length}, 0);\n        }\n        const {naaBlock, dataOffset: newDataOffset} = getNaaResourceBlock(dataView, dataOffset);\n        return parseTags(dataView, naaBlock, newDataOffset);\n    } catch (error) {\n        return {};\n    }\n}\n\nfunction getNaaResourceBlock(dataView, dataOffset) {\n    while (dataOffset + RESOURCE_BLOCK_HEADER_SIZE <= dataView.byteLength) {\n        const resourceBlock = getResourceBlock(dataView, dataOffset);\n        if (isNaaResourceBlock(resourceBlock)) {\n            return {naaBlock: resourceBlock, dataOffset: dataOffset + RESOURCE_BLOCK_HEADER_SIZE};\n        }\n        dataOffset += RESOURCE_BLOCK_HEADER_SIZE + resourceBlock.size + getBlockPadding(resourceBlock);\n    }\n    throw new Error('No IPTC NAA resource block.');\n}\n\nfunction getResourceBlock(dataView, dataOffset) {\n    const RESOURCE_BLOCK_SIZE_OFFSET = 10;\n\n    if (dataView.getUint32(dataOffset, false) !== BYTES_8BIM) {\n        throw new Error('Not an IPTC resource block.');\n    }\n\n    return {\n        type: dataView.getUint16(dataOffset + BYTES_8BIM_SIZE),\n        size: dataView.getUint16(dataOffset + RESOURCE_BLOCK_SIZE_OFFSET)\n    };\n}\n\nfunction isNaaResourceBlock(resourceBlock) {\n    return resourceBlock.type === NAA_RESOURCE_BLOCK_TYPE;\n}\n\nfunction getBlockPadding(resourceBlock) {\n    if (resourceBlock.size % 2 !== 0) {\n        return 1;\n    }\n    return 0;\n}\n\nfunction parseTags(dataView, naaBlock, dataOffset) {\n    const tags = {};\n    let encoding = undefined;\n\n    const endOfBlockOffset = dataOffset + naaBlock['size'];\n\n    while ((dataOffset < endOfBlockOffset) && (dataOffset < dataView.byteLength)) {\n        const {tag, tagSize} = readTag(dataView, dataOffset, tags, encoding);\n\n        if (tag === null) {\n            break;\n        }\n\n        if ('encoding' in tag) {\n            encoding = tag.encoding;\n        }\n\n        if ((tags[tag.name] === undefined) || (tag['repeatable'] === undefined)) {\n            tags[tag.name] = {\n                id: tag.id,\n                value: tag.value,\n                description: tag.description\n            };\n        } else {\n            if (!(tags[tag.name] instanceof Array)) {\n                tags[tag.name] = [{\n                    id: tags[tag.name].id,\n                    value: tags[tag.name].value,\n                    description: tags[tag.name].description\n                }];\n            }\n            tags[tag.name].push({\n                id: tag.id,\n                value: tag.value,\n                description: tag.description\n            });\n        }\n\n        dataOffset += TAG_HEADER_SIZE + tagSize;\n    }\n\n    return tags;\n}\n\nfunction readTag(dataView, dataOffset, tags, encoding) {\n    const TAG_CODE_OFFSET = 1;\n    const TAG_SIZE_OFFSET = 3;\n\n    if (leadByteIsMissing(dataView, dataOffset)) {\n        return {tag: null, tagSize: 0};\n    }\n\n    const tagCode = dataView.getUint16(dataOffset + TAG_CODE_OFFSET);\n    const tagSize = dataView.getUint16(dataOffset + TAG_SIZE_OFFSET);\n    const tagValue = getTagValue(dataView, dataOffset + TAG_HEADER_SIZE, tagSize);\n\n    const tag = {\n        id: tagCode,\n        name: getTagName(IptcTagNames['iptc'][tagCode], tagCode, tagValue),\n        value: tagValue,\n        description: getTagDescription(IptcTagNames['iptc'][tagCode], tagValue, tags, encoding)\n    };\n    if (tagIsRepeatable(tagCode)) {\n        tag['repeatable'] = true;\n    }\n    if (tagContainsEncoding(tagCode)) {\n        tag['encoding'] = IptcTagNames['iptc'][tagCode]['encoding_name'](tagValue);\n    }\n\n    return {tag, tagSize};\n}\n\nfunction leadByteIsMissing(dataView, dataOffset) {\n    const TAG_LEAD_BYTE = 0x1c;\n    return dataView.getUint8(dataOffset) !== TAG_LEAD_BYTE;\n}\n\nfunction getTagValue(dataView, offset, size) {\n    const value = [];\n\n    for (let valueIndex = 0; valueIndex < size; valueIndex++) {\n        value.push(dataView.getUint8(offset + valueIndex));\n    }\n\n    return value;\n}\n\nfunction getTagName(tag, tagCode, tagValue) {\n    if (!tag) {\n        return `undefined-${tagCode}`;\n    }\n    if (tagIsName(tag)) {\n        return tag;\n    }\n    if (hasDynamicName(tag)) {\n        return tag['name'](tagValue);\n    }\n    return tag['name'];\n}\n\nfunction tagIsName(tag) {\n    return typeof tag === 'string';\n}\n\nfunction hasDynamicName(tag) {\n    return typeof (tag['name']) === 'function';\n}\n\nfunction getTagDescription(tag, tagValue, tags, encoding) {\n    if (hasDescriptionProperty(tag)) {\n        try {\n            return tag['description'](tagValue, tags);\n        } catch (error) {\n            // Fall through to next handler.\n        }\n    }\n    if (tagValueIsText(tag, tagValue)) {\n        return TagDecoder.decode(encoding, tagValue);\n    }\n    return tagValue;\n}\n\nfunction tagValueIsText(tag, tagValue) {\n    return tag && tagValue instanceof Array;\n}\n\nfunction hasDescriptionProperty(tag) {\n    return tag && tag['description'] !== undefined;\n}\n\nfunction tagIsRepeatable(tagCode) {\n    return IptcTagNames['iptc'][tagCode] && IptcTagNames['iptc'][tagCode]['repeatable'];\n}\n\nfunction tagContainsEncoding(tagCode) {\n    return IptcTagNames['iptc'][tagCode] && IptcTagNames['iptc'][tagCode]['encoding_name'] !== undefined;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport Types from './types.js';\n\nexport default {\n    read\n};\n\nfunction read(dataView, fileDataOffset) {\n    return {\n        'Image Width': getImageWidth(dataView, fileDataOffset),\n        'Image Height': getImageHeight(dataView, fileDataOffset),\n        'Bit Depth': getBitDepth(dataView, fileDataOffset),\n        'Color Type': getColorType(dataView, fileDataOffset),\n        'Compression': getCompression(dataView, fileDataOffset),\n        'Filter': getFilter(dataView, fileDataOffset),\n        'Interlace': getInterlace(dataView, fileDataOffset)\n    };\n}\n\nfunction getImageWidth(dataView, fileDataOffset) {\n    const OFFSET = 0;\n    const SIZE = 4;\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getLongAt(dataView, fileDataOffset);\n    return {\n        value,\n        description: `${value}px`\n    };\n}\n\nfunction getImageHeight(dataView, fileDataOffset) {\n    const OFFSET = 4;\n    const SIZE = 4;\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getLongAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: `${value}px`\n    };\n}\n\nfunction getBitDepth(dataView, fileDataOffset) {\n    const OFFSET = 8;\n    const SIZE = 1;\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: `${value}`\n    };\n}\n\nfunction getColorType(dataView, fileDataOffset) {\n    const OFFSET = 9;\n    const SIZE = 1;\n    const COLOR_TYPES = {\n        0: 'Grayscale',\n        2: 'RGB',\n        3: 'Palette',\n        4: 'Grayscale with Alpha',\n        6: 'RGB with Alpha'\n    };\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: COLOR_TYPES[value] || 'Unknown'\n    };\n}\n\nfunction getCompression(dataView, fileDataOffset) {\n    const OFFSET = 10;\n    const SIZE = 1;\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: value === 0 ? 'Deflate/Inflate' : 'Unknown'\n    };\n}\n\nfunction getFilter(dataView, fileDataOffset) {\n    const OFFSET = 11;\n    const SIZE = 1;\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: value === 0 ? 'Adaptive' : 'Unknown'\n    };\n}\n\nfunction getInterlace(dataView, fileDataOffset) {\n    const OFFSET = 12;\n    const SIZE = 1;\n    const INTERLACE_TYPES = {\n        0: 'Noninterlaced',\n        1: 'Adam7 Interlace'\n    };\n\n    if (fileDataOffset + OFFSET + SIZE > dataView.byteLength) {\n        return undefined;\n    }\n\n    const value = Types.getByteAt(dataView, fileDataOffset + OFFSET);\n    return {\n        value,\n        description: INTERLACE_TYPES[value] || 'Unknown'\n    };\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport TextDecoder from './text-decoder.js';\n\nconst TAG_HEADER_SIZE = 5;\n\nexport default {\n    decode,\n    TAG_HEADER_SIZE\n};\n\nfunction decode(encoding, tagValue) {\n    const Decoder = TextDecoder.get();\n    if ((typeof Decoder !== 'undefined') && (encoding !== undefined)) {\n        try {\n            return new Decoder(encoding).decode(Uint8Array.from(tagValue));\n        } catch (error) {\n            // Pass through and fall back to ASCII decoding.\n        }\n    }\n\n    const stringValue = tagValue.map((charCode) => String.fromCharCode(charCode)).join('');\n    return decodeAsciiValue(stringValue);\n}\n\nfunction decodeAsciiValue(asciiValue) {\n    try {\n        return decodeURIComponent(escape(asciiValue));\n    } catch (error) {\n        return asciiValue;\n    }\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport TagNamesCommon from './tag-names-common.js';\n\nexport default {\n    0x000b: 'ProcessingSoftware',\n    0x00fe: {\n        name: 'SubfileType',\n        description: (value) => ({\n            0x0: 'Full-resolution image',\n            0x1: 'Reduced-resolution image',\n            0x2: 'Single page of multi-page image',\n            0x3: 'Single page of multi-page reduced-resolution image',\n            0x4: 'Transparency mask',\n            0x5: 'Transparency mask of reduced-resolution image',\n            0x6: 'Transparency mask of multi-page image',\n            0x7: 'Transparency mask of reduced-resolution multi-page image',\n            0x10001: 'Alternate reduced-resolution image',\n            0xffffffff: 'Invalid'\n        })[value] || 'Unknown'\n    },\n    0x00ff: {\n        name: 'OldSubfileType',\n        description: (value) => ({\n            0: 'Full-resolution image',\n            1: 'Reduced-resolution image',\n            2: 'Single page of multi-page image'\n        })[value] || 'Unknown'\n    },\n    0x0100: 'ImageWidth',\n    0x0101: 'ImageLength',\n    0x0102: 'BitsPerSample',\n    0x0103: 'Compression',\n    0x0106: 'PhotometricInterpretation',\n    0x0107: {\n        name: 'Thresholding',\n        description: (value) => ({\n            1: 'No dithering or halftoning',\n            2: 'Ordered dither or halfton',\n            3: 'Randomized dither'\n        })[value] || 'Unknown'\n    },\n    0x0108: 'CellWidth',\n    0x0109: 'CellLength',\n    0x010a: {\n        name: 'FillOrder',\n        description: (value) => ({\n            1: 'Normal',\n            2: 'Reversed'\n        })[value] || 'Unknown'\n    },\n    0x010d: 'DocumentName',\n    0x010e: 'ImageDescription',\n    0x010f: 'Make',\n    0x0110: 'Model',\n    0x0111: 'StripOffsets',\n    0x0112: {\n        name: 'Orientation',\n        description: (value) => {\n            if (value === 1) {\n                return 'top-left';\n            }\n            if (value === 2) {\n                return 'top-right';\n            }\n            if (value === 3) {\n                return 'bottom-right';\n            }\n            if (value === 4) {\n                return 'bottom-left';\n            }\n            if (value === 5) {\n                return 'left-top';\n            }\n            if (value === 6) {\n                return 'right-top';\n            }\n            if (value === 7) {\n                return 'right-bottom';\n            }\n            if (value === 8) {\n                return 'left-bottom';\n            }\n            return 'Undefined';\n        }\n    },\n    0x0115: 'SamplesPerPixel',\n    0x0116: 'RowsPerStrip',\n    0x0117: 'StripByteCounts',\n    0x0118: 'MinSampleValue',\n    0x0119: 'MaxSampleValue',\n    0x011a: {\n        'name': 'XResolution',\n        'description': (value) => {\n            return '' + Math.round(value[0] / value[1]);\n        }\n    },\n    0x011b: {\n        'name': 'YResolution',\n        'description': (value) => {\n            return '' + Math.round(value[0] / value[1]);\n        }\n    },\n    0x011c: 'PlanarConfiguration',\n    0x011d: 'PageName',\n    0x011e: {\n        'name': 'XPosition',\n        'description': (value) => {\n            return '' + Math.round(value[0] / value[1]);\n        }\n    },\n    0x011f: {\n        'name': 'YPosition',\n        'description': (value) => {\n            return '' + Math.round(value[0] / value[1]);\n        }\n    },\n    0x0122: {\n        name: 'GrayResponseUnit',\n        description: (value) => ({\n            1: '0.1',\n            2: '0.001',\n            3: '0.0001',\n            4: '1e-05',\n            5: '1e-06'\n        })[value] || 'Unknown'\n    },\n    0x0128: {\n        name: 'ResolutionUnit',\n        description: (value) => {\n            if (value === 2) {\n                return 'inches';\n            }\n            if (value === 3) {\n                return 'centimeters';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0129: 'PageNumber',\n    0x012d: 'TransferFunction',\n    0x0131: 'Software',\n    0x0132: 'DateTime',\n    0x013b: 'Artist',\n    0x013c: 'HostComputer',\n    0x013d: 'Predictor',\n    0x013e: {\n        'name': 'WhitePoint',\n        'description': (values) => {\n            return values.map((value) => `${value[0]}/${value[1]}`).join(', ');\n        }\n    },\n    0x013f: {\n        'name': 'PrimaryChromaticities',\n        'description': (values) => {\n            return values.map((value) => `${value[0]}/${value[1]}`).join(', ');\n        }\n    },\n    0x0141: 'HalftoneHints',\n    0x0142: 'TileWidth',\n    0x0143: 'TileLength',\n    0x014a: 'A100DataOffset',\n    0x014c: {\n        name: 'InkSet',\n        description: (value) => ({\n            1: 'CMYK',\n            2: 'Not CMYK'\n        })[value] || 'Unknown'\n    },\n    0x0151: 'TargetPrinter',\n    0x0152: {\n        name: 'ExtraSamples',\n        description: (value) => ({\n            0: 'Unspecified',\n            1: 'Associated Alpha',\n            2: 'Unassociated Alpha',\n        })[value] || 'Unknown'\n    },\n    0x0153: {\n        name: 'SampleFormat',\n        description: (value) => {\n            const formats = {\n                1: 'Unsigned',\n                2: 'Signed',\n                3: 'Float',\n                4: 'Undefined',\n                5: 'Complex int',\n                6: 'Complex float',\n            };\n            if (!Array.isArray(value)) {\n                return 'Unknown';\n            }\n            return value.map((sample) => formats[sample] || 'Unknown').join(', ');\n        }\n    },\n    0x0201: 'JPEGInterchangeFormat',\n    0x0202: 'JPEGInterchangeFormatLength',\n    0x0211: {\n        'name': 'YCbCrCoefficients',\n        'description': (values) => {\n            return values.map((value) => '' + value[0] / value[1]).join('/');\n        }\n    },\n    0x0212: 'YCbCrSubSampling',\n    0x0213: {\n        name: 'YCbCrPositioning',\n        description: (value) => {\n            if (value === 1) {\n                return 'centered';\n            }\n            if (value === 2) {\n                return 'co-sited';\n            }\n            return 'undefined ' + value;\n        }\n    },\n    0x0214: {\n        'name': 'ReferenceBlackWhite',\n        'description': (values) => {\n            return values.map((value) => '' + value[0] / value[1]).join(', ');\n        }\n    },\n    0x02bc: 'ApplicationNotes',\n    0x4746: 'Rating',\n    0x4749: 'RatingPercent',\n    0x8298: {\n        name: 'Copyright',\n        description: (value) => value.join('; ')\n    },\n    0x830e: 'PixelScale',\n    0x83bb: 'IPTC-NAA',\n    0x8480: 'IntergraphMatrix',\n    0x8482: 'ModelTiePoint',\n    0x8546: 'SEMInfo',\n    0x85d8: 'ModelTransform',\n    0x8649: 'PhotoshopSettings',\n    0x8769: 'Exif IFD Pointer',\n    0x8773: 'ICC_Profile',\n    0x87af: 'GeoTiffDirectory',\n    0x87b0: 'GeoTiffDoubleParams',\n    0x87b1: 'GeoTiffAsciiParams',\n    0x8825: 'GPS Info IFD Pointer',\n    0x9c9b: 'XPTitle',\n    0x9c9c: 'XPComment',\n    0x9c9d: 'XPAuthor',\n    0x9c9e: 'XPKeywords',\n    0x9c9f: 'XPSubject',\n    0xa480: 'GDALMetadata',\n    0xa481: 'GDALNoData',\n    0xc4a5: 'PrintIM',\n    0xc613: 'DNGBackwardVersion',\n    0xc614: 'UniqueCameraModel',\n    0xc615: 'LocalizedCameraModel',\n    0xc621: 'ColorMatrix1',\n    0xc622: 'ColorMatrix2',\n    0xc623: 'CameraCalibration1',\n    0xc624: 'CameraCalibration2',\n    0xc625: 'ReductionMatrix1',\n    0xc626: 'ReductionMatrix2',\n    0xc627: 'AnalogBalance',\n    0xc628: 'AsShotNeutral',\n    0xc629: 'AsShotWhiteXY',\n    0xc62a: 'BaselineExposure',\n    0xc62b: 'BaselineNoise',\n    0xc62c: 'BaselineSharpness',\n    0xc62e: 'LinearResponseLimit',\n    0xc62f: 'CameraSerialNumber',\n    0xc630: 'DNGLensInfo',\n    0xc633: 'ShadowScale',\n    0xc635: {\n        name: 'MakerNoteSafety',\n        description: (value) => ({\n            0: 'Unsafe',\n            1: 'Safe'\n        })[value] || 'Unknown'\n    },\n    0xc65a: {\n        name: 'CalibrationIlluminant1',\n        description: TagNamesCommon['LightSource']\n    },\n    0xc65b: {\n        name: 'CalibrationIlluminant2',\n        description: TagNamesCommon['LightSource']\n    },\n    0xc65d: 'RawDataUniqueID',\n    0xc68b: 'OriginalRawFileName',\n    0xc68c: 'OriginalRawFileData',\n    0xc68f: 'AsShotICCProfile',\n    0xc690: 'AsShotPreProfileMatrix',\n    0xc691: 'CurrentICCProfile',\n    0xc692: 'CurrentPreProfileMatrix',\n    0xc6bf: 'ColorimetricReference',\n    0xc6c5: 'SRawType',\n    0xc6d2: 'PanasonicTitle',\n    0xc6d3: 'PanasonicTitle2',\n    0xc6f3: 'CameraCalibrationSig',\n    0xc6f4: 'ProfileCalibrationSig',\n    0xc6f5: 'ProfileIFD',\n    0xc6f6: 'AsShotProfileName',\n    0xc6f8: 'ProfileName',\n    0xc6f9: 'ProfileHueSatMapDims',\n    0xc6fa: 'ProfileHueSatMapData1',\n    0xc6fb: 'ProfileHueSatMapData2',\n    0xc6fc: 'ProfileToneCurve',\n    0xc6fd: {\n        name: 'ProfileEmbedPolicy',\n        description: (value) => ({\n            0: 'Allow Copying',\n            1: 'Embed if Used',\n            2: 'Never Embed',\n            3: 'No Restrictions'\n        })[value] || 'Unknown'\n    },\n    0xc6fe: 'ProfileCopyright',\n    0xc714: 'ForwardMatrix1',\n    0xc715: 'ForwardMatrix2',\n    0xc716: 'PreviewApplicationName',\n    0xc717: 'PreviewApplicationVersion',\n    0xc718: 'PreviewSettingsName',\n    0xc719: 'PreviewSettingsDigest',\n    0xc71a: {\n        name: 'PreviewColorSpace',\n        description: (value) => ({\n            1: 'Gray Gamma 2.2',\n            2: 'sRGB',\n            3: 'Adobe RGB',\n            4: 'ProPhoto RGB'\n        })[value] || 'Unknown'\n    },\n    0xc71b: 'PreviewDateTime',\n    0xc71c: 'RawImageDigest',\n    0xc71d: 'OriginalRawFileDigest',\n    0xc725: 'ProfileLookTableDims',\n    0xc726: 'ProfileLookTableData',\n    0xc763: 'TimeCodes',\n    0xc764: 'FrameRate',\n    0xc772: 'TStop',\n    0xc789: 'ReelName',\n    0xc791: 'OriginalDefaultFinalSize',\n    0xc792: 'OriginalBestQualitySize',\n    0xc793: 'OriginalDefaultCropSize',\n    0xc7a1: 'CameraLabel',\n    0xc7a3: {\n        name: 'ProfileHueSatMapEncoding',\n        description: (value) => ({\n            0: 'Linear',\n            1: 'sRGB'\n        })[value] || 'Unknown'\n    },\n    0xc7a4: {\n        name: 'ProfileLookTableEncoding',\n        description: (value) => ({\n            0: 'Linear',\n            1: 'sRGB'\n        })[value] || 'Unknown'\n    },\n    0xc7a5: 'BaselineExposureOffset',\n    0xc7a6: {\n        name: 'DefaultBlackRender',\n        description: (value) => ({\n            0: 'Auto',\n            1: 'None'\n        })[value] || 'Unknown'\n    },\n    0xc7a7: 'NewRawImageDigest',\n    0xc7a8: 'RawToPreviewGain'\n};\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport default {\n    'LightSource': (value) => {\n        if (value === 1) {\n            return 'Daylight';\n        } else if (value === 2) {\n            return 'Fluorescent';\n        } else if (value === 3) {\n            return 'Tungsten (incandescent light)';\n        } else if (value === 4) {\n            return 'Flash';\n        } else if (value === 9) {\n            return 'Fine weather';\n        } else if (value === 10) {\n            return 'Cloudy weather';\n        } else if (value === 11) {\n            return 'Shade';\n        } else if (value === 12) {\n            return 'Daylight fluorescent (D 5700 – 7100K)';\n        } else if (value === 13) {\n            return 'Day white fluorescent (N 4600 – 5400K)';\n        } else if (value === 14) {\n            return 'Cool white fluorescent (W 3900 – 4500K)';\n        } else if (value === 15) {\n            return 'White fluorescent (WW 3200 – 3700K)';\n        } else if (value === 17) {\n            return 'Standard light A';\n        } else if (value === 18) {\n            return 'Standard light B';\n        } else if (value === 19) {\n            return 'Standard light C';\n        } else if (value === 20) {\n            return 'D55';\n        } else if (value === 21) {\n            return 'D65';\n        } else if (value === 22) {\n            return 'D75';\n        } else if (value === 23) {\n            return 'D50';\n        } else if (value === 24) {\n            return 'ISO studio tungsten';\n        } else if (value === 255) {\n            return 'Other light source';\n        }\n        return 'Unknown';\n    }\n};\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringValue, getEncodedString} from './tag-names-utils.js';\nimport TagNamesCommon from './tag-names-common.js';\n\nexport default {\n    0x829a: {\n        'name': 'ExposureTime',\n        'description': (value) => {\n            if (value[0] !== 0) {\n                return `1/${Math.round(value[1] / value[0])}`;\n            }\n            return `0/${value[1]}`;\n        }\n    },\n    0x829d: {\n        'name': 'FNumber',\n        'description': (value) => `f/${value[0] / value[1]}`\n    },\n    0x8822: {\n        'name': 'ExposureProgram',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Undefined';\n            } else if (value === 1) {\n                return 'Manual';\n            } else if (value === 2) {\n                return 'Normal program';\n            } else if (value === 3) {\n                return 'Aperture priority';\n            } else if (value === 4) {\n                return 'Shutter priority';\n            } else if (value === 5) {\n                return 'Creative program';\n            } else if (value === 6) {\n                return 'Action program';\n            } else if (value === 7) {\n                return 'Portrait mode';\n            } else if (value === 8) {\n                return 'Landscape mode';\n            } else if (value === 9) {\n                return 'Bulb';\n            }\n            return 'Unknown';\n        }\n    },\n    0x8824: 'SpectralSensitivity',\n    0x8827: 'ISOSpeedRatings',\n    0x8828: {\n        'name': 'OECF',\n        'description': () => '[Raw OECF table data]'\n    },\n    0x882a: 'TimeZoneOffset',\n    0x882b: 'SelfTimerMode',\n    0x8830: {\n        name: 'SensitivityType',\n        description: (value) => ({\n            1: 'Standard Output Sensitivity',\n            2: 'Recommended Exposure Index',\n            3: 'ISO Speed',\n            4: 'Standard Output Sensitivity and Recommended Exposure Index',\n            5: 'Standard Output Sensitivity and ISO Speed',\n            6: 'Recommended Exposure Index and ISO Speed',\n            7: 'Standard Output Sensitivity, Recommended Exposure Index and ISO Speed'\n        })[value] || 'Unknown'\n    },\n    0x8831: 'StandardOutputSensitivity',\n    0x8832: 'RecommendedExposureIndex',\n    0x8833: 'ISOSpeed',\n    0x8834: 'ISOSpeedLatitudeyyy',\n    0x8835: 'ISOSpeedLatitudezzz',\n    0x9000: {\n        'name': 'ExifVersion',\n        'description': (value) => getStringValue(value)\n    },\n    0x9003: 'DateTimeOriginal',\n    0x9004: 'DateTimeDigitized',\n    0x9009: 'GooglePlusUploadCode',\n    0x9010: 'OffsetTime',\n    0x9011: 'OffsetTimeOriginal',\n    0x9012: 'OffsetTimeDigitized',\n    0x9101: {\n        'name': 'ComponentsConfiguration',\n        'description': (value) => {\n            return value.map((character) => {\n                if (character === 0x31) {\n                    return 'Y';\n                } else if (character === 0x32) {\n                    return 'Cb';\n                } else if (character === 0x33) {\n                    return 'Cr';\n                } else if (character === 0x34) {\n                    return 'R';\n                } else if (character === 0x35) {\n                    return 'G';\n                } else if (character === 0x36) {\n                    return 'B';\n                }\n            }).join('');\n        }\n    },\n    0x9102: 'CompressedBitsPerPixel',\n    0x9201: {\n        'name': 'ShutterSpeedValue',\n        'description': (value) => {\n            return `1/${Math.round(Math.pow(2, value[0] / value[1]))}`;\n        }\n    },\n    0x9202: {\n        'name': 'ApertureValue',\n        'description': (value) => {\n            return Math.pow(Math.sqrt(2), value[0] / value[1]).toFixed(2);\n        }\n    },\n    0x9203: 'BrightnessValue',\n    0x9204: 'ExposureBiasValue',\n    0x9205: {\n        'name': 'MaxApertureValue',\n        'description': (value) => {\n            return Math.pow(Math.sqrt(2), value[0] / value[1]).toFixed(2);\n        }\n    },\n    0x9206: {\n        'name': 'SubjectDistance',\n        'description': (value) => (value[0] / value[1]) + ' m'\n    },\n    0x9207: {\n        'name': 'MeteringMode',\n        'description': (value) => {\n            if (value === 1) {\n                return 'Average';\n            } else if (value === 2) {\n                return 'CenterWeightedAverage';\n            } else if (value === 3) {\n                return 'Spot';\n            } else if (value === 4) {\n                return 'MultiSpot';\n            } else if (value === 5) {\n                return 'Pattern';\n            } else if (value === 6) {\n                return 'Partial';\n            } else if (value === 255) {\n                return 'Other';\n            }\n            return 'Unknown';\n        }\n    },\n    0x9208: {\n        'name': 'LightSource',\n        description: TagNamesCommon['LightSource']\n    },\n    0x9209: {\n        'name': 'Flash',\n        'description': (value) => {\n            if (value === 0x00) {\n                return 'Flash did not fire';\n            } else if (value === 0x01) {\n                return 'Flash fired';\n            } else if (value === 0x05) {\n                return 'Strobe return light not detected';\n            } else if (value === 0x07) {\n                return 'Strobe return light detected';\n            } else if (value === 0x09) {\n                return 'Flash fired, compulsory flash mode';\n            } else if (value === 0x0d) {\n                return 'Flash fired, compulsory flash mode, return light not detected';\n            } else if (value === 0x0f) {\n                return 'Flash fired, compulsory flash mode, return light detected';\n            } else if (value === 0x10) {\n                return 'Flash did not fire, compulsory flash mode';\n            } else if (value === 0x18) {\n                return 'Flash did not fire, auto mode';\n            } else if (value === 0x19) {\n                return 'Flash fired, auto mode';\n            } else if (value === 0x1d) {\n                return 'Flash fired, auto mode, return light not detected';\n            } else if (value === 0x1f) {\n                return 'Flash fired, auto mode, return light detected';\n            } else if (value === 0x20) {\n                return 'No flash function';\n            } else if (value === 0x41) {\n                return 'Flash fired, red-eye reduction mode';\n            } else if (value === 0x45) {\n                return 'Flash fired, red-eye reduction mode, return light not detected';\n            } else if (value === 0x47) {\n                return 'Flash fired, red-eye reduction mode, return light detected';\n            } else if (value === 0x49) {\n                return 'Flash fired, compulsory flash mode, red-eye reduction mode';\n            } else if (value === 0x4d) {\n                return 'Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected';\n            } else if (value === 0x4f) {\n                return 'Flash fired, compulsory flash mode, red-eye reduction mode, return light detected';\n            } else if (value === 0x59) {\n                return 'Flash fired, auto mode, red-eye reduction mode';\n            } else if (value === 0x5d) {\n                return 'Flash fired, auto mode, return light not detected, red-eye reduction mode';\n            } else if (value === 0x5f) {\n                return 'Flash fired, auto mode, return light detected, red-eye reduction mode';\n            }\n            return 'Unknown';\n        }\n    },\n    0x920a: {\n        'name': 'FocalLength',\n        'description': (value) => (value[0] / value[1]) + ' mm'\n    },\n    0x9211: 'ImageNumber',\n    0x9212: {\n        name: 'SecurityClassification',\n        description: (value) => ({\n            'C': 'Confidential',\n            'R': 'Restricted',\n            'S': 'Secret',\n            'T': 'Top Secret',\n            'U': 'Unclassified'\n        })[value] || 'Unknown'\n    },\n    0x9213: 'ImageHistory',\n    0x9214: {\n        'name': 'SubjectArea',\n        'description': (value) => {\n            if (value.length === 2) {\n                return `Location; X: ${value[0]}, Y: ${value[1]}`;\n            } else if (value.length === 3) {\n                return `Circle; X: ${value[0]}, Y: ${value[1]}, diameter: ${value[2]}`;\n            } else if (value.length === 4) {\n                return `Rectangle; X: ${value[0]}, Y: ${value[1]}, width: ${value[2]}, height: ${value[3]}`;\n            }\n            return 'Unknown';\n        }\n    },\n    0x927c: {\n        'name': 'MakerNote',\n        'description': () => '[Raw maker note data]'\n    },\n    0x9286: {\n        'name': 'UserComment',\n        'description': getEncodedString\n    },\n    0x9290: 'SubSecTime',\n    0x9291: 'SubSecTimeOriginal',\n    0x9292: 'SubSecTimeDigitized',\n    0x9400: {\n        'name': 'AmbientTemperature',\n        'description': (value) => (value[0] / value[1]) + ' °C'\n    },\n    0x9401: {\n        'name': 'Humidity',\n        'description': (value) => (value[0] / value[1]) + ' %'\n    },\n    0x9402: {\n        'name': 'Pressure',\n        'description': (value) => (value[0] / value[1]) + ' hPa'\n    },\n    0x9403: {\n        'name': 'WaterDepth',\n        'description': (value) => (value[0] / value[1]) + ' m'\n    },\n    0x9404: {\n        'name': 'Acceleration',\n        'description': (value) => (value[0] / value[1]) + ' mGal'\n    },\n    0x9405: {\n        'name': 'CameraElevationAngle',\n        'description': (value) => (value[0] / value[1]) + ' °'\n    },\n    0xa000: {\n        'name': 'FlashpixVersion',\n        'description': (value) => value.map((charCode) => String.fromCharCode(charCode)).join('')\n    },\n    0xa001: {\n        'name': 'ColorSpace',\n        'description': (value) => {\n            if (value === 1) {\n                return 'sRGB';\n            } else if (value === 0xffff) {\n                return 'Uncalibrated';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa002: 'PixelXDimension',\n    0xa003: 'PixelYDimension',\n    0xa004: 'RelatedSoundFile',\n    0xa005: 'Interoperability IFD Pointer',\n    0xa20b: 'FlashEnergy',\n    0xa20c: {\n        'name': 'SpatialFrequencyResponse',\n        'description': () => '[Raw SFR table data]'\n    },\n    0xa20e: 'FocalPlaneXResolution',\n    0xa20f: 'FocalPlaneYResolution',\n    0xa210: {\n        'name': 'FocalPlaneResolutionUnit',\n        'description': (value) => {\n            if (value === 2) {\n                return 'inches';\n            } else if (value === 3) {\n                return 'centimeters';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa214: {\n        'name': 'SubjectLocation',\n        'description': ([x, y]) => `X: ${x}, Y: ${y}`\n    },\n    0xa215: 'ExposureIndex',\n    0xa217: {\n        'name': 'SensingMethod',\n        'description': (value) => {\n            if (value === 1) {\n                return 'Undefined';\n            } else if (value === 2) {\n                return 'One-chip color area sensor';\n            } else if (value === 3) {\n                return 'Two-chip color area sensor';\n            } else if (value === 4) {\n                return 'Three-chip color area sensor';\n            } else if (value === 5) {\n                return 'Color sequential area sensor';\n            } else if (value === 7) {\n                return 'Trilinear sensor';\n            } else if (value === 8) {\n                return 'Color sequential linear sensor';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa300: {\n        'name': 'FileSource',\n        'description': (value) => {\n            if (value === 3) {\n                return 'DSC';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa301: {\n        'name': 'SceneType',\n        'description': (value) => {\n            if (value === 1) {\n                return 'A directly photographed image';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa302: {\n        'name': 'CFAPattern',\n        'description': () => '[Raw CFA pattern table data]'\n    },\n    0xa401: {\n        'name': 'CustomRendered',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Normal process';\n            } else if (value === 1) {\n                return 'Custom process';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa402: {\n        'name': 'ExposureMode',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Auto exposure';\n            } else if (value === 1) {\n                return 'Manual exposure';\n            } else if (value === 2) {\n                return 'Auto bracket';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa403: {\n        'name': 'WhiteBalance',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Auto white balance';\n            } else if (value === 1) {\n                return 'Manual white balance';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa404: {\n        'name': 'DigitalZoomRatio',\n        'description': (value) => {\n            if (value[0] === 0) {\n                return 'Digital zoom was not used';\n            }\n            return '' + (value[0] / value[1]);\n        }\n    },\n    0xa405: {\n        'name': 'FocalLengthIn35mmFilm',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Unknown';\n            }\n            return value;\n        }\n    },\n    0xa406: {\n        'name': 'SceneCaptureType',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Standard';\n            } else if (value === 1) {\n                return 'Landscape';\n            } else if (value === 2) {\n                return 'Portrait';\n            } else if (value === 3) {\n                return 'Night scene';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa407: {\n        'name': 'GainControl',\n        'description': (value) => {\n            if (value === 0) {\n                return 'None';\n            } else if (value === 1) {\n                return 'Low gain up';\n            } else if (value === 2) {\n                return 'High gain up';\n            } else if (value === 3) {\n                return 'Low gain down';\n            } else if (value === 4) {\n                return 'High gain down';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa408: {\n        'name': 'Contrast',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Normal';\n            } else if (value === 1) {\n                return 'Soft';\n            } else if (value === 2) {\n                return 'Hard';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa409: {\n        'name': 'Saturation',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Normal';\n            } else if (value === 1) {\n                return 'Low saturation';\n            } else if (value === 2) {\n                return 'High saturation';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa40a: {\n        'name': 'Sharpness',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Normal';\n            } else if (value === 1) {\n                return 'Soft';\n            } else if (value === 2) {\n                return 'Hard';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa40b: {\n        'name': 'DeviceSettingDescription',\n        'description': () => '[Raw device settings table data]'\n    },\n    0xa40c: {\n        'name': 'SubjectDistanceRange',\n        'description': (value) => {\n            if (value === 1) {\n                return 'Macro';\n            } else if (value === 2) {\n                return 'Close view';\n            } else if (value === 3) {\n                return 'Distant view';\n            }\n            return 'Unknown';\n        }\n    },\n    0xa420: 'ImageUniqueID',\n    0xa430: 'CameraOwnerName',\n    0xa431: 'BodySerialNumber',\n    0xa432: {\n        'name': 'LensSpecification',\n        'description': (value) => {\n            const focalLengths = `${value[0][0] / value[0][1]}-${value[1][0] / value[1][1]} mm`;\n            if (value[3][1] === 0) {\n                return `${focalLengths} f/?`;\n            }\n            return `${focalLengths} f/${1 / ((value[2][1] / value[2][1]) / (value[3][0] / value[3][1]))}`;\n        }\n    },\n    0xa433: 'LensMake',\n    0xa434: 'LensModel',\n    0xa435: 'LensSerialNumber',\n    0xa460: {\n        name: 'CompositeImage',\n        description: (value) => ({\n            1: 'Not a Composite Image',\n            2: 'General Composite Image',\n            3: 'Composite Image Captured While Shooting',\n        })[value] || 'Unknown'\n    },\n    0xa461: 'SourceImageNumberOfCompositeImage',\n    0xa462: 'SourceExposureTimesOfCompositeImage',\n    0xa500: 'Gamma',\n    0xea1c: 'Padding',\n    0xea1d: 'OffsetSchema',\n    0xfde8: 'OwnerName',\n    0xfde9: 'SerialNumber',\n    0xfdea: 'Lens',\n    0xfe4c: 'RawFile',\n    0xfe4d: 'Converter',\n    0xfe4e: 'WhiteBalance',\n    0xfe51: 'Exposure',\n    0xfe52: 'Shadows',\n    0xfe53: 'Brightness',\n    0xfe54: 'Contrast',\n    0xfe55: 'Saturation',\n    0xfe56: 'Sharpness',\n    0xfe57: 'Smoothness',\n    0xfe58: 'MoireFilter'\n};\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getEncodedString, getCalculatedGpsValue} from './tag-names-utils.js';\n\nexport default {\n    0x0000: {\n        'name': 'GPSVersionID',\n        'description': (value) => {\n            if (value[0] === 2 && value[1] === 2 && value[2] === 0 && value[3] === 0) {\n                return 'Version 2.2';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0001: {\n        'name': 'GPSLatitudeRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'N') {\n                return 'North latitude';\n            } else if (ref === 'S') {\n                return 'South latitude';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0002: {\n        'name': 'GPSLatitude',\n        'description': getCalculatedGpsValue\n    },\n    0x0003: {\n        'name': 'GPSLongitudeRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'E') {\n                return 'East longitude';\n            } else if (ref === 'W') {\n                return 'West longitude';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0004: {\n        'name': 'GPSLongitude',\n        'description': getCalculatedGpsValue\n    },\n    0x0005: {\n        'name': 'GPSAltitudeRef',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Sea level';\n            } else if (value === 1) {\n                return 'Sea level reference (negative value)';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0006: {\n        'name': 'GPSAltitude',\n        'description': (value) => {\n            return (value[0] / value[1]) + ' m';\n        }\n    },\n    0x0007: {\n        'name': 'GPSTimeStamp',\n        'description': (values) => {\n            return values.map(([numerator, denominator]) => {\n                const num = numerator / denominator;\n                if (/^\\d(\\.|$)/.test(`${num}`)) {\n                    return `0${num}`;\n                }\n                return num;\n            }).join(':');\n        }\n    },\n    0x0008: 'GPSSatellites',\n    0x0009: {\n        'name': 'GPSStatus',\n        'description': (value) => {\n            const status = value.join('');\n            if (status === 'A') {\n                return 'Measurement in progress';\n            } else if (status === 'V') {\n                return 'Measurement Interoperability';\n            }\n            return 'Unknown';\n        }\n    },\n    0x000a: {\n        'name': 'GPSMeasureMode',\n        'description': (value) => {\n            const mode = value.join('');\n            if (mode === '2') {\n                return '2-dimensional measurement';\n            } else if (mode === '3') {\n                return '3-dimensional measurement';\n            }\n            return 'Unknown';\n        }\n    },\n    0x000b: 'GPSDOP',\n    0x000c: {\n        'name': 'GPSSpeedRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'K') {\n                return 'Kilometers per hour';\n            } else if (ref === 'M') {\n                return 'Miles per hour';\n            } else if (ref === 'N') {\n                return 'Knots';\n            }\n            return 'Unknown';\n        }\n    },\n    0x000d: 'GPSSpeed',\n    0x000e: {\n        'name': 'GPSTrackRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'T') {\n                return 'True direction';\n            } else if (ref === 'M') {\n                return 'Magnetic direction';\n            }\n            return 'Unknown';\n        }\n    },\n    0x000f: 'GPSTrack',\n    0x0010: {\n        'name': 'GPSImgDirectionRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'T') {\n                return 'True direction';\n            } else if (ref === 'M') {\n                return 'Magnetic direction';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0011: 'GPSImgDirection',\n    0x0012: 'GPSMapDatum',\n    0x0013: {\n        'name': 'GPSDestLatitudeRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'N') {\n                return 'North latitude';\n            } else if (ref === 'S') {\n                return 'South latitude';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0014: {\n        'name': 'GPSDestLatitude',\n        'description': (value) => {\n            return (value[0][0] / value[0][1]) + (value[1][0] / value[1][1]) / 60 + (value[2][0] / value[2][1]) / 3600;\n        }\n    },\n    0x0015: {\n        'name': 'GPSDestLongitudeRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'E') {\n                return 'East longitude';\n            } else if (ref === 'W') {\n                return 'West longitude';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0016: {\n        'name': 'GPSDestLongitude',\n        'description': (value) => {\n            return (value[0][0] / value[0][1]) + (value[1][0] / value[1][1]) / 60 + (value[2][0] / value[2][1]) / 3600;\n        }\n    },\n    0x0017: {\n        'name': 'GPSDestBearingRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'T') {\n                return 'True direction';\n            } else if (ref === 'M') {\n                return 'Magnetic direction';\n            }\n            return 'Unknown';\n        }\n    },\n    0x0018: 'GPSDestBearing',\n    0x0019: {\n        'name': 'GPSDestDistanceRef',\n        'description': (value) => {\n            const ref = value.join('');\n            if (ref === 'K') {\n                return 'Kilometers';\n            } else if (ref === 'M') {\n                return 'Miles';\n            } else if (ref === 'N') {\n                return 'Knots';\n            }\n            return 'Unknown';\n        }\n    },\n    0x001a: 'GPSDestDistance',\n    0x001b: {\n        'name': 'GPSProcessingMethod',\n        'description': getEncodedString\n    },\n    0x001c: {\n        'name': 'GPSAreaInformation',\n        'description': getEncodedString\n    },\n    0x001d: 'GPSDateStamp',\n    0x001e: {\n        'name': 'GPSDifferential',\n        'description': (value) => {\n            if (value === 0) {\n                return 'Measurement without differential correction';\n            } else if (value === 1) {\n                return 'Differential correction applied';\n            }\n            return 'Unknown';\n        }\n    },\n    0x001f: 'GPSHPositioningError'\n};\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringValue} from './tag-names-utils.js';\n\nexport default {\n    0x0001: 'InteroperabilityIndex',\n    0x0002: {\n        name: 'InteroperabilityVersion',\n        description: (value) => getStringValue(value)\n    },\n    0x1000: 'RelatedImageFileFormat',\n    0x1001: 'RelatedImageWidth',\n    0x1002: 'RelatedImageHeight'\n};\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport function getStringValue(value) {\n    return value.map((charCode) => String.fromCharCode(charCode)).join('');\n}\n\nexport function getEncodedString(value) {\n    if (value.length >= 8) {\n        const encoding = getStringValue(value.slice(0, 8));\n\n        if (encoding === 'ASCII\\x00\\x00\\x00') {\n            return getStringValue(value.slice(8));\n        } else if (encoding === 'JIS\\x00\\x00\\x00\\x00\\x00') {\n            return '[JIS encoded text]';\n        } else if (encoding === 'UNICODE\\x00') {\n            return '[Unicode encoded text]';\n        } else if (encoding === '\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00') {\n            return '[Undefined encoding]';\n        }\n    }\n\n    return 'Undefined';\n}\n\nexport function getCalculatedGpsValue(value) {\n    return (value[0][0] / value[0][1]) + (value[1][0] / value[1][1]) / 60 + (value[2][0] / value[2][1]) / 3600;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {objectAssign} from './utils.js';\nimport TagNames0thIfd from './tag-names-0th-ifd.js';\nimport TagNamesExifIfd from './tag-names-exif-ifd.js';\nimport TagNamesGpsIfd from './tag-names-gps-ifd.js';\nimport TagNamesInteroperabilityIfd from './tag-names-interoperability-ifd.js';\n\nconst tagNames0thExifIfds = objectAssign({}, TagNames0thIfd, TagNamesExifIfd);\n\nexport default {\n    '0th': tagNames0thExifIfds,\n    'exif': tagNames0thExifIfds,\n    'gps': TagNamesGpsIfd,\n    'interoperability': TagNamesInteroperabilityIfd\n};\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport Constants from './constants.js';\nimport {objectAssign} from './utils.js';\nimport ByteOrder from './byte-order.js';\nimport Types from './types.js';\nimport TagNames from './tag-names.js';\n\nconst EXIF_IFD_POINTER_KEY = 'Exif IFD Pointer';\nconst GPS_INFO_IFD_POINTER_KEY = 'GPS Info IFD Pointer';\nconst INTEROPERABILITY_IFD_POINTER_KEY = 'Interoperability IFD Pointer';\n\nconst getTagValueAt = {\n    1: Types.getByteAt,\n    2: Types.getAsciiAt,\n    3: Types.getShortAt,\n    4: Types.getLongAt,\n    5: Types.getRationalAt,\n    7: Types.getUndefinedAt,\n    9: Types.getSlongAt,\n    10: Types.getSrationalAt,\n    13: Types.getIfdPointerAt\n};\n\nexport default {\n    read\n};\n\nfunction read(dataView, tiffHeaderOffset) {\n    const byteOrder = ByteOrder.getByteOrder(dataView, tiffHeaderOffset);\n    let tags = read0thIfd(dataView, tiffHeaderOffset, byteOrder);\n    tags = readExifIfd(tags, dataView, tiffHeaderOffset, byteOrder);\n    tags = readGpsIfd(tags, dataView, tiffHeaderOffset, byteOrder);\n    tags = readInteroperabilityIfd(tags, dataView, tiffHeaderOffset, byteOrder);\n\n    return tags;\n}\n\nfunction read0thIfd(dataView, tiffHeaderOffset, byteOrder) {\n    return readIfd(dataView, '0th', tiffHeaderOffset, get0thIfdOffset(dataView, tiffHeaderOffset, byteOrder), byteOrder);\n}\n\nfunction get0thIfdOffset(dataView, tiffHeaderOffset, byteOrder) {\n    return tiffHeaderOffset + Types.getLongAt(dataView, tiffHeaderOffset + 4, byteOrder);\n}\n\nfunction readExifIfd(tags, dataView, tiffHeaderOffset, byteOrder) {\n    if (tags[EXIF_IFD_POINTER_KEY] !== undefined) {\n        return objectAssign(tags, readIfd(dataView, 'exif', tiffHeaderOffset, tiffHeaderOffset + tags[EXIF_IFD_POINTER_KEY].value, byteOrder));\n    }\n\n    return tags;\n}\n\nfunction readGpsIfd(tags, dataView, tiffHeaderOffset, byteOrder) {\n    if (tags[GPS_INFO_IFD_POINTER_KEY] !== undefined) {\n        return objectAssign(tags, readIfd(dataView, 'gps', tiffHeaderOffset, tiffHeaderOffset + tags[GPS_INFO_IFD_POINTER_KEY].value, byteOrder));\n    }\n\n    return tags;\n}\n\nfunction readInteroperabilityIfd(tags, dataView, tiffHeaderOffset, byteOrder) {\n    if (tags[INTEROPERABILITY_IFD_POINTER_KEY] !== undefined) {\n        return objectAssign(tags, readIfd(dataView, 'interoperability', tiffHeaderOffset, tiffHeaderOffset + tags[INTEROPERABILITY_IFD_POINTER_KEY].value, byteOrder));\n    }\n\n    return tags;\n}\n\nfunction readIfd(dataView, ifdType, tiffHeaderOffset, offset, byteOrder) {\n    const FIELD_COUNT_SIZE = Types.getTypeSize('SHORT');\n    const FIELD_SIZE = 12;\n\n    const tags = {};\n    const numberOfFields = getNumberOfFields(dataView, offset, byteOrder);\n\n    offset += FIELD_COUNT_SIZE;\n    for (let fieldIndex = 0; fieldIndex < numberOfFields; fieldIndex++) {\n        if (offset + FIELD_SIZE > dataView.byteLength) {\n            break;\n        }\n\n        const tag = readTag(dataView, ifdType, tiffHeaderOffset, offset, byteOrder);\n        if (tag !== undefined) {\n            tags[tag.name] = {\n                'id': tag.id,\n                'value': tag.value,\n                'description': tag.description\n            };\n        }\n\n        offset += FIELD_SIZE;\n    }\n\n    if (Constants.USE_THUMBNAIL && (offset < dataView.byteLength - Types.getTypeSize('LONG'))) {\n        const nextIfdOffset = Types.getLongAt(dataView, offset, byteOrder);\n        if (nextIfdOffset !== 0) {\n            tags['Thumbnail'] = readIfd(dataView, ifdType, tiffHeaderOffset, tiffHeaderOffset + nextIfdOffset, byteOrder);\n        }\n    }\n\n    return tags;\n}\n\nfunction getNumberOfFields(dataView, offset, byteOrder) {\n    if (offset + Types.getTypeSize('SHORT') <= dataView.byteLength) {\n        return Types.getShortAt(dataView, offset, byteOrder);\n    }\n    return 0;\n}\n\nfunction readTag(dataView, ifdType, tiffHeaderOffset, offset, byteOrder) {\n    const TAG_CODE_IPTC_NAA = 0x83bb;\n    const TAG_TYPE_OFFSET = Types.getTypeSize('SHORT');\n    const TAG_COUNT_OFFSET = TAG_TYPE_OFFSET + Types.getTypeSize('SHORT');\n    const TAG_VALUE_OFFSET = TAG_COUNT_OFFSET + Types.getTypeSize('LONG');\n\n    const tagCode = Types.getShortAt(dataView, offset, byteOrder);\n    const tagType = Types.getShortAt(dataView, offset + TAG_TYPE_OFFSET, byteOrder);\n    const tagCount = Types.getLongAt(dataView, offset + TAG_COUNT_OFFSET, byteOrder);\n    let tagValue;\n\n    if (Types.typeSizes[tagType] === undefined) {\n        return undefined;\n    }\n\n    if (tagValueFitsInOffsetSlot(tagType, tagCount)) {\n        tagValue = getTagValue(dataView, offset + TAG_VALUE_OFFSET, tagType, tagCount, byteOrder);\n    } else {\n        const tagValueOffset = Types.getLongAt(dataView, offset + TAG_VALUE_OFFSET, byteOrder);\n        if (tagValueFitsInDataView(dataView, tiffHeaderOffset, tagValueOffset, tagType, tagCount)) {\n            const forceByteType = tagCode === TAG_CODE_IPTC_NAA;\n            tagValue = getTagValue(dataView, tiffHeaderOffset + tagValueOffset, tagType, tagCount, byteOrder, forceByteType);\n        } else {\n            tagValue = '<faulty value>';\n        }\n    }\n\n    if (tagType === Types.tagTypes['ASCII']) {\n        tagValue = splitNullSeparatedAsciiString(tagValue);\n        tagValue = decodeAsciiValue(tagValue);\n    }\n\n    let tagName = `undefined-${tagCode}`;\n    let tagDescription = tagValue;\n\n    if (TagNames[ifdType][tagCode] !== undefined) {\n        if ((TagNames[ifdType][tagCode]['name'] !== undefined) && (TagNames[ifdType][tagCode]['description'] !== undefined)) {\n            tagName = TagNames[ifdType][tagCode]['name'];\n            try {\n                tagDescription = TagNames[ifdType][tagCode]['description'](tagValue);\n            } catch (error) {\n                tagDescription = getDescriptionFromTagValue(tagValue);\n            }\n        } else if ((tagType === Types.tagTypes['RATIONAL']) || (tagType === Types.tagTypes['SRATIONAL'])) {\n            tagName = TagNames[ifdType][tagCode];\n            tagDescription = '' + (tagValue[0] / tagValue[1]);\n        } else {\n            tagName = TagNames[ifdType][tagCode];\n            tagDescription = getDescriptionFromTagValue(tagValue);\n        }\n    }\n\n    return {\n        id: tagCode,\n        name: tagName,\n        value: tagValue,\n        description: tagDescription\n    };\n}\n\nfunction tagValueFitsInOffsetSlot(tagType, tagCount) {\n    return Types.typeSizes[tagType] * tagCount <= Types.getTypeSize('LONG');\n}\n\nfunction getTagValue(dataView, offset, type, count, byteOrder, forceByteType = false) {\n    let value = [];\n\n    if (forceByteType) {\n        count = count * Types.typeSizes[type];\n        type = Types.tagTypes['BYTE'];\n    }\n    for (let valueIndex = 0; valueIndex < count; valueIndex++) {\n        value.push(getTagValueAt[type](dataView, offset, byteOrder));\n        offset += Types.typeSizes[type];\n    }\n\n    if (type === Types.tagTypes['ASCII']) {\n        value = Types.getAsciiValue(value);\n    } else if (value.length === 1) {\n        value = value[0];\n    }\n\n    return value;\n}\n\nfunction tagValueFitsInDataView(dataView, tiffHeaderOffset, tagValueOffset, tagType, tagCount) {\n    return tiffHeaderOffset + tagValueOffset + Types.typeSizes[tagType] * tagCount <= dataView.byteLength;\n}\n\nfunction splitNullSeparatedAsciiString(string) {\n    const tagValue = [];\n    let i = 0;\n\n    for (let j = 0; j < string.length; j++) {\n        if (string[j] === '\\x00') {\n            i++;\n            continue;\n        }\n        if (tagValue[i] === undefined) {\n            tagValue[i] = '';\n        }\n        tagValue[i] += string[j];\n    }\n\n    return tagValue;\n}\n\nfunction decodeAsciiValue(asciiValue) {\n    try {\n        return asciiValue.map((value) => decodeURIComponent(escape(value)));\n    } catch (error) {\n        return asciiValue;\n    }\n}\n\nfunction getDescriptionFromTagValue(tagValue) {\n    if (tagValue instanceof Array) {\n        return tagValue.join(', ');\n    }\n    return tagValue;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport default {\n    get\n};\n\nfunction get() {\n    if (typeof TextDecoder !== 'undefined') {\n        return TextDecoder;\n    }\n\n    return undefined;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {deferInit} from './utils.js';\n\n// https://exiftool.org/TagNames/EXIF.html#Compression\nconst COMPRESSION_JPEG = [6, 7, 99];\n\nexport default {\n    get,\n};\n\nfunction get(dataView, thumbnailTags, tiffHeaderOffset) {\n    if (hasJpegThumbnail(thumbnailTags)) {\n        thumbnailTags.type = 'image/jpeg';\n        const offset = tiffHeaderOffset + thumbnailTags.JPEGInterchangeFormat.value;\n        thumbnailTags.image = dataView.buffer.slice(offset, offset + thumbnailTags.JPEGInterchangeFormatLength.value);\n        deferInit(thumbnailTags, 'base64', function () {\n            return getBase64Image(this.image);\n        });\n    }\n\n    // There is a small possibility of thumbnails in TIFF format but they are\n    // not stored as a self-contained image file and would be much more\n    // difficult to extract.\n    // https://exiftool.org/forum/index.php?topic=3273.msg14778#msg14778\n\n    return thumbnailTags;\n}\n\nfunction hasJpegThumbnail(tags) {\n    return tags && ((tags.Compression === undefined) || (COMPRESSION_JPEG.includes(tags.Compression.value)))\n        && tags.JPEGInterchangeFormat && tags.JPEGInterchangeFormat.value\n        && tags.JPEGInterchangeFormatLength && tags.JPEGInterchangeFormatLength.value;\n}\n\nfunction getBase64Image(image) {\n    if (typeof btoa !== 'undefined') {\n        // IE11- does not implement reduce on the Uint8Array prototype.\n        return btoa(Array.prototype.reduce.call(new Uint8Array(image), (data, byte) => data + String.fromCharCode(byte), ''));\n    }\n    if (typeof Buffer === 'undefined') {\n        return undefined;\n    }\n    if (typeof Buffer.from !== undefined) { // eslint-disable-line no-undef\n        return Buffer.from(image).toString('base64'); // eslint-disable-line no-undef\n    }\n    return (new Buffer(image)).toString('base64'); // eslint-disable-line no-undef\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport ByteOrder from './byte-order.js';\n\nconst typeSizes = {\n    1: 1, // BYTE\n    2: 1, // ASCII\n    3: 2, // SHORT\n    4: 4, // LONG\n    5: 8, // RATIONAL\n    7: 1, // UNDEFINED\n    9: 4, // SLONG\n    10: 8, // SRATIONAL\n    13: 4 // IFD\n};\n\nconst tagTypes = {\n    'BYTE': 1,\n    'ASCII': 2,\n    'SHORT': 3,\n    'LONG': 4,\n    'RATIONAL': 5,\n    'UNDEFINED': 7,\n    'SLONG': 9,\n    'SRATIONAL': 10,\n    'IFD': 13\n};\n\nexport default {\n    getAsciiValue,\n    getByteAt,\n    getAsciiAt,\n    getShortAt,\n    getLongAt,\n    getRationalAt,\n    getUndefinedAt,\n    getSlongAt,\n    getSrationalAt,\n    getIfdPointerAt,\n    typeSizes,\n    tagTypes,\n    getTypeSize\n};\n\nfunction getAsciiValue(charArray) {\n    return charArray.map((charCode) => String.fromCharCode(charCode));\n}\n\nfunction getByteAt(dataView, offset) {\n    return dataView.getUint8(offset);\n}\n\nfunction getAsciiAt(dataView, offset) {\n    return dataView.getUint8(offset);\n}\n\nfunction getShortAt(dataView, offset, byteOrder) {\n    return dataView.getUint16(offset, byteOrder === ByteOrder.LITTLE_ENDIAN);\n}\n\nfunction getLongAt(dataView, offset, byteOrder) {\n    return dataView.getUint32(offset, byteOrder === ByteOrder.LITTLE_ENDIAN);\n}\n\nfunction getRationalAt(dataView, offset, byteOrder) {\n    return [getLongAt(dataView, offset, byteOrder), getLongAt(dataView, offset + 4, byteOrder)];\n}\n\nfunction getUndefinedAt(dataView, offset) {\n    return getByteAt(dataView, offset);\n}\n\nfunction getSlongAt(dataView, offset, byteOrder) {\n    return dataView.getInt32(offset, byteOrder === ByteOrder.LITTLE_ENDIAN);\n}\n\nfunction getSrationalAt(dataView, offset, byteOrder) {\n    return [getSlongAt(dataView, offset, byteOrder), getSlongAt(dataView, offset + 4, byteOrder)];\n}\n\nfunction getIfdPointerAt(dataView, offset, byteOrder) {\n    return getLongAt(dataView, offset, byteOrder);\n}\n\nfunction getTypeSize(typeName) {\n    if (tagTypes[typeName] === undefined) {\n        throw new Error('No such type found.');\n    }\n\n    return typeSizes[tagTypes[typeName]];\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport function getStringFromDataView(dataView, offset, length) {\n    const chars = [];\n    for (let i = 0; i < length && offset + i < dataView.byteLength; i++) {\n        chars.push(dataView.getUint8(offset + i));\n    }\n    return getStringValueFromArray(chars);\n}\n\nexport function getUnicodeStringFromDataView(dataView, offset, length) {\n    const chars = [];\n    for (let i = 0; i < length && offset + i < dataView.byteLength; i += 2) {\n        chars.push(dataView.getUint16(offset + i));\n    }\n    return getStringValueFromArray(chars);\n}\n\nexport function getStringValueFromArray(charArray) {\n    return charArray.map((charCode) => String.fromCharCode(charCode)).join('');\n}\n\nexport function getCharacterArray(string) {\n    return string.split('').map((character) => character.charCodeAt(0));\n}\n\nexport function objectAssign() {\n    for (let i = 1; i < arguments.length; i++) {\n        for (const property in arguments[i]) {\n            arguments[0][property] = arguments[i][property];\n        }\n    }\n\n    return arguments[0];\n}\n\nexport function deferInit(object, key, initializer) {\n    let initialized = false;\n    Object.defineProperty(object, key, {\n        get() {\n            if (!initialized) {\n                initialized = true;\n                Object.defineProperty(object, key, {\n                    configurable: true,\n                    enumerable: true,\n                    value: initializer.apply(object),\n                    writable: true\n                });\n            }\n            return object[key];\n        },\n        configurable: true,\n        enumerable: true\n    });\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nexport default {\n    'tiff:Orientation'(value) {\n        if (value === '1') {\n            return 'Horizontal (normal)';\n        }\n        if (value === '2') {\n            return 'Mirror horizontal';\n        }\n        if (value === '3') {\n            return 'Rotate 180';\n        }\n        if (value === '4') {\n            return 'Mirror vertical';\n        }\n        if (value === '5') {\n            return 'Mirror horizontal and rotate 270 CW';\n        }\n        if (value === '6') {\n            return 'Rotate 90 CW';\n        }\n        if (value === '7') {\n            return 'Mirror horizontal and rotate 90 CW';\n        }\n        if (value === '8') {\n            return 'Rotate 270 CW';\n        }\n        return value;\n    },\n    'exif:GPSLatitude': calculateGPSValue,\n    'exif:GPSLongitude': calculateGPSValue\n};\n\nfunction calculateGPSValue(value) {\n    const [degreesString, minutesString] = value.split(',');\n    if ((degreesString !== undefined) && (minutesString !== undefined)) {\n        const degrees = parseFloat(degreesString);\n        const minutes = parseFloat(minutesString);\n        const ref = minutesString.charAt(minutesString.length - 1);\n        if ((!Number.isNaN(degrees)) && (!Number.isNaN(minutes))) {\n            return '' + (degrees + minutes / 60) + ref;\n        }\n    }\n    return value;\n}\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {getStringFromDataView, objectAssign} from './utils.js';\nimport XmpTagNames from './xmp-tag-names.js';\nimport DOMParser from './dom-parser.js';\n\nexport default {\n    read\n};\n\nfunction read(dataView, chunks) {\n    if (typeof dataView === 'string') {\n        return readTags({}, dataView);\n    }\n    return extractCompleteChunks(dataView, chunks).reduce(readTags, {});\n}\n\n// The first chunk is always the regular XMP document. Then there is something\n// called extended XMP. The extended XMP is also a single XMP document but it\n// can be divided into multiple chunks that need to be combined into one.\nfunction extractCompleteChunks(dataView, chunks) {\n    if (chunks.length === 0) {\n        return [];\n    }\n\n    const completeChunks = [combineChunks(dataView, chunks.slice(0, 1))];\n    if (chunks.length > 1) {\n        completeChunks.push(combineChunks(dataView, chunks.slice(1)));\n    }\n\n    return completeChunks;\n}\n\nfunction combineChunks(dataView, chunks) {\n    const totalLength = chunks.reduce((size, chunk) => size + chunk.length, 0);\n    const combinedChunks = new Uint8Array(totalLength);\n    let offset = 0;\n\n    for (let i = 0; i < chunks.length; i++) {\n        const chunk = chunks[i];\n        const slice = dataView.buffer.slice(chunk.dataOffset, chunk.dataOffset + chunk.length);\n        combinedChunks.set(new Uint8Array(slice), offset);\n        offset += chunk.length;\n    }\n\n    return new DataView(combinedChunks.buffer);\n}\n\nfunction readTags(tags, chunkDataView) {\n    try {\n        const doc = getDocument(chunkDataView);\n        const rdf = getRDF(doc);\n\n        return objectAssign(tags, parseXMPObject(convertToObject(rdf, true)));\n    } catch (error) {\n        return tags;\n    }\n}\n\nfunction getDocument(chunkDataView) {\n    const Parser = DOMParser.get();\n    if (!Parser) {\n        console.warn('Warning: DOMParser is not available. It is needed to be able to parse XMP tags.'); // eslint-disable-line no-console\n        throw new Error();\n    }\n\n    const domParser = new Parser();\n    const xmlString = typeof chunkDataView === 'string' ? chunkDataView : getStringFromDataView(chunkDataView, 0, chunkDataView.byteLength);\n    const doc = domParser.parseFromString(trimXmlSource(xmlString), 'application/xml');\n\n    if (doc.documentElement.nodeName === 'parsererror') {\n        throw new Error(doc.documentElement.textContent);\n    }\n\n    return doc;\n}\n\nfunction trimXmlSource(xmlSource) {\n    return xmlSource.replace(/^.+(<\\?xpacket begin)/, '$1').replace(/(<\\?xpacket end=\".*\"\\?>).+$/, '$1');\n}\n\nfunction getRDF(node) {\n    for (let i = 0; i < node.childNodes.length; i++) {\n        if (node.childNodes[i].tagName === 'x:xmpmeta') {\n            return getRDF(node.childNodes[i]);\n        }\n        if (node.childNodes[i].tagName === 'rdf:RDF') {\n            return node.childNodes[i];\n        }\n    }\n\n    throw new Error();\n}\n\nfunction convertToObject(node, isTopNode = false) {\n    const childNodes = getChildNodes(node);\n\n    if (hasTextOnlyContent(childNodes)) {\n        if (isTopNode) {\n            return {};\n        }\n        return getTextValue(childNodes[0]);\n    }\n\n    return getElementsFromNodes(childNodes);\n}\n\nfunction getChildNodes(node) {\n    const elements = [];\n\n    for (let i = 0; i < node.childNodes.length; i++) {\n        elements.push(node.childNodes[i]);\n    }\n\n    return elements;\n}\n\nfunction hasTextOnlyContent(nodes) {\n    return (nodes.length === 1) && (nodes[0].nodeName === '#text');\n}\n\nfunction getTextValue(node) {\n    return node.nodeValue;\n}\n\nfunction getElementsFromNodes(nodes) {\n    const elements = {};\n\n    nodes.forEach((node) => {\n        if (isElement(node)) {\n            const nodeElement = getElementFromNode(node);\n\n            if (elements[node.nodeName] !== undefined) {\n                if (!Array.isArray(elements[node.nodeName])) {\n                    elements[node.nodeName] = [elements[node.nodeName]];\n                }\n                elements[node.nodeName].push(nodeElement);\n            } else {\n                elements[node.nodeName] = nodeElement;\n            }\n        }\n    });\n\n    return elements;\n}\n\nfunction isElement(node) {\n    return (node.nodeName) && (node.nodeName !== '#text');\n}\n\nfunction getElementFromNode(node) {\n    return {\n        attributes: getAttributes(node),\n        value: convertToObject(node)\n    };\n}\n\nfunction getAttributes(element) {\n    const attributes = {};\n\n    for (let i = 0; i < element.attributes.length; i++) {\n        attributes[element.attributes[i].nodeName] = decodeURIComponent(escape(element.attributes[i].value));\n    }\n\n    return attributes;\n}\n\nfunction parseXMPObject(xmpObject) {\n    const tags = {};\n\n    if (typeof xmpObject === 'string') {\n        return xmpObject;\n    }\n\n    for (const nodeName in xmpObject) {\n        let nodes = xmpObject[nodeName];\n\n        if (!Array.isArray(nodes)) {\n            nodes = [nodes];\n        }\n\n        nodes.forEach((node) => {\n            objectAssign(tags, parseNodeAttributesAsTags(node.attributes));\n            if (typeof node.value === 'object') {\n                objectAssign(tags, parseNodeChildrenAsTags(node.value));\n            }\n        });\n    }\n\n    return tags;\n}\n\nfunction parseNodeAttributesAsTags(attributes) {\n    const tags = {};\n\n    for (const name in attributes) {\n        if (isTagAttribute(name)) {\n            tags[getLocalName(name)] = {\n                value: attributes[name],\n                attributes: {},\n                description: getDescription(attributes[name], name)\n            };\n        }\n    }\n\n    return tags;\n}\n\nfunction isTagAttribute(name) {\n    return (name !== 'rdf:parseType') && (!isNamespaceDefinition(name));\n}\n\nfunction isNamespaceDefinition(name) {\n    return name.split(':')[0] === 'xmlns';\n}\n\nfunction getLocalName(name) {\n    return name.split(':')[1];\n}\n\nfunction getDescription(value, name = undefined) {\n    if (Array.isArray(value)) {\n        return getDescriptionOfArray(value);\n    }\n    if (typeof value === 'object') {\n        return getDescriptionOfObject(value);\n    }\n\n    try {\n        if ((name) && (typeof XmpTagNames[name] === 'function')) {\n            return XmpTagNames[name](value);\n        }\n        return decodeURIComponent(escape(value));\n    } catch (error) {\n        return value;\n    }\n}\n\nfunction getDescriptionOfArray(value) {\n    return value.map((item) => {\n        if (item.value !== undefined) {\n            return getDescription(item.value);\n        }\n        return getDescription(item);\n    }).join(', ');\n}\n\nfunction getDescriptionOfObject(value) {\n    const descriptions = [];\n\n    for (const key in value) {\n        descriptions.push(`${getClearTextKey(key)}: ${value[key].value}`);\n    }\n\n    return descriptions.join('; ');\n}\n\nfunction getClearTextKey(key) {\n    if (key === 'CiAdrCity') {\n        return 'CreatorCity';\n    }\n    if (key === 'CiAdrCtry') {\n        return 'CreatorCountry';\n    }\n    if (key === 'CiAdrExtadr') {\n        return 'CreatorAddress';\n    }\n    if (key === 'CiAdrPcode') {\n        return 'CreatorPostalCode';\n    }\n    if (key === 'CiAdrRegion') {\n        return 'CreatorRegion';\n    }\n    if (key === 'CiEmailWork') {\n        return 'CreatorWorkEmail';\n    }\n    if (key === 'CiTelWork') {\n        return 'CreatorWorkPhone';\n    }\n    if (key === 'CiUrlWork') {\n        return 'CreatorWorkUrl';\n    }\n    return key;\n}\n\nfunction parseNodeChildrenAsTags(children) {\n    const tags = {};\n\n    for (const name in children) {\n        if (!isNamespaceDefinition(name)) {\n            tags[getLocalName(name)] = parseNodeAsTag(children[name], name);\n        }\n    }\n\n    return tags;\n}\n\nfunction parseNodeAsTag(node, name) {\n    if (hasNestedSimpleRdfDescription(node)) {\n        return parseNodeAsSimpleRdfDescription(node, name);\n    } else if (hasNestedStructureRdfDescription(node)) {\n        return parseNodeAsStructureRdfDescription(node, name);\n    } else if (isCompactStructure(node)) {\n        return parseNodeAsCompactStructure(node, name);\n    } else if (isArray(node)) {\n        return parseNodeAsArray(node, name);\n    }\n    return parseNodeAsSimpleValue(node, name);\n}\n\nfunction hasNestedSimpleRdfDescription(node) {\n    return ((node.attributes['rdf:parseType'] === 'Resource') && (node.value['rdf:value'] !== undefined))\n        || ((node.value['rdf:Description'] !== undefined) && (node.value['rdf:Description'].value['rdf:value'] !== undefined));\n}\n\nfunction parseNodeAsSimpleRdfDescription(node, name) {\n    const attributes = parseNodeAttributes(node);\n\n    if (node.value['rdf:Description'] !== undefined) {\n        node = node.value['rdf:Description'];\n    }\n\n    objectAssign(attributes, parseNodeAttributes(node), parseNodeChildrenAsAttributes(node));\n\n    const value = parseRdfValue(node);\n\n    return {\n        value,\n        attributes,\n        description: getDescription(value, name)\n    };\n}\n\nfunction parseNodeAttributes(node) {\n    const attributes = {};\n\n    for (const name in node.attributes) {\n        if ((name !== 'rdf:parseType') && (name !== 'rdf:resource') && (!isNamespaceDefinition(name))) {\n            attributes[getLocalName(name)] = node.attributes[name];\n        }\n    }\n\n    return attributes;\n}\n\nfunction parseNodeChildrenAsAttributes(node) {\n    const attributes = {};\n\n    for (const name in node.value) {\n        if ((name !== 'rdf:value') && (!isNamespaceDefinition(name))) {\n            attributes[getLocalName(name)] = node.value[name].value;\n        }\n    }\n\n    return attributes;\n}\n\nfunction parseRdfValue(node) {\n    return getURIValue(node.value['rdf:value']) || node.value['rdf:value'].value;\n}\n\nfunction hasNestedStructureRdfDescription(node) {\n    return (node.attributes['rdf:parseType'] === 'Resource')\n        || ((node.value['rdf:Description'] !== undefined) && (node.value['rdf:Description'].value['rdf:value'] === undefined));\n}\n\nfunction parseNodeAsStructureRdfDescription(node, name) {\n    const tag = {\n        value: {},\n        attributes: {}\n    };\n\n    if (node.value['rdf:Description'] !== undefined) {\n        objectAssign(tag.value, parseNodeAttributesAsTags(node.value['rdf:Description'].attributes));\n        objectAssign(tag.attributes, parseNodeAttributes(node));\n        node = node.value['rdf:Description'];\n    }\n\n    objectAssign(tag.value, parseNodeChildrenAsTags(node.value));\n\n    tag.description = getDescription(tag.value, name);\n\n    return tag;\n}\n\nfunction isCompactStructure(node) {\n    return (Object.keys(node.value).length === 0)\n        && (node.attributes['rdf:resource'] === undefined);\n}\n\nfunction parseNodeAsCompactStructure(node, name) {\n    const value = parseNodeAttributesAsTags(node.attributes);\n\n    return {\n        value,\n        attributes: {},\n        description: getDescription(value, name)\n    };\n}\n\nfunction isArray(node) {\n    return getArrayChild(node.value) !== undefined;\n}\n\nfunction getArrayChild(value) {\n    return value['rdf:Bag'] || value['rdf:Seq'] || value['rdf:Alt'];\n}\n\nfunction parseNodeAsArray(node, name) {\n    let items = getArrayChild(node.value).value['rdf:li'];\n    const attributes = parseNodeAttributes(node);\n    const value = [];\n\n    if (items === undefined) {\n        items = [];\n    } else if (!Array.isArray(items)) {\n        items = [items];\n    }\n\n    items.forEach((item) => {\n        value.push(parseArrayValue(item));\n    });\n\n    return {\n        value,\n        attributes,\n        description: getDescription(value, name)\n    };\n}\n\nfunction parseArrayValue(item) {\n    if (hasNestedSimpleRdfDescription(item)) {\n        return parseNodeAsSimpleRdfDescription(item);\n    }\n\n    if (hasNestedArrayValue(item)) {\n        return parseNodeChildrenAsTags(item.value);\n    }\n\n    return {\n        value: item.value,\n        attributes: parseNodeAttributes(item),\n        description: getDescription(item.value)\n    };\n}\n\nfunction hasNestedArrayValue(node) {\n    return node.attributes['rdf:parseType'] === 'Resource';\n}\n\nfunction parseNodeAsSimpleValue(node, name) {\n    const value = getURIValue(node) || parseXMPObject(node.value);\n\n    return {\n        value,\n        attributes: parseNodeAttributes(node),\n        description: getDescription(value, name)\n    };\n}\n\nfunction getURIValue(node) {\n    return node.attributes && node.attributes['rdf:resource'];\n}\n","export default \"<div>\\n  <div class=\\\"fm-box-wrap\\\">\\n    <div class=\\\"fm-box\\\">\\n      <span class=\\\"label\\\">expectWidth</span>\\n      <div class=\\\"box\\\">\\n        <mat-select [(ngModel)]=\\\"testWidth\\\">\\n          <mat-option *ngFor=\\\"let data of optionWidths\\\" [value]=\\\"data.value\\\">{{\\n            data.label\\n          }}</mat-option>\\n        </mat-select>\\n      </div>\\n    </div>\\n    <div class=\\\"fm-box\\\">\\n      <span class=\\\"label\\\">expectHeight</span>\\n      <div class=\\\"box\\\">\\n        <mat-select [(ngModel)]=\\\"testHeight\\\">\\n          <mat-option *ngFor=\\\"let data of optionHeights\\\" [value]=\\\"data.value\\\">{{\\n            data.label\\n          }}</mat-option>\\n        </mat-select>\\n      </div>\\n    </div>\\n    <div class=\\\"fm-box\\\">\\n      <span class=\\\"label\\\">quality</span>\\n      <div class=\\\"box\\\">\\n        <mat-select [(ngModel)]=\\\"testQuality\\\">\\n          <mat-option *ngFor=\\\"let data of optionQualities\\\" [value]=\\\"data.value\\\">{{\\n            data.label\\n          }}</mat-option>\\n        </mat-select>\\n      </div>\\n    </div>\\n    <div class=\\\"fm-box\\\">\\n      <span class=\\\"label\\\">applyOrientation</span>\\n      <div class=\\\"box\\\">\\n        <mat-checkbox class=\\\"example-margin\\\" [(ngModel)]=\\\"testApplyOrientation\\\">\\n          apply exif orientation\\n        </mat-checkbox>\\n      </div>\\n    </div>\\n    <div class=\\\"fm-box\\\">\\n      <span class=\\\"label\\\">expectContentType</span>\\n      <div class=\\\"box\\\">\\n        <input class=\\\"fm-input\\\" [(ngModel)]=\\\"testContentType\\\" placeholder=\\\"ex) image/jpeg\\\" />\\n      </div>\\n    </div>\\n    <div class=\\\"fm-box\\\">\\n      <span class=\\\"label\\\">fillBgColor</span>\\n      <div class=\\\"box\\\">\\n        <input class=\\\"fm-input\\\" [(ngModel)]=\\\"testFillBgColor\\\" placeholder=\\\"ex) #ff0000\\\" />\\n      </div>\\n    </div>\\n  </div>\\n\\n  <ul class=\\\"my-desc\\\">\\n    <li class=\\\"item\\\">quality: only applies when contentType \\\"image/jpeg\\\"</li>\\n    <li class=\\\"item\\\">\\n      orientation: only applies when image has exif orientation\\n      <a target=\\\"_blank\\\" href=\\\"https://github.com/recurser/exif-orientation-examples\\\"\\n        >(github: exif orientation sample image)</a\\n      >\\n    </li>\\n  </ul>\\n</div>\\n\\n<div class=\\\"file-wrap\\\">\\n  <input type=\\\"file\\\" accept=\\\"image/*\\\" (change)=\\\"onFileChange($event)\\\" />\\n</div>\\n\\n<div class=\\\"demo-wrap\\\">\\n  <div *ngFor=\\\"let demo of demoList\\\" class=\\\"demo-item\\\">\\n    <div class=\\\"panel-canvas\\\">\\n      <div class=\\\"draw-area\\\">\\n        <canvas #demoCanvasRefs></canvas>\\n      </div>\\n    </div>\\n    <div *ngIf=\\\"demo.info\\\" class=\\\"panel-info\\\">\\n      <em class=\\\"tit\\\">{{ demo.info.title }}</em>\\n      <dl class=\\\"dl\\\">\\n        <dt class=\\\"dt\\\">size</dt>\\n        <dd class=\\\"dd\\\">{{ demo.info.size }}bype / {{ (demo.info.size / 1024).toFixed(2) }}kb</dd>\\n      </dl>\\n      <dl class=\\\"dl\\\">\\n        <dt class=\\\"dt\\\">type</dt>\\n        <dd class=\\\"dd\\\">{{ demo.info.type }}</dd>\\n      </dl>\\n      <dl class=\\\"dl\\\">\\n        <dt class=\\\"dt\\\">width</dt>\\n        <dd class=\\\"dd\\\">{{ demo.info.width }}</dd>\\n      </dl>\\n      <dl class=\\\"dl\\\">\\n        <dt class=\\\"dt\\\">height</dt>\\n        <dd class=\\\"dd\\\">{{ demo.info.height }}</dd>\\n      </dl>\\n    </div>\\n  </div>\\n</div>\\n\\n<!-- <div class=\\\"canvas-wrap\\\">\\n  <div class=\\\"canvas-item\\\">\\n    <div class=\\\"display-area\\\">\\n      <div class=\\\"draw-area\\\">\\n        <canvas #canvasOriginal></canvas>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"canvas-item\\\">\\n    <div class=\\\"display-area\\\">\\n      <div class=\\\"draw-area\\\">\\n        <canvas #canvasCover></canvas>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"canvas-item\\\">\\n    <div class=\\\"display-area\\\">\\n      <div class=\\\"draw-area\\\">\\n        <canvas #canvasCoverNoneStretch></canvas>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"canvas-item\\\">\\n    <div class=\\\"display-area\\\">\\n      <div class=\\\"draw-area\\\">\\n        <canvas #canvasScale></canvas>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"info-wrap\\\">\\n  <div *ngFor=\\\"let info of infos\\\" class=\\\"info-item\\\">\\n    <em class=\\\"tit\\\">{{ info.title }}</em>\\n    <dl class=\\\"dl\\\">\\n      <dt class=\\\"dt\\\">size</dt>\\n      <dd class=\\\"dd\\\">{{ info.size }}bype / {{ (info.size / 1024).toFixed(2) }}kb</dd>\\n    </dl>\\n    <dl class=\\\"dl\\\">\\n      <dt class=\\\"dt\\\">type</dt>\\n      <dd class=\\\"dd\\\">{{ info.type }}</dd>\\n    </dl>\\n    <dl class=\\\"dl\\\">\\n      <dt class=\\\"dt\\\">width</dt>\\n      <dd class=\\\"dd\\\">{{ info.width }}</dd>\\n    </dl>\\n    <dl class=\\\"dl\\\">\\n      <dt class=\\\"dt\\\">height</dt>\\n      <dd class=\\\"dd\\\">{{ info.height }}</dd>\\n    </dl>\\n  </div>\\n</div> -->\\n\";","export default \"<div>\\n  <mat-form-field>\\n    <mat-label>chunk size</mat-label>\\n    <mat-select [(ngModel)]=\\\"testChunk\\\">\\n      <mat-option *ngFor=\\\"let chunk of optionChunks\\\" [value]=\\\"chunk.value\\\">{{\\n        chunk.label\\n      }}</mat-option>\\n    </mat-select>\\n  </mat-form-field>\\n  <mat-form-field>\\n    <mat-label>response type</mat-label>\\n    <mat-select [(ngModel)]=\\\"testResponseType\\\">\\n      <mat-option *ngFor=\\\"let chunk of optionResponseTypes\\\" [value]=\\\"chunk.value\\\">{{\\n        chunk.label\\n      }}</mat-option>\\n    </mat-select>\\n  </mat-form-field>\\n</div>\\n\\n<div>\\n  <input type=\\\"file\\\" (change)=\\\"onFileChange($event)\\\" />\\n</div>\\n\\n<hr class=\\\"partition\\\" />\\n\\n<div class=\\\"print-stack\\\">\\n  <div class=\\\"stack-opt\\\">\\n    <button mat-raised-button color=\\\"warn\\\" [disabled]=\\\"!reader\\\" (click)=\\\"onFileAbort($event)\\\">\\n      abort\\n    </button>\\n    <div class=\\\"spacer\\\"></div>\\n    <div class=\\\"stack-count\\\">read count: {{ changeStackCount }}</div>\\n  </div>\\n  <div class=\\\"stack-list\\\">\\n    <div *ngFor=\\\"let fileEvent of changeStack\\\" class=\\\"stack-item\\\">\\n      <div class=\\\"aside\\\">\\n        {{ fileEvent.type }}\\n      </div>\\n      <div *ngIf=\\\"fileEvent.state\\\" class=\\\"bside\\\">\\n        <span class=\\\"label\\\">\\n          <span class=\\\"dt\\\">readed</span>\\n          <span class=\\\"dd\\\">{{ fileEvent.state.readed }}</span>\\n        </span>\\n        <span class=\\\"label\\\">\\n          <span class=\\\"dt\\\">total</span>\\n          <span class=\\\"dd\\\">{{ fileEvent.state.total }}</span>\\n        </span>\\n        <span class=\\\"label\\\">\\n          <span class=\\\"dt\\\">percent</span>\\n          <span class=\\\"dd\\\">{{ (fileEvent.state.readed / fileEvent.state.total).toFixed(2) }}</span>\\n        </span>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\";","import * as ExifReader from 'exifreader';\nimport { ResizeType, ResizeConfig, ResizeResult, DrawBound } from './types';\n\ninterface ParseMaxSize {\n  maxWidth: number;\n  maxHeight: number;\n}\n\ninterface ParseMetadata {\n  sw: number;\n  sh: number;\n  orientation?: number;\n}\n\n/**\n * Blob 이미지 리사이즈 용\n * Blob -> Canvas&Image resize -> Blob.\n * @class BlobImageResize\n */\nexport class BlobImageResize {\n  /**\n   * @param {Blob} blob 변경할 원본 Blob\n   * @param {ResizeConfig} [config={}] 리사이징 옵션\n   */\n  constructor(blob: Blob, config: ResizeConfig = {}) {\n    this.blob = blob;\n    const {\n      expectWidth = 2000,\n      expectHeight = 2000,\n      quality = 0.9,\n      resizeType = ResizeType.SCALE,\n      expectContentType,\n      fillBgColor,\n      applyOrientation = false,\n    } = config;\n    this.quality = quality;\n    this.maxWidth = expectWidth;\n    this.maxHeight = expectHeight;\n    this.resizeType = resizeType;\n    this.forceContentType = expectContentType;\n    this.fillBgColor = fillBgColor;\n    this.applyOrientation = applyOrientation;\n  }\n\n  // 리사이징 대상 Blob\n  protected blob: Blob;\n  // 리사이징 대상 Blob 의 URL\n  protected blobURL: string;\n  // 리사이징 대상 Blob 을 로드할 이미지\n  protected domImage: HTMLImageElement;\n  // 리사이징 대상 이미지를 그려낼 캔버스\n  protected domCanvas: HTMLCanvasElement;\n  protected domCanvasContext: CanvasRenderingContext2D;\n  // 캔버스에서 만들어낼 이미지 퀄리티\n  protected quality: number;\n  // contentType 강제 지정\n  protected forceContentType: string;\n  // 리사이징 최대 사이즈\n  protected maxWidth: number;\n  protected maxHeight: number;\n  // 캔버스 배경 컬러\n  protected fillBgColor: string;\n  // 리사이징 할 때 캔버스에 그려낼 사이즈 타입\n  protected resizeType: ResizeType;\n  // 리사이징 완료된 Blob\n  protected resizeBlob: Blob;\n  // orientation 적용 여부\n  protected applyOrientation: boolean;\n  protected detectedOrientation: number;\n  // 응답용 promize\n  protected promise: Promise<ResizeResult>;\n  protected promiseResolve: (value: ResizeResult) => void;\n  protected promiseReject: (reason?: any) => void;\n\n  /**\n   * 리사이징 타입 - SCALE 형\n   * 정해진 expect 사이즈를 최대 사이즈로 비율에 맞춤. 원본이 작은 경우 늘리지 않음.\n   * @param {number} sw\n   * @param {number} sh\n   * @returns {DrawBound}\n   */\n  getResizeToScale(sw: number, sh: number): DrawBound {\n    const { maxWidth, maxHeight } = this.getMaxSize(sw, sh);\n    const dx: number = 0;\n    const dy: number = 0;\n    let dw: number = 0;\n    let dh: number = 0;\n    const isLandscape: boolean = sh <= sw;\n    if (isLandscape) {\n      dw = Math.min(maxWidth, sw);\n      dh = Math.floor((dw / sw) * sh);\n    } else {\n      dh = Math.min(maxHeight, sh);\n      dw = Math.floor((dh / sh) * sw);\n    }\n    return { dx, dy, dw, dh, mw: dw, mh: dh };\n  }\n\n  /**\n   * 리사이징 타입 - SCALE 형\n   * 정해진 expect 사이즈를 최대 사이즈로 비율에 맞춤. 원본이 작은 경우 비율에 맞춰서 늘림.\n   * @param {number} sw\n   * @param {number} sh\n   * @returns {DrawBound}\n   */\n  getResizeToScaleStretch(sw: number, sh: number): DrawBound {\n    const { maxWidth, maxHeight } = this.getMaxSize(sw, sh);\n    const dx: number = 0;\n    const dy: number = 0;\n    let dw: number = 0;\n    let dh: number = 0;\n    let contentRatio: number = 1;\n    const isLandscape: boolean = sh <= sw;\n    if (isLandscape) {\n      contentRatio = sw / sh;\n      contentRatio = 1 < contentRatio ? contentRatio : 1;\n      dw = maxWidth * contentRatio;\n      dh = Math.floor((dw / sw) * sh);\n    } else {\n      contentRatio = sh / sw;\n      contentRatio = 1 < contentRatio ? contentRatio : 1;\n      dh = maxHeight * contentRatio;\n      dw = Math.floor((dh / sh) * sw);\n    }\n    return { dx, dy, dw, dh, mw: dw, mh: dh };\n  }\n\n  /**\n   * 리사이징 타입 - COVER 형\n   * 정해진 expect 사이즈에 빈 여백 없이 맞춤. 원본이 작은 경우 늘리지 않으며, cover 처리가 가능한 최대 사이즈로 맞춤.\n   * @param {number} sw\n   * @param {number} sh\n   * @returns {DrawBound}\n   */\n  getResizeToCover(sw: number, sh: number): DrawBound {\n    const { maxWidth, maxHeight } = this.getMaxSize(sw, sh);\n    const min = Math.min(sw, sh, maxWidth, maxHeight);\n    const mw = Math.min(min, sw, maxWidth);\n    const mh = Math.min(min, sh, maxHeight);\n    let dx: number = 0;\n    let dy: number = 0;\n    let dw: number = 0;\n    let dh: number = 0;\n    let expectRatio: number = mw / mh;\n    let contentRatio: number = sw / sh;\n    if (expectRatio < contentRatio) {\n      dh = mh;\n      dw = mh * contentRatio;\n    } else {\n      dw = mw;\n      dh = mw / contentRatio;\n    }\n    dx = (mw - dw) * 0.5;\n    dy = (mh - dh) * 0.5;\n    return { dx, dy, dw, dh, mw, mh };\n  }\n\n  /**\n   * 리사이징 타입 - COVER 형\n   * 정해진 expect 사이즈에 빈 여백 없이 맞춤. 원본이 작은 경우 늘림.\n   * @param {number} sw\n   * @param {number} sh\n   * @returns {DrawBound}\n   */\n  getResizeToCoverStretch(sw: number, sh: number): DrawBound {\n    const { maxWidth, maxHeight } = this.getMaxSize(sw, sh);\n    let dx: number = 0;\n    let dy: number = 0;\n    let dw: number = 0;\n    let dh: number = 0;\n    let expectRatio: number = maxWidth / maxHeight;\n    let contentRatio: number = sw / sh;\n    if (expectRatio < contentRatio) {\n      dh = maxHeight;\n      dw = maxHeight * contentRatio;\n    } else {\n      dw = maxWidth;\n      dh = maxWidth / contentRatio;\n    }\n    dx = (maxWidth - dw) * 0.5;\n    dy = (maxHeight - dh) * 0.5;\n    return { dx, dy, dw, dh, mw: maxWidth, mh: maxHeight };\n  }\n\n  /**\n   * 리사이징 타입 - Fixed 형\n   * 정해진 expect 사이즈에 맞춤.\n   * @param {number} sw\n   * @param {number} sh\n   * @returns {DrawBound}\n   */\n  getResizeToFixed(sw: number, sh: number): DrawBound {\n    const { maxWidth, maxHeight } = this.getMaxSize(sw, sh);\n    let dw: number = maxWidth;\n    let dh: number = maxHeight;\n    return {\n      dx: 0,\n      dy: 0,\n      dw: dw,\n      dh: dh,\n      mw: dw,\n      mh: dh,\n    };\n  }\n\n  /**\n   * 이미지 사이즈와 옵션 조합으로 리사이징 가능한 최대 넓이, 높이 반환\n   * @protected\n   * @param {number} sw\n   * @param {number} sh\n   * @returns {ParseMaxSize}\n   */\n  protected getMaxSize(sw: number, sh: number): ParseMaxSize {\n    let maxWidth = this.maxWidth;\n    let maxHeight = this.maxHeight;\n    if (this.maxWidth <= 0 && this.maxHeight <= 0) {\n      maxWidth = sw;\n      maxHeight = sh;\n    } else if (this.maxWidth <= 0) {\n      if (this.resizeType === ResizeType.SCALE_STRETCH) {\n        maxWidth = sw <= sh ? sw * (this.maxHeight / sh) : this.maxHeight;\n      } else if (this.resizeType === ResizeType.FIXED) {\n        maxWidth = sw * (this.maxHeight / sh);\n      } else {\n        maxWidth = maxHeight;\n      }\n    } else if (this.maxHeight <= 0) {\n      if (this.resizeType === ResizeType.SCALE_STRETCH) {\n        maxHeight = sh <= sw ? sh * (this.maxWidth / sw) : this.maxWidth;\n      } else if (this.resizeType === ResizeType.FIXED) {\n        maxHeight = sh * (this.maxWidth / sw);\n      } else {\n        maxHeight = maxWidth;\n      }\n    }\n    return {\n      maxWidth: maxWidth,\n      maxHeight: maxHeight,\n    };\n  }\n\n  /**\n   * 이미지 로드 완료\n   * @protected\n   */\n  protected onImageLoaded() {\n    URL.revokeObjectURL(this.blobURL);\n    const imageWidth = this.domImage.naturalWidth;\n    const imageHeight = this.domImage.naturalHeight;\n    this.draw(imageWidth, imageHeight);\n  }\n\n  /**\n   * 이미지 orientation 등 설정 정보에 따라 그려져야할 사이즈, 방향 등 반환\n   * @protected\n   * @param {number} imageWidth\n   * @param {number} imageHeight\n   * @returns {Promise<ParseMetadata>}\n   */\n  protected async parseDrawMetadata(\n    imageWidth: number,\n    imageHeight: number\n  ): Promise<ParseMetadata> {\n    let sw = imageWidth;\n    let sh = imageHeight;\n    let orientation = 0;\n    if (this.applyOrientation === true) {\n      try {\n        const buffer = await this.blob.arrayBuffer();\n        const result = ExifReader.load(buffer);\n        if (result.Orientation && result.Orientation.value) {\n          orientation = result.Orientation.value;\n        }\n      } catch (err) {}\n      if (4 < orientation) {\n        sw = imageHeight;\n        sh = imageWidth;\n      }\n    }\n    return { sw, sh, orientation };\n  }\n\n  /**\n   * 이미지가 그려져야할 영역 정보 반환\n   * @protected\n   * @param {number} sw\n   * @param {number} sh\n   * @return {DrawBound}\n   */\n  protected parseDrawBound(sw: number, sh: number): DrawBound {\n    let drawBound: DrawBound;\n    switch (this.resizeType) {\n      case ResizeType.COVER:\n        drawBound = this.getResizeToCover(sw, sh);\n        break;\n      case ResizeType.COVER_STRETCH:\n        drawBound = this.getResizeToCoverStretch(sw, sh);\n        break;\n      case ResizeType.SCALE_STRETCH:\n        drawBound = this.getResizeToScaleStretch(sw, sh);\n        break;\n      case ResizeType.SCALE:\n        drawBound = this.getResizeToScale(sw, sh);\n        break;\n      default:\n        drawBound = this.getResizeToFixed(sw, sh);\n        break;\n    }\n    return drawBound;\n  }\n\n  /**\n   * 그리기\n   * @protected\n   * @param {number} imageWidth\n   * @param {number} imageHeight\n   * @returns {Promise<void>}\n   */\n  protected async draw(imageWidth: number, imageHeight: number): Promise<void> {\n    const { sw, sh, orientation } = await this.parseDrawMetadata(imageWidth, imageHeight);\n    const { dx, dy, dw, dh, mw, mh } = this.parseDrawBound(sw, sh);\n    const tx = dw + dx * 2;\n    const ty = dh + dy * 2;\n    const contentType = this.forceContentType || this.blob.type;\n    const canvas = this.domCanvas;\n    const context = this.domCanvasContext;\n    canvas.width = mw;\n    canvas.height = mh;\n\n    if (this.fillBgColor) {\n      context.fillStyle = this.fillBgColor;\n      context.fillRect(0, 0, mw, mh);\n    }\n    switch (orientation) {\n      case 2:\n        context.translate(tx, 0);\n        context.scale(-1, 1);\n        break;\n      case 3:\n        context.translate(tx, ty);\n        context.rotate(Math.PI);\n        break;\n      case 4:\n        context.translate(0, ty);\n        context.scale(1, -1);\n        break;\n      case 5:\n        context.rotate(Math.PI * 0.5);\n        context.scale(1, -1);\n        break;\n      case 6:\n        context.rotate(Math.PI * 0.5);\n        context.translate(0, -tx);\n        break;\n      case 7:\n        context.rotate(Math.PI * 0.5);\n        context.translate(ty, -tx);\n        context.scale(-1, 1);\n        break;\n      case 8:\n        context.rotate(Math.PI * -0.5);\n        context.translate(-ty, 0);\n        break;\n    }\n    if (4 < orientation) {\n      context.drawImage(this.domImage, 0, 0, sh, sw, dy, dx, dh, dw);\n    } else {\n      context.drawImage(this.domImage, 0, 0, sw, sh, dx, dy, dw, dh);\n    }\n\n    this.detectedOrientation = orientation;\n    // 그리기 완료 (type 이 jpeg 인 경우만 quality 적용이 됨)\n    canvas.toBlob(this.onResized.bind(this), contentType, this.quality);\n  }\n\n  /**\n   * 이미지 로드 오류\n   * @protected\n   */\n  protected onImageError() {\n    URL.revokeObjectURL(this.blobURL);\n    this.promiseReject({\n      ...this.getState(),\n      error: new Error('image load error'),\n    });\n  }\n\n  /**\n   * 이미지 리사이징 완료\n   * @protected\n   * @param {Blob} resizeBlob\n   */\n  protected onResized(resizeBlob: Blob) {\n    this.resizeBlob = resizeBlob;\n    this.promiseResolve(this.getState());\n  }\n\n  /**\n   * 리사이징 이미지 생성하기\n   * @returns {Promise<ResizeResult>}\n   */\n  create(): Promise<ResizeResult> {\n    this.domCanvas = document.createElement('canvas');\n    this.domCanvasContext = this.domCanvas.getContext('2d');\n    this.domImage = new Image();\n    this.domImage.onload = this.onImageLoaded.bind(this);\n    this.domImage.onerror = this.onImageError.bind(this);\n    this.promise = new Promise((resolve, reject) => {\n      this.promiseResolve = resolve;\n      this.promiseReject = reject;\n      try {\n        this.blobURL = URL.createObjectURL(this.blob);\n        this.domImage.src = this.blobURL;\n      } catch (err) {\n        this.promiseReject({\n          ...this.getState(),\n          error: err,\n        });\n      }\n    });\n    return this.promise;\n  }\n\n  getState(): ResizeResult {\n    const blob = this.resizeBlob || null;\n    const { width = 0, height = 0 } = this.domCanvas || {};\n    const orientation = this.detectedOrientation || 0;\n    return {\n      blob: blob,\n      width: blob ? width : 0,\n      height: blob ? height : 0,\n      orientation,\n    };\n  }\n}\n","export * from './types';\nexport * from './BlobImageResize';\n","/**\n * 리사이즈 타입\n *  - SCALE: 이미지 비율 유지, 원본이 예상 크기 보다 작은 경우 늘리지 않음.\n *  - SCALE_STRETCH: 이미지 비율 유지, 원본이 예상 크기 보다 작은 경우 작은것을 기준으로 늘림.\n *  - COVER: 이미지 넘치면 잘라냄, 원본이 예상 크기 보다 작은 경우 늘리지 않음.\n *  - COVER_STRETCH: 이미지 넘치면 잘라냄, 원본이 예상 크기 보다 작은 경우 늘림.\n * @export\n * @enum {number}\n */\nexport enum ResizeType {\n  SCALE,\n  SCALE_STRETCH,\n  COVER,\n  COVER_STRETCH,\n  FIXED,\n}\n\n/**\n * 리사이즈 옵션\n * @export\n * @interface ResizeConfig\n */\nexport interface ResizeConfig {\n  /**\n   * 리사이즈 예상 width\n   * @type {number}\n   */\n  expectWidth?: number;\n  /**\n   * 리사이즈 예상 height\n   * @type {number}\n   */\n  expectHeight?: number;\n  /**\n   * 이미지 품질 (jpeg type 이 아닌건 quality 적용이 되지 않음)\n   * @type {number}\n   */\n  quality?: number;\n  /**\n   * canvas 에 그려질 contentType 을 강제하려는 경우의 값, 지정하지 않으면 읽어낸 값으로 지정\n   * @type {string}\n   */\n  expectContentType?: string;\n  /**\n   * canvas 의 기본 배경 컬러 지정\n   * @type {string}\n   */\n  fillBgColor?: string;\n  /**\n   * 리사이즈 타입\n   * @type {ResizeType}\n   */\n  resizeType?: ResizeType;\n\n  /**\n   * exif orientation 정보가 있는 경우 적용 여부\n   * @type {boolean}\n   */\n  applyOrientation?: boolean;\n}\n\n/**\n * 리사이즈 결과\n * @export\n * @interface ResizeResult\n */\nexport interface ResizeResult {\n  /**\n   * 리사이즈 된 Blob\n   * @type {Blob}\n   */\n  blob: Blob;\n  /**\n   * 리사이즈 된 width 사이즈\n   * @type {number}\n   */\n  width: number;\n  /**\n   * 리사이즈 된 height 사이즈\n   * @type {number}\n   */\n  height: number;\n  /**\n   * allowOrientation 적용시 exif 에서 찾아낸 orientation 값\n   * @type {number}\n   */\n  orientation?: number;\n  /**\n   * 오류가 있는 경우\n   * @type {*}\n   * @memberof ResizeResult\n   */\n  error?: any;\n}\n\n/**\n * 리사이즈 계산 정보\n * @interface DrawBound\n */\nexport interface DrawBound {\n  dx: number;\n  dy: number;\n  dw: number;\n  dh: number;\n  mw: number;\n  mh: number;\n}\n","export * from \"./read-stream\";\nexport * from \"./blob-image\";\n","import { Subject, Observable } from 'rxjs';\nimport {\n  FileReadEventType,\n  FileReadEvent,\n  FileReadState,\n  FileReadConfig,\n  FileReadResponseType,\n} from './types';\n\n/**\n * 파일 스트림 읽기.\n * FileReader 사용시 한번에 못 읽는 용량 끊어서 읽기 용.\n * @class FileReadStream\n */\nexport class FileReadStream {\n  /**\n   * @param {File} file FileReader 로 읽을 파일\n   * @param {FileReadConfig} [config={}] 스트림 옵션\n   */\n  constructor(file: File, config: FileReadConfig = {}) {\n    this.readFile = file;\n    this.reader = new FileReader();\n    this.reader.onload = this.onReaderLoaded.bind(this);\n    this.reader.onerror = this.onReaderError.bind(this);\n    this.subjectState = new Subject();\n    const { chunkSize = 1024 * 1024 * 10, responseType = FileReadResponseType.BLOB } = config;\n    this.readChunkSize = chunkSize;\n    this.responseType = responseType;\n  }\n\n  // 변경사항 알리미 @see https://rxjs-dev.firebaseapp.com\n  protected subjectState: Subject<FileReadEvent>;\n  // 파일 리더\n  protected reader: FileReader;\n  // 읽을 파일\n  protected readFile: File;\n  // 읽기 시작 여부\n  protected readStarted: boolean = false;\n  // 1회 읽을량\n  protected readChunkSize: number;\n  // 현재 읽기 offset\n  protected readOffset: number = 0;\n  // 현재 읽어야할 offset\n  protected readOffsetNext: number = 0;\n  // 현재 읽은량\n  protected readCurrent: number = 0;\n  // 현재 취소 상태인지 확인용\n  protected readStateAbort: boolean = false;\n  // 읽은 버퍼\n  protected buffers: ArrayBuffer[] = [];\n  // 응답시 파일 타입\n  protected responseType: FileReadResponseType;\n  // subjectState 로 진행(완료) 상태를 받을 수 있지만, 편의용 async/await 도 제공\n  protected readPromise: Promise<FileReadEvent>;\n  protected readPromiseResolve: (value: FileReadEvent) => void;\n  protected readPromiseReject: (reason?: any) => void;\n\n  /**\n   * 파일 읽기 1회 완료\n   * @protected\n   * @param {Event} evt\n   */\n  protected onReaderLoaded(evt: Event) {\n    this.readCurrent = this.readOffsetNext;\n    this.readOffset += this.readChunkSize;\n    this.buffers.push(this.reader.result as ArrayBuffer);\n    this.stateChanged();\n    this.next();\n  }\n\n  /**\n   * 파일 읽기 1회 오류\n   * @protected\n   * @param {Event} evt\n   */\n  protected onReaderError(evt: Event) {\n    this.resultReject(new Error('file reader onerror event'));\n  }\n\n  /**\n   * 다음 구간 읽기\n   * @protected\n   */\n  protected next() {\n    if (this.readStateAbort) {\n      return;\n    }\n    try {\n      const maxSize = this.readFile.size;\n      if (maxSize <= this.readOffset) {\n        this.resultResolve();\n        return;\n      }\n      let expectNext = this.readOffset + this.readChunkSize;\n      if (maxSize <= expectNext) expectNext = maxSize;\n      this.readOffsetNext = expectNext;\n      const sliceBlob = this.readFile.slice(this.readOffset, this.readOffsetNext);\n      this.reader.readAsArrayBuffer(sliceBlob);\n    } catch (err) {\n      this.onReaderError(err);\n    }\n  }\n\n  /**\n   * state 변경 시 알림\n   * @protected\n   */\n  protected stateChanged() {\n    this.subjectState.next({\n      type: FileReadEventType.CHANGE,\n      state: this.getState(),\n    });\n  }\n\n  /**\n   * 완료 시 알림\n   * @protected\n   */\n  protected resultResolve() {\n    const result: FileReadEvent = {\n      type: FileReadEventType.RESOLVE,\n      state: this.getState(),\n    };\n    this.reader.onload = null;\n    this.reader.onerror = null;\n    this.readPromiseResolve(result);\n    this.subjectState.next(result);\n  }\n\n  /**\n   * 실패 시 알림\n   * @protected\n   * @param {*} reason\n   */\n  protected resultReject(reason: any, type: FileReadEventType = FileReadEventType.REJECT) {\n    const result: FileReadEvent = {\n      type,\n      state: null,\n      error: reason,\n    };\n    this.reader.onload = null;\n    this.reader.onerror = null;\n    this.readPromiseReject(result);\n    this.subjectState.next(result);\n  }\n\n  /**\n   * 읽기 시작\n   * @returns {Promise<FileReadEvent>}\n   */\n  start(): Promise<FileReadEvent> {\n    if (this.readStarted) return;\n    this.readStarted = true;\n    this.readPromise = new Promise((resolve, reject) => {\n      this.readPromiseResolve = resolve;\n      this.readPromiseReject = reject;\n    });\n    this.next();\n    return this.readPromise;\n  }\n\n  /**\n   * 상태변경 옵저버\n   * @returns {Observable<FileReadEvent>}\n   */\n  observeState(): Observable<FileReadEvent> {\n    return this.subjectState.asObservable();\n  }\n\n  /**\n   * 현재 상태\n   * @returns {FileReadState}\n   */\n  getState(): FileReadState {\n    const { name = null, type = null, size = 0, lastModified = Date.now() } = this.readFile || {};\n    const state: FileReadState = {\n      fileName: name,\n      fileType: type,\n      fileSize: size,\n      fileLastModified: lastModified,\n      total: size,\n      readed: this.readCurrent,\n      responseType: this.responseType,\n      chunkSize: this.readChunkSize,\n    };\n    switch (this.responseType) {\n      case FileReadResponseType.BLOB:\n        state.blob = new Blob(this.buffers, { type });\n        break;\n      case FileReadResponseType.BUFFER:\n        state.buffers = this.buffers;\n        break;\n    }\n    return state;\n  }\n\n  /**\n   * 파일 읽기 중단\n   */\n  abort(): void {\n    this.readStateAbort = true;\n    if (this.reader) {\n      this.reader.abort();\n      this.reader.onload = null;\n      this.reader.onerror = null;\n      this.resultReject(new Error('file reader abort event'), FileReadEventType.ABORT);\n    }\n  }\n\n  /**\n   * 파기\n   */\n  destroy() {\n    if (this.reader) {\n      this.reader.abort();\n      this.reader.onload = null;\n      this.reader.onerror = null;\n      this.reader = null;\n    }\n    this.readFile = null;\n  }\n}\n","/**\n * dependencies\n * - rxjs: https://rxjs-dev.firebaseapp.com\n */\n\nexport * from './types';\nexport * from './FileReadStream';\n","/**\n * 스트림 이벤트 타입\n *  - CHANGE: 변경사항이 있음\n *  - RESOLVE: 완료\n *  - REJECT: 오류\n * @export\n * @enum {string}\n */\nexport enum FileReadEventType {\n  CHANGE = 'CHANGE',\n  RESOLVE = 'RESOLVE',\n  REJECT = 'REJECT',\n  ABORT = 'ABORT',\n}\n\n/**\n * 스트림 이벤트\n * @export\n * @interface FileReadEvent\n */\nexport interface FileReadEvent {\n  /**\n   * 이벤트 타입명\n   * @type {FileReadEventType}\n   */\n  type: FileReadEventType;\n  /**\n   * 스트림 상태\n   * @type {FileReadState}\n   */\n  state: FileReadState;\n  /**\n   * 오류\n   * @type {*}\n   */\n  error?: any;\n}\n\n/**\n * 스트림 상태 정보\n * @export\n * @interface FileReadState\n */\nexport interface FileReadState {\n  /**\n   * 파일명\n   * @type {string}\n   */\n  fileName: string;\n  /**\n   * 파일의 (Mime)타입\n   * @type {string}\n   */\n  fileType: string;\n  /**\n   * 파일의 용량\n   * @type {number}\n   */\n  fileSize: number;\n  /**\n   * 파일의 마지막 수정시간\n   * @type {number}\n   */\n  fileLastModified: number;\n  /**\n   * 읽어들인 용량\n   * @type {number}\n   */\n  readed: number;\n  /**\n   * 읽어내야할 용량(파일 용량)\n   * @type {number}\n   */\n  total: number;\n  /**\n   * 1회 읽기시 읽어들일 용량\n   * @type {number}\n   */\n  chunkSize: number;\n  /**\n   * 읽기 완료 후 반환 타입\n   * @type {FileReadResponseType}\n   */\n  responseType: FileReadResponseType;\n  /**\n   * responseType 이 BUFFER 인 경우 반환하는 ArrayBuffer[]\n   * @type {ArrayBuffer[]}\n   */\n  buffers?: ArrayBuffer[];\n  /**\n   * responseType 이 BLOB 인 경우 반환하는 Blob\n   * @type {Blob}\n   */\n  blob?: Blob;\n}\n\n/**\n * 스트림 옵션\n * @export\n * @interface FileReadConfig\n */\nexport interface FileReadConfig {\n  /**\n   * 1회에 읽어들일 용량\n   * @type {number}\n   */\n  chunkSize?: number;\n  /**\n   * 읽기 완료 후 반환 타입\n   * @type {FileReadResponseType}\n   */\n  responseType?: FileReadResponseType;\n}\n\n/**\n * 스트립 상태 정보 중 완료시 파일 타입.\n *  - BUFFER: ArrayBuffer[] 타입\n *  - BLOB: Blob 타입\n * @export\n * @enum {string}\n */\nexport enum FileReadResponseType {\n  BUFFER = 'BUFFER',\n  BLOB = 'BLOB',\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n  imports: [CommonModule],\n  // exports: [SampleActorComponent],\n  // declarations: [SampleActorComponent],\n})\nexport class ExampleCommonModule {}\n","export default \".file-wrap {\\n  padding: 30px 0;\\n}\\n\\n.my-desc {\\n  padding: 7px 10px 7px 22px;\\n  color: #666666;\\n  font-size: 14px;\\n  line-height: 1.45;\\n}\\n\\n.my-desc .item {\\n  padding: 3px 0;\\n  list-style: outside square;\\n}\\n\\n.fm-box-wrap {\\n  display: flex;\\n  flex-wrap: wrap;\\n}\\n\\n.fm-box-wrap .fm-box {\\n  flex: 1;\\n  margin: 5px;\\n  padding: 10px 15px;\\n  min-width: 240px;\\n  width: 25%;\\n  border-radius: 5px;\\n  box-sizing: border-box;\\n  background-color: #f7f7f7;\\n}\\n\\n.fm-box-wrap .fm-box .label {\\n  display: block;\\n  font-size: 14px;\\n  color: #666666;\\n}\\n\\n.fm-box-wrap .fm-box .box {\\n  margin-top: 5px;\\n  padding: 5px 0;\\n}\\n\\n.fm-box-wrap .fm-input {\\n  display: block;\\n  padding: 0 10px;\\n  width: 100%;\\n  height: 32px;\\n  font-size: 16px;\\n  box-sizing: border-box;\\n  border-radius: 0;\\n  border: none;\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\\n  background: none;\\n  -webkit-appearance: none;\\n     -moz-appearance: none;\\n          appearance: none;\\n}\\n\\n.demo-wrap {\\n  display: flex;\\n  flex-wrap: wrap;\\n}\\n\\n.demo-wrap .demo-item {\\n  padding: 10px;\\n  width: 50%;\\n  min-width: 280px;\\n  box-sizing: border-box;\\n}\\n\\n.demo-wrap .demo-item .panel-info {\\n  padding: 10px 10px;\\n  font-size: 14px;\\n  box-sizing: border-box;\\n}\\n\\n.demo-wrap .demo-item .panel-info .tit {\\n  display: block;\\n  padding-bottom: 5px;\\n  font-size: 16px;\\n  font-style: normal;\\n  font-weight: bold;\\n}\\n\\n.demo-wrap .demo-item .panel-info .dl {\\n  display: flex;\\n  padding: 5px 0;\\n  align-items: center;\\n}\\n\\n.demo-wrap .demo-item .panel-info .dl .dt {\\n  width: 50px;\\n  color: #999999;\\n}\\n\\n.demo-wrap .demo-item .panel-info .dl .dd {\\n  color: #000000;\\n}\\n\\n.demo-wrap .demo-item .panel-canvas {\\n  position: relative;\\n  padding-bottom: 100%;\\n  box-sizing: border-box;\\n}\\n\\n.demo-wrap .demo-item .panel-canvas .draw-area {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  overflow: auto;\\n  box-sizing: border-box;\\n  border: 1px dashed #000000;\\n  background-color: #f9f9f9;\\n  background-image: linear-gradient(45deg, #d9d9d9 25%, transparent 25%, transparent 75%, #d9d9d9 75%, #d9d9d9), linear-gradient(45deg, #d9d9d9 25%, transparent 25%, transparent 75%, #d9d9d9 75%, #d9d9d9);\\n  background-size: 20px 20px;\\n  background-position: 0 0, 10px 10px;\\n}\\n\\n.demo-wrap .demo-item .panel-canvas .draw-area > canvas {\\n  display: block;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2Rldi9zcmMvYXBwL3BhZ2VzL2RlbW8vYmxvYi1pbWFnZS9ibG9iLWltYWdlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZUFBQTtBQUNGOztBQUNBO0VBQ0UsMEJBQUE7RUFDQSxjQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0FBRUY7O0FBREU7RUFDRSxjQUFBO0VBQ0EsMEJBQUE7QUFHSjs7QUFBQTtFQUNFLGFBQUE7RUFDQSxlQUFBO0FBR0Y7O0FBRkU7RUFDRSxPQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxVQUFBO0VBQ0Esa0JBQUE7RUFDQSxzQkFBQTtFQUNBLHlCQUFBO0FBSUo7O0FBSEk7RUFDRSxjQUFBO0VBQ0EsZUFBQTtFQUNBLGNBQUE7QUFLTjs7QUFISTtFQUNFLGVBQUE7RUFDQSxjQUFBO0FBS047O0FBRkU7RUFDRSxjQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtFQUNBLHNCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxZQUFBO0VBQ0EsMkNBQUE7RUFDQSxnQkFBQTtFQUNBLHdCQUFBO0tBQUEscUJBQUE7VUFBQSxnQkFBQTtBQUlKOztBQURBO0VBQ0UsYUFBQTtFQUNBLGVBQUE7QUFJRjs7QUFIRTtFQUNFLGFBQUE7RUFDQSxVQUFBO0VBQ0EsZ0JBQUE7RUFDQSxzQkFBQTtBQUtKOztBQUpJO0VBQ0Usa0JBQUE7RUFDQSxlQUFBO0VBQ0Esc0JBQUE7QUFNTjs7QUFMTTtFQUNFLGNBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0FBT1I7O0FBTE07RUFDRSxhQUFBO0VBQ0EsY0FBQTtFQUNBLG1CQUFBO0FBT1I7O0FBTlE7RUFDRSxXQUFBO0VBQ0EsY0FBQTtBQVFWOztBQU5RO0VBQ0UsY0FBQTtBQVFWOztBQUhJO0VBQ0Usa0JBQUE7RUFDQSxvQkFBQTtFQUNBLHNCQUFBO0FBS047O0FBSk07RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxjQUFBO0VBQ0Esc0JBQUE7RUFDQSwwQkFBQTtFQUNBLHlCQUFBO0VBQ0EsME1BQUE7RUFnQkEsMEJBQUE7RUFDQSxtQ0FBQTtBQVRSOztBQVVRO0VBQ0UsY0FBQTtBQVJWIiwiZmlsZSI6InByb2plY3RzL2Rldi9zcmMvYXBwL3BhZ2VzL2RlbW8vYmxvYi1pbWFnZS9ibG9iLWltYWdlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmZpbGUtd3JhcCB7XG4gIHBhZGRpbmc6IDMwcHggMDtcbn1cbi5teS1kZXNjIHtcbiAgcGFkZGluZzogN3B4IDEwcHggN3B4IDIycHg7XG4gIGNvbG9yOiAjNjY2NjY2O1xuICBmb250LXNpemU6IDE0cHg7XG4gIGxpbmUtaGVpZ2h0OiAxLjQ1O1xuICAuaXRlbSB7XG4gICAgcGFkZGluZzogM3B4IDA7XG4gICAgbGlzdC1zdHlsZTogb3V0c2lkZSBzcXVhcmU7XG4gIH1cbn1cbi5mbS1ib3gtd3JhcCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtd3JhcDogd3JhcDtcbiAgLmZtLWJveCB7XG4gICAgZmxleDogMTtcbiAgICBtYXJnaW46IDVweDtcbiAgICBwYWRkaW5nOiAxMHB4IDE1cHg7XG4gICAgbWluLXdpZHRoOiAyNDBweDtcbiAgICB3aWR0aDogMjUlO1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmN2Y3Zjc7XG4gICAgLmxhYmVsIHtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgY29sb3I6ICM2NjY2NjY7XG4gICAgfVxuICAgIC5ib3gge1xuICAgICAgbWFyZ2luLXRvcDogNXB4O1xuICAgICAgcGFkZGluZzogNXB4IDA7XG4gICAgfVxuICB9XG4gIC5mbS1pbnB1dCB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgcGFkZGluZzogMCAxMHB4O1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMzJweDtcbiAgICBmb250LXNpemU6IDE2cHg7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBib3JkZXItcmFkaXVzOiAwO1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgYXBwZWFyYW5jZTogbm9uZTtcbiAgfVxufVxuLmRlbW8td3JhcCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtd3JhcDogd3JhcDtcbiAgLmRlbW8taXRlbSB7XG4gICAgcGFkZGluZzogMTBweDtcbiAgICB3aWR0aDogNTAlO1xuICAgIG1pbi13aWR0aDogMjgwcHg7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAucGFuZWwtaW5mbyB7XG4gICAgICBwYWRkaW5nOiAxMHB4IDEwcHg7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgLnRpdCB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICBwYWRkaW5nLWJvdHRvbTogNXB4O1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICB9XG4gICAgICAuZGwge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBwYWRkaW5nOiA1cHggMDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgLmR0IHtcbiAgICAgICAgICB3aWR0aDogNTBweDtcbiAgICAgICAgICBjb2xvcjogIzk5OTk5OTtcbiAgICAgICAgfVxuICAgICAgICAuZGQge1xuICAgICAgICAgIGNvbG9yOiAjMDAwMDAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLnBhbmVsLWNhbnZhcyB7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICBwYWRkaW5nLWJvdHRvbTogMTAwJTtcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgICAuZHJhdy1hcmVhIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICBib3JkZXI6IDFweCBkYXNoZWQgIzAwMDAwMDtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmOTtcbiAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KFxuICAgICAgICAgICAgNDVkZWcsXG4gICAgICAgICAgICAjZDlkOWQ5IDI1JSxcbiAgICAgICAgICAgIHRyYW5zcGFyZW50IDI1JSxcbiAgICAgICAgICAgIHRyYW5zcGFyZW50IDc1JSxcbiAgICAgICAgICAgICNkOWQ5ZDkgNzUlLFxuICAgICAgICAgICAgI2Q5ZDlkOVxuICAgICAgICAgICksXG4gICAgICAgICAgbGluZWFyLWdyYWRpZW50KFxuICAgICAgICAgICAgNDVkZWcsXG4gICAgICAgICAgICAjZDlkOWQ5IDI1JSxcbiAgICAgICAgICAgIHRyYW5zcGFyZW50IDI1JSxcbiAgICAgICAgICAgIHRyYW5zcGFyZW50IDc1JSxcbiAgICAgICAgICAgICNkOWQ5ZDkgNzUlLFxuICAgICAgICAgICAgI2Q5ZDlkOVxuICAgICAgICAgICk7XG4gICAgICAgIGJhY2tncm91bmQtc2l6ZTogMjBweCAyMHB4O1xuICAgICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIDAsIDEwcHggMTBweDtcbiAgICAgICAgPiBjYW52YXMge1xuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXX0= */\";","import { Component, OnInit, ElementRef, ViewChildren, QueryList } from '@angular/core';\nimport { BlobImageResize, ResizeType } from 'projects/packages/src/public-api';\n\ninterface Info {\n  title: string;\n  type: string;\n  size: number;\n  width: number;\n  height: number;\n}\n\n@Component({\n  selector: 'demo-blob-image',\n  templateUrl: './blob-image.component.html',\n  styleUrls: ['./blob-image.component.scss'],\n})\nexport class BlobImageComponent implements OnInit {\n  constructor() {}\n\n  infos: Info[];\n  optionWidths: { label: string; value: number }[];\n  optionHeights: { label: string; value: number }[];\n  optionQualities: { label: string; value: number }[];\n  testWidth: number = 200;\n  testHeight: number = 0;\n  testQuality: number = 0.9;\n  testContentType: string = '';\n  testFillBgColor: string = '';\n  testApplyOrientation: boolean = false;\n\n  @ViewChildren('demoCanvasRefs') demoCanvasRefs: QueryList<ElementRef<HTMLCanvasElement>>;\n  demoList: any[];\n\n  ngOnInit() {\n    this.optionWidths = Array.from(Array(10)).map((a, b) => {\n      const index = b; // + 1;\n      const size = 100 * index;\n      return { value: size, label: size.toString() };\n    });\n    this.optionHeights = Array.from(Array(10)).map((a, b) => {\n      const index = b; // + 1;\n      const size = 100 * index;\n      return { value: size, label: size.toString() };\n    });\n    this.optionQualities = Array.from(Array(10)).map((a, b) => {\n      const index = b + 1;\n      const size = parseFloat((0.1 * index).toFixed(1));\n      return { value: size, label: size.toString() };\n    });\n    this.demoList = [\n      { title: 'original', info: null, resizeType: null },\n      { title: 'resize - fixed', info: null, resizeType: ResizeType.FIXED },\n      { title: 'resize - scale', info: null, resizeType: ResizeType.SCALE },\n      { title: 'resize - scale stretch', info: null, resizeType: ResizeType.SCALE_STRETCH },\n      { title: 'resize - cover', info: null, resizeType: ResizeType.COVER },\n      { title: 'resize - cover stretch', info: null, resizeType: ResizeType.COVER_STRETCH },\n    ];\n  }\n\n  onFileChange(evt) {\n    const { files = [] } = (evt && evt.target) || {};\n    const file = files[0];\n    if (!file) return;\n    this.resizeStart(file);\n    evt.target.value = null;\n  }\n\n  async resizeStart(file: File) {\n    this.infos = [];\n    const originalBlob = new Blob([file], { type: file.type });\n    const len = this.demoList.length;\n    const refCanvasList = this.demoCanvasRefs.toArray();\n    for (let i = 0; i < len; i++) {\n      const demo = this.demoList[i];\n      const { nativeElement } = refCanvasList[i];\n      const info = await this.drawResizeDemo(nativeElement, originalBlob, demo.resizeType);\n      demo.info = {\n        ...info,\n        title: demo.title,\n      };\n    }\n  }\n\n  private async drawResizeDemo(canvas: HTMLCanvasElement, blob: Blob, resizeType: ResizeType) {\n    const expectWidth = this.testWidth;\n    const expectHeight = this.testHeight;\n    const expectContentType = this.testContentType || undefined;\n    const quality = this.testQuality;\n    const fillBgColor = this.testFillBgColor || undefined;\n    const applyOrientation = this.testApplyOrientation || false;\n    let resizeBlob: Blob = blob;\n    let resizeCanvas: HTMLCanvasElement;\n    let resizeWidth: number = 0;\n    let resizeHeight: number = 0;\n    if (ResizeType[resizeType]) {\n      const resizer = new BlobImageResize(blob, {\n        expectWidth,\n        expectHeight,\n        quality,\n        resizeType,\n        expectContentType,\n        fillBgColor,\n        applyOrientation,\n      });\n      const resizeResult = await resizer.create();\n      resizeBlob = resizeResult.blob;\n      resizeWidth = resizeResult.width;\n      resizeHeight = resizeResult.height;\n      resizeCanvas = await this.drawToCanvas(canvas, {\n        blob: resizeBlob,\n        width: resizeWidth,\n        height: resizeHeight,\n      });\n      console.log(resizeResult);\n    } else {\n      // original ...\n      resizeBlob = blob;\n      resizeCanvas = await this.drawToCanvas(canvas, {\n        blob: resizeBlob,\n        width: 0,\n        height: 0,\n      });\n    }\n    return Promise.resolve({\n      size: resizeBlob.size,\n      type: resizeBlob.type,\n      width: resizeCanvas.width,\n      height: resizeCanvas.height,\n    });\n  }\n\n  private async drawToCanvas(\n    canvas: HTMLCanvasElement,\n    draw: { blob: Blob; width: number; height: number }\n  ): Promise<HTMLCanvasElement> {\n    return new Promise((resolve) => {\n      const { blob, width, height } = draw;\n      const context = canvas.getContext('2d');\n      const image = new Image();\n      image.onload = () => {\n        canvas.width = width || image.naturalWidth;\n        canvas.height = height || image.naturalHeight;\n        context.drawImage(image, 0, 0);\n        URL.revokeObjectURL(image.src);\n        resolve(canvas);\n      };\n      image.onerror = () => {\n        console.error('image load error');\n        URL.revokeObjectURL(image.src);\n        resolve(canvas);\n      };\n      image.src = URL.createObjectURL(blob);\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RoutingModule } from '~/dev/app/pages/demo/demo.routing';\nimport { SharedModule } from '~/dev/app/shared/shared.module';\nimport { ExampleCommonModule } from '~/dev/app/modules/example/common/common.module';\nimport { ReadStreamComponent } from './read-stream/read-stream.component';\nimport { BlobImageComponent } from './blob-image/blob-image.component';\n\n@NgModule({\n  imports: [CommonModule, RoutingModule, SharedModule, ExampleCommonModule],\n  declarations: [ReadStreamComponent, BlobImageComponent],\n})\nexport class PageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ReadStreamComponent } from './read-stream/read-stream.component';\nimport { BlobImageComponent } from './blob-image/blob-image.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    children: [\n      {\n        path: 'read-stream',\n        component: ReadStreamComponent,\n      },\n      {\n        path: 'blob-image',\n        component: BlobImageComponent,\n      },\n      {\n        path: '**',\n        component: ReadStreamComponent,\n      },\n    ],\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RoutingModule {}\n","export default \".partition {\\n  display: block;\\n  margin: 30px 0;\\n  padding: 0;\\n  height: 1px;\\n  border: none;\\n  background-color: #eeeeee;\\n}\\n\\n.print-stack .stack-opt {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.print-stack .stack-opt .spacer {\\n  flex: 1;\\n}\\n\\n.print-stack .stack-count {\\n  padding: 5px 0;\\n  text-align: right;\\n  font-size: 14px;\\n}\\n\\n.print-stack .stack-list {\\n  display: block;\\n  margin-top: 5px;\\n  height: 400px;\\n  overflow: auto;\\n  border: 1px solid #999999;\\n}\\n\\n.print-stack .stack-item {\\n  display: flex;\\n  align-items: center;\\n  margin: 3px;\\n  padding: 5px;\\n  font-size: 14px;\\n  border: 1px solid #cccccc;\\n  box-sizing: border-box;\\n}\\n\\n.print-stack .stack-item .aside {\\n  width: 90px;\\n}\\n\\n.print-stack .stack-item .bside {\\n  flex: 1;\\n  display: flex;\\n  flex-wrap: wrap;\\n}\\n\\n.print-stack .stack-item .label {\\n  flex: 1;\\n}\\n\\n.print-stack .stack-item .label .dt {\\n  display: block;\\n  font-size: 12px;\\n  color: #888888;\\n}\\n\\n.print-stack .stack-item .label .dd {\\n  display: block;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2Rldi9zcmMvYXBwL3BhZ2VzL2RlbW8vcmVhZC1zdHJlYW0vcmVhZC1zdHJlYW0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFBO0VBQ0EsY0FBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLHlCQUFBO0FBQ0Y7O0FBR0U7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7QUFBSjs7QUFDSTtFQUNFLE9BQUE7QUFDTjs7QUFFRTtFQUNFLGNBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7QUFBSjs7QUFFRTtFQUNFLGNBQUE7RUFDQSxlQUFBO0VBQ0EsYUFBQTtFQUNBLGNBQUE7RUFDQSx5QkFBQTtBQUFKOztBQUVFO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0VBQ0EseUJBQUE7RUFDQSxzQkFBQTtBQUFKOztBQUVJO0VBQ0UsV0FBQTtBQUFOOztBQUVJO0VBQ0UsT0FBQTtFQUNBLGFBQUE7RUFDQSxlQUFBO0FBQU47O0FBRUk7RUFDRSxPQUFBO0FBQU47O0FBQ007RUFDRSxjQUFBO0VBQ0EsZUFBQTtFQUNBLGNBQUE7QUFDUjs7QUFDTTtFQUNFLGNBQUE7QUFDUiIsImZpbGUiOiJwcm9qZWN0cy9kZXYvc3JjL2FwcC9wYWdlcy9kZW1vL3JlYWQtc3RyZWFtL3JlYWQtc3RyZWFtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnBhcnRpdGlvbiB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW46IDMwcHggMDtcbiAgcGFkZGluZzogMDtcbiAgaGVpZ2h0OiAxcHg7XG4gIGJvcmRlcjogbm9uZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VlZWVlZTtcbn1cblxuLnByaW50LXN0YWNrIHtcbiAgLnN0YWNrLW9wdCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIC5zcGFjZXIge1xuICAgICAgZmxleDogMTtcbiAgICB9XG4gIH1cbiAgLnN0YWNrLWNvdW50IHtcbiAgICBwYWRkaW5nOiA1cHggMDtcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gIH1cbiAgLnN0YWNrLWxpc3Qge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1hcmdpbi10b3A6IDVweDtcbiAgICBoZWlnaHQ6IDQwMHB4O1xuICAgIG92ZXJmbG93OiBhdXRvO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICM5OTk5OTk7XG4gIH1cbiAgLnN0YWNrLWl0ZW0ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBtYXJnaW46IDNweDtcbiAgICBwYWRkaW5nOiA1cHg7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2NjY2M7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcblxuICAgIC5hc2lkZSB7XG4gICAgICB3aWR0aDogOTBweDtcbiAgICB9XG4gICAgLmJzaWRlIHtcbiAgICAgIGZsZXg6IDE7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC13cmFwOiB3cmFwO1xuICAgIH1cbiAgICAubGFiZWwge1xuICAgICAgZmxleDogMTtcbiAgICAgIC5kdCB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIGNvbG9yOiAjODg4ODg4O1xuICAgICAgfVxuICAgICAgLmRkIHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport {\n  FileReadStream,\n  FileReadEventType,\n  FileReadEvent,\n  FileReadResponseType,\n} from 'projects/packages/src/public-api';\n\n@Component({\n  selector: 'demo-read-stream',\n  templateUrl: './read-stream.component.html',\n  styleUrls: ['./read-stream.component.scss'],\n})\nexport class ReadStreamComponent implements OnInit {\n  constructor() {}\n\n  reader: FileReadStream;\n  optionChunks = [];\n  optionResponseTypes = [];\n  testChunk = 1024;\n  testResponseType = FileReadResponseType.BLOB;\n  changeStack: FileReadEvent[] = [];\n  changeStackCount: number = 0;\n  changeStackDisplayMax: number = 50;\n\n  ngOnInit() {\n    this.optionResponseTypes = [\n      { label: 'BLOB', value: FileReadResponseType.BLOB },\n      { label: 'BUFFER', value: FileReadResponseType.BUFFER },\n    ];\n    this.optionChunks = Array.from(Array(8)).map((a, b) => {\n      const index = b + 1;\n      const byte = Math.pow(index * index * 32, 2);\n      const kb = byte / 1024;\n      const mb = kb / 1024;\n      const label = mb < 1 ? `${kb}kb` : `${mb.toFixed(2)}mb`;\n      return {\n        value: byte,\n        label,\n      };\n    });\n    this.testChunk = this.optionChunks[1].value;\n  }\n\n  onFileChange(evt) {\n    const { files = [] } = (evt && evt.target) || {};\n    const file = files[0];\n    if (!file) return;\n    this.readStart(file);\n    evt.target.value = null;\n  }\n\n  onFileAbort() {\n    if (this.reader) {\n      this.reader.abort();\n      this.reader.destroy();\n      this.reader = null;\n    }\n  }\n\n  readStart(file: File) {\n    this.changeStack = [];\n    this.changeStackCount = 0;\n    if (this.reader) {\n      this.reader.destroy();\n      this.reader = null;\n    }\n    this.reader = new FileReadStream(file, {\n      chunkSize: this.testChunk,\n      responseType: this.testResponseType,\n    });\n    this.reader.observeState().subscribe((evt) => {\n      const { type, state } = evt;\n      this.changeStackCount++;\n      this.changeStack.push({ type, state });\n      if (this.changeStackDisplayMax < this.changeStack.length) {\n        this.changeStack.shift();\n      }\n      switch (type) {\n        case FileReadEventType.RESOLVE:\n        case FileReadEventType.REJECT:\n          console.log(state);\n          this.reader.destroy();\n          this.reader = null;\n          break;\n      }\n    });\n    this.reader.start().catch((err) => console.log(err));\n  }\n}\n"]}